var to=Object.defineProperty;var no=(e,n,t)=>n in e?to(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var We=(e,n,t)=>no(e,typeof n!="symbol"?n+"":n,t);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();const ro="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20384%20512'%3e%3c!--!Font%20Awesome%20Free%206.5.2%20by%20@fontawesome%20-%20https://fontawesome.com%20License%20-%20https://fontawesome.com/license/free%20Copyright%202024%20Fonticons,%20Inc.--%3e%3cpath%20d='M73%2039c-14.8-9.1-33.4-9.4-48.5-.9S0%2062.6%200%2080V432c0%2017.4%209.4%2033.4%2024.5%2041.9s33.7%208.1%2048.5-.9L361%20297c14.3-8.7%2023-24.2%2023-41s-8.7-32.2-23-41L73%2039z'/%3e%3c/svg%3e",ao="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20320%20512'%3e%3c!--!Font%20Awesome%20Free%206.5.2%20by%20@fontawesome%20-%20https://fontawesome.com%20License%20-%20https://fontawesome.com/license/free%20Copyright%202024%20Fonticons,%20Inc.--%3e%3cpath%20d='M48%2064C21.5%2064%200%2085.5%200%20112V400c0%2026.5%2021.5%2048%2048%2048H80c26.5%200%2048-21.5%2048-48V112c0-26.5-21.5-48-48-48H48zm192%200c-26.5%200-48%2021.5-48%2048V400c0%2026.5%2021.5%2048%2048%2048h32c26.5%200%2048-21.5%2048-48V112c0-26.5-21.5-48-48-48H240z'/%3e%3c/svg%3e",kn={play:"play",pause:"pause"},Fr={start:"start",end:"end"},Qn={up:"up",down:"down"},wn={start:"start",end:"end"},an=window.devicePixelRatio||1,so=1e4/4,w1={audioData:null,audioGain:0,audioStart:0,audioEnd:0},Ns={play:ro,pause:ao},At={sampleRate:48e3,kbps:192,channels:2,sampleBlockSize:576*2,padSecond:1.5},yr=class yr{constructor(){}static init(n){yr.info=[];for(let t of n){for(let[r,i]of Object.entries(w1))t[r]||(t[r]=i);yr.info.push(t)}}};We(yr,"info",null);let _t=yr;const Jn=class Jn{constructor(){}static addListener(){this.start.addEventListener("input",n=>Jn.changeValue(n,wn.start)),this.end.addEventListener("input",n=>Jn.changeValue(n,wn.end))}static changeValue(n,t){if(Xe.current.idx===null)return;const r=_t.info[Xe.current.idx],i=r.audioData.duration,s=n.target.value,o=i/2*s/100/an;t===wn.start?(r.audioStart=o,Xe.current.offset<o&&(Xe.current.offset=o),En.drawStatus(null,o,null)):t===wn.end&&(r.audioEnd=o,Xe.current.offset>i-o&&(Xe.current.offset=i-o),En.drawStatus(null,null,o))}static setValue(n,t){n===wn.start?this.start.value=t:n===wn.end&&(this.end.value=t)}static disable(){this.start.disabled=!0,this.end.disabled=!0}static enable(){this.start.disabled=!1,this.end.disabled=!1}};We(Jn,"start",document.querySelector("#start-range")),We(Jn,"end",document.querySelector("#end-range"));let An=Jn;const Sn=class Sn{static addListener(){this.btn.addEventListener("click",Sn.playMusic)}static setPlay(){this.btn.dataset.status=kn.play,this.img.src=Ns.pause}static setPause(){this.btn.dataset.status=kn.pause,this.img.src=Ns.play}static playMusic(){if(Xe.current.idx===null)return;const t=Sn.btn.dataset.status,r=document.querySelector(`[data-id="${Xe.current.idx}"] .music-upload-btn`);if(t===kn.pause){An.disable(),Xe.play(Xe.current.offset);const i=Xe.current.context.currentTime;Xe.moveOffset(i),Sn.setPlay(),r.classList.add("disabled-click")}else t===kn.play&&(An.enable(),Xe.stop(),Xe.cancelOffset(),Sn.setPause(),r.classList.remove("disabled-click"))}};We(Sn,"btn",document.querySelector("#audio-play")),We(Sn,"img",document.querySelector("#audio-play img"));let qn=Sn;const er=class er{static addListener(){this.status.addEventListener("click",n=>er.seek(n))}static initHeight(){const n=this.wrapper.clientHeight;this.spectrum.height=n*an,this.spectrum.style.height=`${n}px`,this.status.height=n*an,this.status.style.height=`${n}px`}static setWidth(n){this.spectrum.width=n*an,this.spectrum.style.width=`${n}px`,this.status.width=n*an,this.status.style.width=`${n}px`}static seek(n){const t=n.offsetX,r=Xe.current.idx,i=_t.info[r],s=i.audioData.duration,o=t/n.target.width*s*an;if(o<i.audioStart||o>s-i.audioEnd)return;Xe.seek(o),Xe.cancelOffset();const v=qn.btn.dataset.status;if(v===kn.play){const c=Xe.current.context.currentTime;Xe.moveOffset(c)}else v===kn.pause&&(Xe.current.offset=o,En.drawStatus(o,null,null))}};We(er,"wrapper",document.querySelector("#canvas-wrapper")),We(er,"spectrum",document.querySelector("#audio-canvas")),We(er,"status",document.querySelector("#audio-status"));let on=er;class En{constructor(){}static drawSpectrum(n){const t=_t.info[n],r=t.audioData,i=t.audioGain,s=Xe.getMonoChannelData(r),o=so,v=Math.ceil(s.length/o);on.setWidth(v);const c=on.spectrum,C=c.getContext("2d"),l=this.color.spectrum;C.clearRect(0,0,c.width,c.height),C.fillStyle=l;let f=0;for(let S=0;S<c.width;S++){let H=0;for(let p=0;p<o;p++)H+=Math.abs(s[f]),f++;const U=H/o,D=i*2,w=U<.005?1:U*c.height*D;C.fillRect(S*an,c.height/2-w/2,an,w)}C.fillRect(c.width-an,c.height/2-2/2,an,2)}static drawStatus(n=null,t=null,r=null){const i=_t.info[Xe.current.idx],s=i.audioData.duration,o=n||Xe.current.offset,v=t||i.audioStart,c=r||i.audioEnd,C=on.status,l=C.getContext("2d"),f=this.timeToPx(o,s,C.width),S=this.timeToPx(v,s,C.width),H=this.timeToPx(c,s,C.width);l.clearRect(0,0,C.width,C.height),l.fillStyle=this.color.diselect,l.fillRect(0,0,S,C.height),l.fillRect(C.width-H,0,H,C.height),l.fillStyle=this.color.offset,l.fillRect(f,0,1,C.height)}static timeToPx(n,t,r){return n/t*r}}We(En,"color",{spectrum:window.getComputedStyle(document.body).getPropertyValue("--color-950"),offset:window.getComputedStyle(document.body).getPropertyValue("--status-bar-color"),diselect:window.getComputedStyle(document.body).getPropertyValue("--deselect-region-color")});class Xe{constructor(){}static async setSource(n,t){this.current.source&&this.stop();const r=_t.info[n],i=await this.getAudioData(t),s=this.calculateGain(i);r.audioData=i,r.audioGain=s,r.audioStart=0,r.audioEnd=0}static play(n){const t=this.current.idx;if(t===null)return;const r=this.current.context,i=_t.info[t];this.current.source&&(this.current.source.stop(),this.current.source=null),this.current.source=r.createBufferSource(),this.current.source.buffer=i.audioData;const s=r.createGain();s.gain.value=i.audioGain/3,this.current.source.connect(s),s.connect(r.destination),this.current.source.start(0,n),this.current.start=r.currentTime}static stop(){this.current.source&&(this.current.source.stop(),this.current.source=null),this.current.start=0}static seek(n){this.stop(),this.current.offset=n;const t=qn.btn.dataset.status;t===kn.play?this.play(n):t===kn.pause&&(this.current.start=0,this.current.source=null)}static async getAudioData(n){return await new AudioContext().decodeAudioData(n)}static getMonoChannelData(n){let t;if(n.numberOfChannels===2){const r=n.getChannelData(0),i=n.getChannelData(1);let s=new Float32Array(r.length);for(let o=0;o<r.length;o++)s[o]=(r[o]+i[o])/2;t=s}else n.numberOfChannels===1&&(t=n.getChannelData(0));return t}static calculateRMSDecibel(n,t=null,r=null){const i=this.getMonoChannelData(n),s=n.sampleRate,o=t!==null?Math.round(s*t):0,v=r!==null?Math.round(s*r):i.length;let c=0;for(let H=o;H<v;H++)c+=Math.pow(i[H],2);const C=1,l=c/(v-o),f=Math.sqrt(l);return 20*Math.log10(f/C)}static calculateGain(n,t=null,r=null){const o=-9-this.calculateRMSDecibel(n,t,r);return Math.pow(10,o/20)}static moveOffset(n){if(this.current.idx===null)return;const r=this.current.context.currentTime,i=this.current.offset+r-n;this.current.offset=i;const s=_t.info[this.current.idx],o=s.audioData.duration,v=s.audioEnd;if(i>o-v){this.stopOffset();return}En.drawStatus(i,null,null),this.reqId=requestAnimationFrame(()=>{this.moveOffset(r)})}static cancelOffset(){this.reqId&&cancelAnimationFrame(this.reqId),this.reqId=null}static stopOffset(){const n=_t.info[this.current.idx].audioStart;this.current.offset=n,this.cancelOffset(),En.drawStatus(n,null,null),qn.btn.click()}}We(Xe,"current",{context:new AudioContext,idx:null,source:null,start:0,offset:0}),We(Xe,"reqId",null);function io(e){if(e.target.closest(".btn"))return;const t=e.target.closest(".playlist-item");if(t==gt.clicked)return;const r=document.querySelectorAll(".playlist-item");for(let o of r){o.classList.contains("item-clicked")&&o.classList.remove("item-clicked");const v=o.querySelector(".music-upload-btn");v.classList.contains("disabled-click")&&v.classList.remove("disabled-click")}t.classList.add("item-clicked"),gt.clicked=t;const i=parseInt(t.dataset.id),s=_t.info[i];oo(s),s.audioData!==null&&x1(i,s)}function oo(e){Xe.current.source&&(Xe.current.source.stop(),Xe.current.source=null,An.enable()),Xe.cancelOffset(),qn.setPause(),e.audioData===null&&on.setWidth(0)}function x1(e,n){Xe.current.idx=e;const t=n.audioData.duration,r=n.audioStart,i=n.audioEnd;En.drawSpectrum(e);const s=n.audioStart;Xe.current.offset=s,En.drawStatus(s,null,null),An.setValue(wn.start,r/(t/2)*100),An.setValue(wn.end,i/(t/2)*100)}function lo(e){gt.selected=y1(e),gt.selected&&gt.selected.classList.add("item-selected")}function co(e){e.preventDefault();const n=y1(e),t=gt.over,r=gt.selected;n!=t&&(t&&t.classList.remove("item-over"),n!=r&&(n==null||n.classList.add("item-over"),gt.over=n))}function fo(e){const n=gt.playlist,t=gt.over,r=gt.selected;this==n&&(r&&r.classList.remove("item-selected"),t&&(t.classList.remove("item-over"),t.parentNode.insertBefore(r,t))),gt.over=null,S1()}function Fs(e,n){const t=document.querySelectorAll(".playlist-item"),r=e.target.closest(".playlist-item"),i=Array.from(t).indexOf(r);if(i==0&&n==Qn.up||i==t.length-1&&n==Qn.down)return;let s;n==Qn.up?s=t[i-1]:n==Qn.down&&(s=t[i+2]),r.parentNode.insertBefore(r,s),S1()}function y1(e){const n=e.clientX,t=e.clientY,r=document.querySelectorAll(".playlist-item");for(let i of r){const s=i.getBoundingClientRect();if(s.left<n&&n<s.right&&s.top<t&&t<s.bottom)return i}return null}function _o(e){ht.enable(),ht.setStatusMsg("노래를 업로드 하는 중입니다...");const n=e.target.files[0],t=e.target.closest(".playlist-item"),r=parseInt(t.dataset.id),i=new FileReader;i.onload=async function(){const o=i.result;await Xe.setSource(r,o),s(n.name),gt.clicked===t&&x1(r,_t.info[r]),ht.disable()},i.readAsArrayBuffer(n);function s(o){const v=t.querySelector(".music-file-name");v.textContent=o}}function S1(){const e=document.querySelectorAll(".playlist-item");Array.from(e).forEach((n,t)=>{const r=n.querySelector(".music-order");r.textContent=(t+1).toString()})}const nn=class nn{constructor(){}static createDiv(n,t){const r=document.createElement("div"),i=document.querySelector("#playlist-item-template").content.cloneNode(!0);r.draggable=!0,r.append(i),r.classList.add("playlist-item");const s=r.querySelector(".music-title");s.textContent=n.songNameKor;const o=r.querySelector(".music-order");o.textContent=t+1,nn.playlist.append(r),r.setAttribute("data-id",t),r.addEventListener("click",io);const v=r.querySelector(".music-upload-btn"),c=r.querySelector(".move-up"),C=r.querySelector(".move-down"),l=r.querySelector('input[type="file"]');v.addEventListener("click",()=>{l.click()}),c.addEventListener("click",f=>Fs(f,Qn.up)),C.addEventListener("click",f=>Fs(f,Qn.down)),l.addEventListener("change",f=>_o(f))}static addListeners(){nn.playlist.addEventListener("dragstart",lo),nn.playlist.addEventListener("dragover",co),nn.playlist.addEventListener("dragend",fo)}};We(nn,"playlist",document.querySelector("#playlist-wrapper")),We(nn,"selected",null),We(nn,"clicked",null),We(nn,"over",null);let gt=nn;const Kt=class Kt{constructor(){}static addListener(){this.uploadBtn.addEventListener("click",()=>{this.fileInput.click()}),this.fileInput.addEventListener("change",n=>this.uploadJsonFile(n))}static uploadJsonFile(n){const t=n.target.files[0];Kt.jsonFileName=t.name;const r=new FileReader;r.readAsText(t),r.onload=i=>{const s=JSON.parse(i.target.result);_t.init(s),Kt.disable(),Kt.jsonWrapper.remove(),_t.info.forEach((o,v)=>{gt.createDiv(o,v)})}}static disable(){this.progress.innerHTML="",this.loading.classList.add("disable-loading")}static enable(){this.progress.innerHTML="",this.loading.classList.remove("disable-loading")}static setStatusMsg(n){this.progress.innerHTML=n}};We(Kt,"loading",document.querySelector("#loading")),We(Kt,"jsonWrapper",document.querySelector("#json-file-wrapper")),We(Kt,"uploadBtn",document.querySelector("#upload-json-file")),We(Kt,"fileInput",document.querySelector("#json-file-input")),We(Kt,"progress",document.querySelector("#loading-progress")),We(Kt,"jsonFileName",null);let ht=Kt;const tr=class tr{constructor(){}static addListener(){this.forward.addEventListener("click",n=>tr.scrollTo(n,Fr.start)),this.backward.addEventListener("click",n=>tr.scrollTo(n,Fr.end))}static scrollTo(n,t){if(n.preventDefault(),Xe.current.idx===null)return;let r;t===Fr.start?r=0:t===Fr.end&&(r=on.wrapper.scrollWidth),on.wrapper.scrollLeft=r}};We(tr,"forward",document.querySelector("#move-forward")),We(tr,"backward",document.querySelector("#move-backward"));let as=tr;const Sr=15,ss=30,is=19,uo=29,oa=256,ps=oa+1+uo,js=2*ps+1,pr=256,po=7,Vs=16,qs=17,Hs=18,Ta=8*2,la=-1,mo=1,jr=2,ho=0,Kn=0,Xs=1,bo=3,Mt=4,zt=0,k1=1,Vr=2,Qt=-2,vo=-3,Yn=-5;function _a(e){return ua(e.map(([n,t])=>new Array(n).fill(t,0,n)))}function ua(e){return e.reduce((n,t)=>n.concat(Array.isArray(t)?ua(t):t),[])}const Ys=[0,1,2,3].concat(..._a([[2,4],[2,5],[4,6],[4,7],[8,8],[8,9],[16,10],[16,11],[32,12],[32,13],[64,14],[64,15],[2,0],[1,16],[1,17],[2,18],[2,19],[4,20],[4,21],[8,22],[8,23],[16,24],[16,25],[32,26],[32,27],[64,28],[64,29]]));function $e(){const e=this;function n(i){const s=e.dyn_tree,o=e.stat_desc.static_tree,v=e.stat_desc.extra_bits,c=e.stat_desc.extra_base,C=e.stat_desc.max_length;let l,f,S,H,U,D,w=0;for(H=0;H<=Sr;H++)i.bl_count[H]=0;for(s[i.heap[i.heap_max]*2+1]=0,l=i.heap_max+1;l<js;l++)f=i.heap[l],H=s[s[f*2+1]*2+1]+1,H>C&&(H=C,w++),s[f*2+1]=H,!(f>e.max_code)&&(i.bl_count[H]++,U=0,f>=c&&(U=v[f-c]),D=s[f*2],i.opt_len+=D*(H+U),o&&(i.static_len+=D*(o[f*2+1]+U)));if(w!==0){do{for(H=C-1;i.bl_count[H]===0;)H--;i.bl_count[H]--,i.bl_count[H+1]+=2,i.bl_count[C]--,w-=2}while(w>0);for(H=C;H!==0;H--)for(f=i.bl_count[H];f!==0;)S=i.heap[--l],!(S>e.max_code)&&(s[S*2+1]!=H&&(i.opt_len+=(H-s[S*2+1])*s[S*2],s[S*2+1]=H),f--)}}function t(i,s){let o=0;do o|=i&1,i>>>=1,o<<=1;while(--s>0);return o>>>1}function r(i,s,o){const v=[];let c=0,C,l,f;for(C=1;C<=Sr;C++)v[C]=c=c+o[C-1]<<1;for(l=0;l<=s;l++)f=i[l*2+1],f!==0&&(i[l*2]=t(v[f]++,f))}e.build_tree=function(i){const s=e.dyn_tree,o=e.stat_desc.static_tree,v=e.stat_desc.elems;let c,C,l=-1,f;for(i.heap_len=0,i.heap_max=js,c=0;c<v;c++)s[c*2]!==0?(i.heap[++i.heap_len]=l=c,i.depth[c]=0):s[c*2+1]=0;for(;i.heap_len<2;)f=i.heap[++i.heap_len]=l<2?++l:0,s[f*2]=1,i.depth[f]=0,i.opt_len--,o&&(i.static_len-=o[f*2+1]);for(e.max_code=l,c=Math.floor(i.heap_len/2);c>=1;c--)i.pqdownheap(s,c);f=v;do c=i.heap[1],i.heap[1]=i.heap[i.heap_len--],i.pqdownheap(s,1),C=i.heap[1],i.heap[--i.heap_max]=c,i.heap[--i.heap_max]=C,s[f*2]=s[c*2]+s[C*2],i.depth[f]=Math.max(i.depth[c],i.depth[C])+1,s[c*2+1]=s[C*2+1]=f,i.heap[1]=f++,i.pqdownheap(s,1);while(i.heap_len>=2);i.heap[--i.heap_max]=i.heap[1],n(i),r(s,e.max_code,i.bl_count)}}$e._length_code=[0,1,2,3,4,5,6,7].concat(..._a([[2,8],[2,9],[2,10],[2,11],[4,12],[4,13],[4,14],[4,15],[8,16],[8,17],[8,18],[8,19],[16,20],[16,21],[16,22],[16,23],[32,24],[32,25],[32,26],[31,27],[1,28]]));$e.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0];$e.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576];$e.d_code=function(e){return e<256?Ys[e]:Ys[256+(e>>>7)]};$e.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0];$e.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];$e.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7];$e.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];function bt(e,n,t,r,i){const s=this;s.static_tree=e,s.extra_bits=n,s.extra_base=t,s.elems=r,s.max_length=i}const go=[12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254,1,129,65,193,33,161,97,225,17,145,81,209,49,177,113,241,9,137,73,201,41,169,105,233,25,153,89,217,57,185,121,249,5,133,69,197,37,165,101,229,21,149,85,213,53,181,117,245,13,141,77,205,45,173,109,237,29,157,93,221,61,189,125,253,19,275,147,403,83,339,211,467,51,307,179,435,115,371,243,499,11,267,139,395,75,331,203,459,43,299,171,427,107,363,235,491,27,283,155,411,91,347,219,475,59,315,187,443,123,379,251,507,7,263,135,391,71,327,199,455,39,295,167,423,103,359,231,487,23,279,151,407,87,343,215,471,55,311,183,439,119,375,247,503,15,271,143,399,79,335,207,463,47,303,175,431,111,367,239,495,31,287,159,415,95,351,223,479,63,319,191,447,127,383,255,511,0,64,32,96,16,80,48,112,8,72,40,104,24,88,56,120,4,68,36,100,20,84,52,116,3,131,67,195,35,163,99,227],wo=_a([[144,8],[112,9],[24,7],[8,8]]);bt.static_ltree=ua(go.map((e,n)=>[e,wo[n]]));const xo=[0,16,8,24,4,20,12,28,2,18,10,26,6,22,14,30,1,17,9,25,5,21,13,29,3,19,11,27,7,23],yo=_a([[30,5]]);bt.static_dtree=ua(xo.map((e,n)=>[e,yo[n]]));bt.static_l_desc=new bt(bt.static_ltree,$e.extra_lbits,oa+1,ps,Sr);bt.static_d_desc=new bt(bt.static_dtree,$e.extra_dbits,0,ss,Sr);bt.static_bl_desc=new bt(null,$e.extra_blbits,0,is,po);const So=9,ko=8;function en(e,n,t,r,i){const s=this;s.good_length=e,s.max_lazy=n,s.nice_length=t,s.max_chain=r,s.func=i}const A1=0,ra=1,Fn=2,Zt=[new en(0,0,0,0,A1),new en(4,4,8,4,ra),new en(4,5,16,8,ra),new en(4,6,32,32,ra),new en(4,4,16,16,Fn),new en(8,16,32,32,Fn),new en(8,16,128,128,Fn),new en(8,32,128,256,Fn),new en(32,128,258,1024,Fn),new en(32,258,258,4096,Fn)],qr=["need dictionary","stream end","","","stream error","data error","","buffer error","",""],Vt=0,Hr=1,mr=2,Xr=3,Ao=32,Ma=42,Yr=113,hr=666,Ba=8,Eo=0,Ca=1,Ro=2,rt=3,aa=258,Nt=aa+rt+1;function Us(e,n,t,r){const i=e[n*2],s=e[t*2];return i<s||i==s&&r[n]<=r[t]}function To(){const e=this;let n,t,r,i,s,o,v,c,C,l,f,S,H,U,D,w,p,_,b,A,a,u,x,T,V,I,L,te,M,d,P,X,W;const G=new $e,J=new $e,q=new $e;e.depth=[];let y,h,m,E,j,$;e.bl_count=[],e.heap=[],P=[],X=[],W=[];function ae(){C=2*s,f[H-1]=0;for(let k=0;k<H-1;k++)f[k]=0;I=Zt[L].max_lazy,M=Zt[L].good_length,d=Zt[L].nice_length,V=Zt[L].max_chain,a=0,p=0,x=0,_=T=rt-1,A=0,S=0}function z(){let k;for(k=0;k<ps;k++)P[k*2]=0;for(k=0;k<ss;k++)X[k*2]=0;for(k=0;k<is;k++)W[k*2]=0;P[pr*2]=1,e.opt_len=e.static_len=0,h=m=0}function ee(){G.dyn_tree=P,G.stat_desc=bt.static_l_desc,J.dyn_tree=X,J.stat_desc=bt.static_d_desc,q.dyn_tree=W,q.stat_desc=bt.static_bl_desc,j=0,$=0,E=8,z()}e.pqdownheap=function(k,F){const Y=e.heap,R=Y[F];let Z=F<<1;for(;Z<=e.heap_len&&(Z<e.heap_len&&Us(k,Y[Z+1],Y[Z],e.depth)&&Z++,!Us(k,R,Y[Z],e.depth));)Y[F]=Y[Z],F=Z,Z<<=1;Y[F]=R};function le(k,F){let Y=-1,R,Z=k[0*2+1],Q=0,K=7,re=4;Z===0&&(K=138,re=3),k[(F+1)*2+1]=65535;for(let ne=0;ne<=F;ne++)R=Z,Z=k[(ne+1)*2+1],!(++Q<K&&R==Z)&&(Q<re?W[R*2]+=Q:R!==0?(R!=Y&&W[R*2]++,W[Vs*2]++):Q<=10?W[qs*2]++:W[Hs*2]++,Q=0,Y=R,Z===0?(K=138,re=3):R==Z?(K=6,re=3):(K=7,re=4))}function ce(){let k;for(le(P,G.max_code),le(X,J.max_code),q.build_tree(e),k=is-1;k>=3&&W[$e.bl_order[k]*2+1]===0;k--);return e.opt_len+=3*(k+1)+5+5+4,k}function be(k){e.pending_buf[e.pending++]=k}function ge(k){be(k&255),be(k>>>8&255)}function ve(k){be(k>>8&255),be(k&255&255)}function pe(k,F){let Y;const R=F;$>Ta-R?(Y=k,j|=Y<<$&65535,ge(j),j=Y>>>Ta-$,$+=R-Ta):(j|=k<<$&65535,$+=R)}function ye(k,F){const Y=k*2;pe(F[Y]&65535,F[Y+1]&65535)}function je(k,F){let Y,R=-1,Z,Q=k[0*2+1],K=0,re=7,ne=4;for(Q===0&&(re=138,ne=3),Y=0;Y<=F;Y++)if(Z=Q,Q=k[(Y+1)*2+1],!(++K<re&&Z==Q)){if(K<ne)do ye(Z,W);while(--K!==0);else Z!==0?(Z!=R&&(ye(Z,W),K--),ye(Vs,W),pe(K-3,2)):K<=10?(ye(qs,W),pe(K-3,3)):(ye(Hs,W),pe(K-11,7));K=0,R=Z,Q===0?(re=138,ne=3):Z==Q?(re=6,ne=3):(re=7,ne=4)}}function pt(k,F,Y){let R;for(pe(k-257,5),pe(F-1,5),pe(Y-4,4),R=0;R<Y;R++)pe(W[$e.bl_order[R]*2+1],3);je(P,k-1),je(X,F-1)}function g(){$==16?(ge(j),j=0,$=0):$>=8&&(be(j&255),j>>>=8,$-=8)}function B(){pe(Ca<<1,3),ye(pr,bt.static_ltree),g(),1+E+10-$<9&&(pe(Ca<<1,3),ye(pr,bt.static_ltree),g()),E=7}function me(k,F){let Y,R,Z;if(e.dist_buf[h]=k,e.lc_buf[h]=F&255,h++,k===0?P[F*2]++:(m++,k--,P[($e._length_code[F]+oa+1)*2]++,X[$e.d_code(k)*2]++),!(h&8191)&&L>2){for(Y=h*8,R=a-p,Z=0;Z<ss;Z++)Y+=X[Z*2]*(5+$e.extra_dbits[Z]);if(Y>>>=3,m<Math.floor(h/2)&&Y<Math.floor(R/2))return!0}return h==y-1}function Se(k,F){let Y,R,Z=0,Q,K;if(h!==0)do Y=e.dist_buf[Z],R=e.lc_buf[Z],Z++,Y===0?ye(R,k):(Q=$e._length_code[R],ye(Q+oa+1,k),K=$e.extra_lbits[Q],K!==0&&(R-=$e.base_length[Q],pe(R,K)),Y--,Q=$e.d_code(Y),ye(Q,F),K=$e.extra_dbits[Q],K!==0&&(Y-=$e.base_dist[Q],pe(Y,K)));while(Z<h);ye(pr,k),E=k[pr*2+1]}function Ie(){$>8?ge(j):$>0&&be(j&255),j=0,$=0}function Re(k,F,Y){Ie(),E=8,ge(F),ge(~F),e.pending_buf.set(c.subarray(k,k+F),e.pending),e.pending+=F}function Te(k,F,Y){pe((Eo<<1)+(Y?1:0),3),Re(k,F)}function Ae(k,F,Y){let R,Z,Q=0;L>0?(G.build_tree(e),J.build_tree(e),Q=ce(),R=e.opt_len+3+7>>>3,Z=e.static_len+3+7>>>3,Z<=R&&(R=Z)):R=Z=F+5,F+4<=R&&k!=-1?Te(k,F,Y):Z==R?(pe((Ca<<1)+(Y?1:0),3),Se(bt.static_ltree,bt.static_dtree)):(pe((Ro<<1)+(Y?1:0),3),pt(G.max_code+1,J.max_code+1,Q+1),Se(P,X)),z(),Y&&Ie()}function De(k){Ae(p>=0?p:-1,a-p,k),p=a,n.flush_pending()}function Me(){let k,F,Y,R;do{if(R=C-x-a,R===0&&a===0&&x===0)R=s;else if(R==-1)R--;else if(a>=s+s-Nt){c.set(c.subarray(s,s+s),0),u-=s,a-=s,p-=s,k=H,Y=k;do F=f[--Y]&65535,f[Y]=F>=s?F-s:0;while(--k!==0);k=s,Y=k;do F=l[--Y]&65535,l[Y]=F>=s?F-s:0;while(--k!==0);R+=s}if(n.avail_in===0)return;k=n.read_buf(c,a+x,R),x+=k,x>=rt&&(S=c[a]&255,S=(S<<w^c[a+1]&255)&D)}while(x<Nt&&n.avail_in!==0)}function we(k){let F=65535,Y;for(F>r-5&&(F=r-5);;){if(x<=1){if(Me(),x===0&&k==Kn)return Vt;if(x===0)break}if(a+=x,x=0,Y=p+F,(a===0||a>=Y)&&(x=a-Y,a=Y,De(!1),n.avail_out===0)||a-p>=s-Nt&&(De(!1),n.avail_out===0))return Vt}return De(k==Mt),n.avail_out===0?k==Mt?mr:Vt:k==Mt?Xr:Hr}function Ve(k){let F=V,Y=a,R,Z,Q=T;const K=a>s-Nt?a-(s-Nt):0;let re=d;const ne=v,se=a+aa;let he=c[Y+Q-1],Be=c[Y+Q];T>=M&&(F>>=2),re>x&&(re=x);do if(R=k,!(c[R+Q]!=Be||c[R+Q-1]!=he||c[R]!=c[Y]||c[++R]!=c[Y+1])){Y+=2,R++;do;while(c[++Y]==c[++R]&&c[++Y]==c[++R]&&c[++Y]==c[++R]&&c[++Y]==c[++R]&&c[++Y]==c[++R]&&c[++Y]==c[++R]&&c[++Y]==c[++R]&&c[++Y]==c[++R]&&Y<se);if(Z=aa-(se-Y),Y=se-aa,Z>Q){if(u=k,Q=Z,Z>=re)break;he=c[Y+Q-1],Be=c[Y+Q]}}while((k=l[k&ne]&65535)>K&&--F!==0);return Q<=x?Q:x}function Qe(k){let F=0,Y;for(;;){if(x<Nt){if(Me(),x<Nt&&k==Kn)return Vt;if(x===0)break}if(x>=rt&&(S=(S<<w^c[a+(rt-1)]&255)&D,F=f[S]&65535,l[a&v]=f[S],f[S]=a),F!==0&&(a-F&65535)<=s-Nt&&te!=jr&&(_=Ve(F)),_>=rt)if(Y=me(a-u,_-rt),x-=_,_<=I&&x>=rt){_--;do a++,S=(S<<w^c[a+(rt-1)]&255)&D,F=f[S]&65535,l[a&v]=f[S],f[S]=a;while(--_!==0);a++}else a+=_,_=0,S=c[a]&255,S=(S<<w^c[a+1]&255)&D;else Y=me(0,c[a]&255),x--,a++;if(Y&&(De(!1),n.avail_out===0))return Vt}return De(k==Mt),n.avail_out===0?k==Mt?mr:Vt:k==Mt?Xr:Hr}function O(k){let F=0,Y,R;for(;;){if(x<Nt){if(Me(),x<Nt&&k==Kn)return Vt;if(x===0)break}if(x>=rt&&(S=(S<<w^c[a+(rt-1)]&255)&D,F=f[S]&65535,l[a&v]=f[S],f[S]=a),T=_,b=u,_=rt-1,F!==0&&T<I&&(a-F&65535)<=s-Nt&&(te!=jr&&(_=Ve(F)),_<=5&&(te==mo||_==rt&&a-u>4096)&&(_=rt-1)),T>=rt&&_<=T){R=a+x-rt,Y=me(a-1-b,T-rt),x-=T-1,T-=2;do++a<=R&&(S=(S<<w^c[a+(rt-1)]&255)&D,F=f[S]&65535,l[a&v]=f[S],f[S]=a);while(--T!==0);if(A=0,_=rt-1,a++,Y&&(De(!1),n.avail_out===0))return Vt}else if(A!==0){if(Y=me(0,c[a-1]&255),Y&&De(!1),a++,x--,n.avail_out===0)return Vt}else A=1,a++,x--}return A!==0&&(Y=me(0,c[a-1]&255),A=0),De(k==Mt),n.avail_out===0?k==Mt?mr:Vt:k==Mt?Xr:Hr}function N(k){return k.total_in=k.total_out=0,k.msg=null,e.pending=0,e.pending_out=0,t=Yr,i=Kn,ee(),ae(),zt}e.deflateInit=function(k,F,Y,R,Z,Q){return R||(R=Ba),Z||(Z=ko),Q||(Q=ho),k.msg=null,F==la&&(F=6),Z<1||Z>So||R!=Ba||Y<9||Y>15||F<0||F>9||Q<0||Q>jr?Qt:(k.dstate=e,o=Y,s=1<<o,v=s-1,U=Z+7,H=1<<U,D=H-1,w=Math.floor((U+rt-1)/rt),c=new Uint8Array(s*2),l=[],f=[],y=1<<Z+6,e.pending_buf=new Uint8Array(y*4),r=y*4,e.dist_buf=new Uint16Array(y),e.lc_buf=new Uint8Array(y),L=F,te=Q,N(k))},e.deflateEnd=function(){return t!=Ma&&t!=Yr&&t!=hr?Qt:(e.lc_buf=null,e.dist_buf=null,e.pending_buf=null,f=null,l=null,c=null,e.dstate=null,t==Yr?vo:zt)},e.deflateParams=function(k,F,Y){let R=zt;return F==la&&(F=6),F<0||F>9||Y<0||Y>jr?Qt:(Zt[L].func!=Zt[F].func&&k.total_in!==0&&(R=k.deflate(Xs)),L!=F&&(L=F,I=Zt[L].max_lazy,M=Zt[L].good_length,d=Zt[L].nice_length,V=Zt[L].max_chain),te=Y,R)},e.deflateSetDictionary=function(k,F,Y){let R=Y,Z,Q=0;if(!F||t!=Ma)return Qt;if(R<rt)return zt;for(R>s-Nt&&(R=s-Nt,Q=Y-R),c.set(F.subarray(Q,Q+R),0),a=R,p=R,S=c[0]&255,S=(S<<w^c[1]&255)&D,Z=0;Z<=R-rt;Z++)S=(S<<w^c[Z+(rt-1)]&255)&D,l[Z&v]=f[S],f[S]=Z;return zt},e.deflate=function(k,F){let Y,R,Z,Q,K;if(F>Mt||F<0)return Qt;if(!k.next_out||!k.next_in&&k.avail_in!==0||t==hr&&F!=Mt)return k.msg=qr[Vr-Qt],Qt;if(k.avail_out===0)return k.msg=qr[Vr-Yn],Yn;if(n=k,Q=i,i=F,t==Ma&&(R=Ba+(o-8<<4)<<8,Z=(L-1&255)>>1,Z>3&&(Z=3),R|=Z<<6,a!==0&&(R|=Ao),R+=31-R%31,t=Yr,ve(R)),e.pending!==0){if(n.flush_pending(),n.avail_out===0)return i=-1,zt}else if(n.avail_in===0&&F<=Q&&F!=Mt)return n.msg=qr[Vr-Yn],Yn;if(t==hr&&n.avail_in!==0)return k.msg=qr[Vr-Yn],Yn;if(n.avail_in!==0||x!==0||F!=Kn&&t!=hr){switch(K=-1,Zt[L].func){case A1:K=we(F);break;case ra:K=Qe(F);break;case Fn:K=O(F);break}if((K==mr||K==Xr)&&(t=hr),K==Vt||K==mr)return n.avail_out===0&&(i=-1),zt;if(K==Hr){if(F==Xs)B();else if(Te(0,0,!1),F==bo)for(Y=0;Y<H;Y++)f[Y]=0;if(n.flush_pending(),n.avail_out===0)return i=-1,zt}}return F!=Mt?zt:k1}}function E1(){const e=this;e.next_in_index=0,e.next_out_index=0,e.avail_in=0,e.total_in=0,e.avail_out=0,e.total_out=0}E1.prototype={deflateInit(e,n){const t=this;return t.dstate=new To,n||(n=Sr),t.dstate.deflateInit(t,e,n)},deflate(e){const n=this;return n.dstate?n.dstate.deflate(n,e):Qt},deflateEnd(){const e=this;if(!e.dstate)return Qt;const n=e.dstate.deflateEnd();return e.dstate=null,n},deflateParams(e,n){const t=this;return t.dstate?t.dstate.deflateParams(t,e,n):Qt},deflateSetDictionary(e,n){const t=this;return t.dstate?t.dstate.deflateSetDictionary(t,e,n):Qt},read_buf(e,n,t){const r=this;let i=r.avail_in;return i>t&&(i=t),i===0?0:(r.avail_in-=i,e.set(r.next_in.subarray(r.next_in_index,r.next_in_index+i),n),r.next_in_index+=i,r.total_in+=i,i)},flush_pending(){const e=this;let n=e.dstate.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.next_out.set(e.dstate.pending_buf.subarray(e.dstate.pending_out,e.dstate.pending_out+n),e.next_out_index),e.next_out_index+=n,e.dstate.pending_out+=n,e.total_out+=n,e.avail_out-=n,e.dstate.pending-=n,e.dstate.pending===0&&(e.dstate.pending_out=0))}};function Mo(e){const n=this,t=new E1,r=Bo(e&&e.chunkSize?e.chunkSize:64*1024),i=Kn,s=new Uint8Array(r);let o=e?e.level:la;typeof o>"u"&&(o=la),t.deflateInit(o),t.next_out=s,n.append=function(v,c){let C,l,f=0,S=0,H=0;const U=[];if(v.length){t.next_in_index=0,t.next_in=v,t.avail_in=v.length;do{if(t.next_out_index=0,t.avail_out=r,C=t.deflate(i),C!=zt)throw new Error("deflating: "+t.msg);t.next_out_index&&(t.next_out_index==r?U.push(new Uint8Array(s)):U.push(s.subarray(0,t.next_out_index))),H+=t.next_out_index,c&&t.next_in_index>0&&t.next_in_index!=f&&(c(t.next_in_index),f=t.next_in_index)}while(t.avail_in>0||t.avail_out===0);return U.length>1?(l=new Uint8Array(H),U.forEach(function(D){l.set(D,S),S+=D.length})):l=U[0]?new Uint8Array(U[0]):new Uint8Array,l}},n.flush=function(){let v,c,C=0,l=0;const f=[];do{if(t.next_out_index=0,t.avail_out=r,v=t.deflate(Mt),v!=k1&&v!=zt)throw new Error("deflating: "+t.msg);r-t.avail_out>0&&f.push(s.slice(0,t.next_out_index)),l+=t.next_out_index}while(t.avail_in>0||t.avail_out===0);return t.deflateEnd(),c=new Uint8Array(l),f.forEach(function(S){c.set(S,C),C+=S.length}),c}}function Bo(e){return e+5*(Math.floor(e/16383)+1)}const Co=15,Ze=0,fn=1,Do=2,Bt=-2,Je=-3,Gs=-4,_n=-5,Ft=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],R1=1440,Io=0,Oo=4,Po=9,Lo=5,No=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],Fo=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],jo=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Vo=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],qo=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],Ho=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],mn=15;function os(){const e=this;let n,t,r,i,s,o;function v(C,l,f,S,H,U,D,w,p,_,b){let A,a,u,x,T,V,I,L,te,M,d,P,X,W,G;M=0,T=f;do r[C[l+M]]++,M++,T--;while(T!==0);if(r[0]==f)return D[0]=-1,w[0]=0,Ze;for(L=w[0],V=1;V<=mn&&r[V]===0;V++);for(I=V,L<V&&(L=V),T=mn;T!==0&&r[T]===0;T--);for(u=T,L>T&&(L=T),w[0]=L,W=1<<V;V<T;V++,W<<=1)if((W-=r[V])<0)return Je;if((W-=r[T])<0)return Je;for(r[T]+=W,o[1]=V=0,M=1,X=2;--T!==0;)o[X]=V+=r[M],X++,M++;T=0,M=0;do(V=C[l+M])!==0&&(b[o[V]++]=T),M++;while(++T<f);for(f=o[u],o[0]=T=0,M=0,x=-1,P=-L,s[0]=0,d=0,G=0;I<=u;I++)for(A=r[I];A--!==0;){for(;I>P+L;){if(x++,P+=L,G=u-P,G=G>L?L:G,(a=1<<(V=I-P))>A+1&&(a-=A+1,X=I,V<G))for(;++V<G&&!((a<<=1)<=r[++X]);)a-=r[X];if(G=1<<V,_[0]+G>R1)return Je;s[x]=d=_[0],_[0]+=G,x!==0?(o[x]=T,i[0]=V,i[1]=L,V=T>>>P-L,i[2]=d-s[x-1]-V,p.set(i,(s[x-1]+V)*3)):D[0]=d}for(i[1]=I-P,M>=f?i[0]=192:b[M]<S?(i[0]=b[M]<256?0:96,i[2]=b[M++]):(i[0]=U[b[M]-S]+16+64,i[2]=H[b[M++]-S]),a=1<<I-P,V=T>>>P;V<G;V+=a)p.set(i,(d+V)*3);for(V=1<<I-1;T&V;V>>>=1)T^=V;for(T^=V,te=(1<<P)-1;(T&te)!=o[x];)x--,P-=L,te=(1<<P)-1}return W!==0&&u!=1?_n:Ze}function c(C){let l;for(n||(n=[],t=[],r=new Int32Array(mn+1),i=[],s=new Int32Array(mn),o=new Int32Array(mn+1)),t.length<C&&(t=[]),l=0;l<C;l++)t[l]=0;for(l=0;l<mn+1;l++)r[l]=0;for(l=0;l<3;l++)i[l]=0;s.set(r.subarray(0,mn),0),o.set(r.subarray(0,mn+1),0)}e.inflate_trees_bits=function(C,l,f,S,H){let U;return c(19),n[0]=0,U=v(C,0,19,19,null,null,f,l,S,n,t),U==Je?H.msg="oversubscribed dynamic bit lengths tree":(U==_n||l[0]===0)&&(H.msg="incomplete dynamic bit lengths tree",U=Je),U},e.inflate_trees_dynamic=function(C,l,f,S,H,U,D,w,p){let _;return c(288),n[0]=0,_=v(f,0,C,257,jo,Vo,U,S,w,n,t),_!=Ze||S[0]===0?(_==Je?p.msg="oversubscribed literal/length tree":_!=Gs&&(p.msg="incomplete literal/length tree",_=Je),_):(c(288),_=v(f,C,l,0,qo,Ho,D,H,w,n,t),_!=Ze||H[0]===0&&C>257?(_==Je?p.msg="oversubscribed distance tree":_==_n?(p.msg="incomplete distance tree",_=Je):_!=Gs&&(p.msg="empty distance tree with lengths",_=Je),_):Ze)}}os.inflate_trees_fixed=function(e,n,t,r){return e[0]=Po,n[0]=Lo,t[0]=No,r[0]=Fo,Ze};const Ur=0,Zs=1,Ws=2,zs=3,Ks=4,Qs=5,$s=6,Da=7,Js=8,Gr=9;function Xo(){const e=this;let n,t=0,r,i=0,s=0,o=0,v=0,c=0,C=0,l=0,f,S=0,H,U=0;function D(w,p,_,b,A,a,u,x){let T,V,I,L,te,M,d,P,X,W,G,J,q,y,h,m;d=x.next_in_index,P=x.avail_in,te=u.bitb,M=u.bitk,X=u.write,W=X<u.read?u.read-X-1:u.end-X,G=Ft[w],J=Ft[p];do{for(;M<20;)P--,te|=(x.read_byte(d++)&255)<<M,M+=8;if(T=te&G,V=_,I=b,m=(I+T)*3,(L=V[m])===0){te>>=V[m+1],M-=V[m+1],u.win[X++]=V[m+2],W--;continue}do{if(te>>=V[m+1],M-=V[m+1],L&16){for(L&=15,q=V[m+2]+(te&Ft[L]),te>>=L,M-=L;M<15;)P--,te|=(x.read_byte(d++)&255)<<M,M+=8;T=te&J,V=A,I=a,m=(I+T)*3,L=V[m];do if(te>>=V[m+1],M-=V[m+1],L&16){for(L&=15;M<L;)P--,te|=(x.read_byte(d++)&255)<<M,M+=8;if(y=V[m+2]+(te&Ft[L]),te>>=L,M-=L,W-=q,X>=y)h=X-y,X-h>0&&2>X-h?(u.win[X++]=u.win[h++],u.win[X++]=u.win[h++],q-=2):(u.win.set(u.win.subarray(h,h+2),X),X+=2,h+=2,q-=2);else{h=X-y;do h+=u.end;while(h<0);if(L=u.end-h,q>L){if(q-=L,X-h>0&&L>X-h)do u.win[X++]=u.win[h++];while(--L!==0);else u.win.set(u.win.subarray(h,h+L),X),X+=L,h+=L,L=0;h=0}}if(X-h>0&&q>X-h)do u.win[X++]=u.win[h++];while(--q!==0);else u.win.set(u.win.subarray(h,h+q),X),X+=q,h+=q,q=0;break}else if(!(L&64))T+=V[m+2],T+=te&Ft[L],m=(I+T)*3,L=V[m];else return x.msg="invalid distance code",q=x.avail_in-P,q=M>>3<q?M>>3:q,P+=q,d-=q,M-=q<<3,u.bitb=te,u.bitk=M,x.avail_in=P,x.total_in+=d-x.next_in_index,x.next_in_index=d,u.write=X,Je;while(!0);break}if(L&64)return L&32?(q=x.avail_in-P,q=M>>3<q?M>>3:q,P+=q,d-=q,M-=q<<3,u.bitb=te,u.bitk=M,x.avail_in=P,x.total_in+=d-x.next_in_index,x.next_in_index=d,u.write=X,fn):(x.msg="invalid literal/length code",q=x.avail_in-P,q=M>>3<q?M>>3:q,P+=q,d-=q,M-=q<<3,u.bitb=te,u.bitk=M,x.avail_in=P,x.total_in+=d-x.next_in_index,x.next_in_index=d,u.write=X,Je);if(T+=V[m+2],T+=te&Ft[L],m=(I+T)*3,(L=V[m])===0){te>>=V[m+1],M-=V[m+1],u.win[X++]=V[m+2],W--;break}}while(!0)}while(W>=258&&P>=10);return q=x.avail_in-P,q=M>>3<q?M>>3:q,P+=q,d-=q,M-=q<<3,u.bitb=te,u.bitk=M,x.avail_in=P,x.total_in+=d-x.next_in_index,x.next_in_index=d,u.write=X,Ze}e.init=function(w,p,_,b,A,a){n=Ur,C=w,l=p,f=_,S=b,H=A,U=a,r=null},e.proc=function(w,p,_){let b,A,a,u=0,x=0,T=0,V,I,L,te;for(T=p.next_in_index,V=p.avail_in,u=w.bitb,x=w.bitk,I=w.write,L=I<w.read?w.read-I-1:w.end-I;;)switch(n){case Ur:if(L>=258&&V>=10&&(w.bitb=u,w.bitk=x,p.avail_in=V,p.total_in+=T-p.next_in_index,p.next_in_index=T,w.write=I,_=D(C,l,f,S,H,U,w,p),T=p.next_in_index,V=p.avail_in,u=w.bitb,x=w.bitk,I=w.write,L=I<w.read?w.read-I-1:w.end-I,_!=Ze)){n=_==fn?Da:Gr;break}s=C,r=f,i=S,n=Zs;case Zs:for(b=s;x<b;){if(V!==0)_=Ze;else return w.bitb=u,w.bitk=x,p.avail_in=V,p.total_in+=T-p.next_in_index,p.next_in_index=T,w.write=I,w.inflate_flush(p,_);V--,u|=(p.read_byte(T++)&255)<<x,x+=8}if(A=(i+(u&Ft[b]))*3,u>>>=r[A+1],x-=r[A+1],a=r[A],a===0){o=r[A+2],n=$s;break}if(a&16){v=a&15,t=r[A+2],n=Ws;break}if(!(a&64)){s=a,i=A/3+r[A+2];break}if(a&32){n=Da;break}return n=Gr,p.msg="invalid literal/length code",_=Je,w.bitb=u,w.bitk=x,p.avail_in=V,p.total_in+=T-p.next_in_index,p.next_in_index=T,w.write=I,w.inflate_flush(p,_);case Ws:for(b=v;x<b;){if(V!==0)_=Ze;else return w.bitb=u,w.bitk=x,p.avail_in=V,p.total_in+=T-p.next_in_index,p.next_in_index=T,w.write=I,w.inflate_flush(p,_);V--,u|=(p.read_byte(T++)&255)<<x,x+=8}t+=u&Ft[b],u>>=b,x-=b,s=l,r=H,i=U,n=zs;case zs:for(b=s;x<b;){if(V!==0)_=Ze;else return w.bitb=u,w.bitk=x,p.avail_in=V,p.total_in+=T-p.next_in_index,p.next_in_index=T,w.write=I,w.inflate_flush(p,_);V--,u|=(p.read_byte(T++)&255)<<x,x+=8}if(A=(i+(u&Ft[b]))*3,u>>=r[A+1],x-=r[A+1],a=r[A],a&16){v=a&15,c=r[A+2],n=Ks;break}if(!(a&64)){s=a,i=A/3+r[A+2];break}return n=Gr,p.msg="invalid distance code",_=Je,w.bitb=u,w.bitk=x,p.avail_in=V,p.total_in+=T-p.next_in_index,p.next_in_index=T,w.write=I,w.inflate_flush(p,_);case Ks:for(b=v;x<b;){if(V!==0)_=Ze;else return w.bitb=u,w.bitk=x,p.avail_in=V,p.total_in+=T-p.next_in_index,p.next_in_index=T,w.write=I,w.inflate_flush(p,_);V--,u|=(p.read_byte(T++)&255)<<x,x+=8}c+=u&Ft[b],u>>=b,x-=b,n=Qs;case Qs:for(te=I-c;te<0;)te+=w.end;for(;t!==0;){if(L===0&&(I==w.end&&w.read!==0&&(I=0,L=I<w.read?w.read-I-1:w.end-I),L===0&&(w.write=I,_=w.inflate_flush(p,_),I=w.write,L=I<w.read?w.read-I-1:w.end-I,I==w.end&&w.read!==0&&(I=0,L=I<w.read?w.read-I-1:w.end-I),L===0)))return w.bitb=u,w.bitk=x,p.avail_in=V,p.total_in+=T-p.next_in_index,p.next_in_index=T,w.write=I,w.inflate_flush(p,_);w.win[I++]=w.win[te++],L--,te==w.end&&(te=0),t--}n=Ur;break;case $s:if(L===0&&(I==w.end&&w.read!==0&&(I=0,L=I<w.read?w.read-I-1:w.end-I),L===0&&(w.write=I,_=w.inflate_flush(p,_),I=w.write,L=I<w.read?w.read-I-1:w.end-I,I==w.end&&w.read!==0&&(I=0,L=I<w.read?w.read-I-1:w.end-I),L===0)))return w.bitb=u,w.bitk=x,p.avail_in=V,p.total_in+=T-p.next_in_index,p.next_in_index=T,w.write=I,w.inflate_flush(p,_);_=Ze,w.win[I++]=o,L--,n=Ur;break;case Da:if(x>7&&(x-=8,V++,T--),w.write=I,_=w.inflate_flush(p,_),I=w.write,L=I<w.read?w.read-I-1:w.end-I,w.read!=w.write)return w.bitb=u,w.bitk=x,p.avail_in=V,p.total_in+=T-p.next_in_index,p.next_in_index=T,w.write=I,w.inflate_flush(p,_);n=Js;case Js:return _=fn,w.bitb=u,w.bitk=x,p.avail_in=V,p.total_in+=T-p.next_in_index,p.next_in_index=T,w.write=I,w.inflate_flush(p,_);case Gr:return _=Je,w.bitb=u,w.bitk=x,p.avail_in=V,p.total_in+=T-p.next_in_index,p.next_in_index=T,w.write=I,w.inflate_flush(p,_);default:return _=Bt,w.bitb=u,w.bitk=x,p.avail_in=V,p.total_in+=T-p.next_in_index,p.next_in_index=T,w.write=I,w.inflate_flush(p,_)}},e.free=function(){}}const ei=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Un=0,Ia=1,ti=2,ni=3,ri=4,ai=5,Zr=6,Wr=7,si=8,Dn=9;function Yo(e,n){const t=this;let r=Un,i=0,s=0,o=0,v;const c=[0],C=[0],l=new Xo;let f=0,S=new Int32Array(R1*3);const H=0,U=new os;t.bitk=0,t.bitb=0,t.win=new Uint8Array(n),t.end=n,t.read=0,t.write=0,t.reset=function(D,w){w&&(w[0]=H),r==Zr&&l.free(D),r=Un,t.bitk=0,t.bitb=0,t.read=t.write=0},t.reset(e,null),t.inflate_flush=function(D,w){let p,_,b;return _=D.next_out_index,b=t.read,p=(b<=t.write?t.write:t.end)-b,p>D.avail_out&&(p=D.avail_out),p!==0&&w==_n&&(w=Ze),D.avail_out-=p,D.total_out+=p,D.next_out.set(t.win.subarray(b,b+p),_),_+=p,b+=p,b==t.end&&(b=0,t.write==t.end&&(t.write=0),p=t.write-b,p>D.avail_out&&(p=D.avail_out),p!==0&&w==_n&&(w=Ze),D.avail_out-=p,D.total_out+=p,D.next_out.set(t.win.subarray(b,b+p),_),_+=p,b+=p),D.next_out_index=_,t.read=b,w},t.proc=function(D,w){let p,_,b,A,a,u,x,T;for(A=D.next_in_index,a=D.avail_in,_=t.bitb,b=t.bitk,u=t.write,x=u<t.read?t.read-u-1:t.end-u;;){let V,I,L,te,M,d,P,X;switch(r){case Un:for(;b<3;){if(a!==0)w=Ze;else return t.bitb=_,t.bitk=b,D.avail_in=a,D.total_in+=A-D.next_in_index,D.next_in_index=A,t.write=u,t.inflate_flush(D,w);a--,_|=(D.read_byte(A++)&255)<<b,b+=8}switch(p=_&7,f=p&1,p>>>1){case 0:_>>>=3,b-=3,p=b&7,_>>>=p,b-=p,r=Ia;break;case 1:V=[],I=[],L=[[]],te=[[]],os.inflate_trees_fixed(V,I,L,te),l.init(V[0],I[0],L[0],0,te[0],0),_>>>=3,b-=3,r=Zr;break;case 2:_>>>=3,b-=3,r=ni;break;case 3:return _>>>=3,b-=3,r=Dn,D.msg="invalid block type",w=Je,t.bitb=_,t.bitk=b,D.avail_in=a,D.total_in+=A-D.next_in_index,D.next_in_index=A,t.write=u,t.inflate_flush(D,w)}break;case Ia:for(;b<32;){if(a!==0)w=Ze;else return t.bitb=_,t.bitk=b,D.avail_in=a,D.total_in+=A-D.next_in_index,D.next_in_index=A,t.write=u,t.inflate_flush(D,w);a--,_|=(D.read_byte(A++)&255)<<b,b+=8}if((~_>>>16&65535)!=(_&65535))return r=Dn,D.msg="invalid stored block lengths",w=Je,t.bitb=_,t.bitk=b,D.avail_in=a,D.total_in+=A-D.next_in_index,D.next_in_index=A,t.write=u,t.inflate_flush(D,w);i=_&65535,_=b=0,r=i!==0?ti:f!==0?Wr:Un;break;case ti:if(a===0||x===0&&(u==t.end&&t.read!==0&&(u=0,x=u<t.read?t.read-u-1:t.end-u),x===0&&(t.write=u,w=t.inflate_flush(D,w),u=t.write,x=u<t.read?t.read-u-1:t.end-u,u==t.end&&t.read!==0&&(u=0,x=u<t.read?t.read-u-1:t.end-u),x===0)))return t.bitb=_,t.bitk=b,D.avail_in=a,D.total_in+=A-D.next_in_index,D.next_in_index=A,t.write=u,t.inflate_flush(D,w);if(w=Ze,p=i,p>a&&(p=a),p>x&&(p=x),t.win.set(D.read_buf(A,p),u),A+=p,a-=p,u+=p,x-=p,(i-=p)!==0)break;r=f!==0?Wr:Un;break;case ni:for(;b<14;){if(a!==0)w=Ze;else return t.bitb=_,t.bitk=b,D.avail_in=a,D.total_in+=A-D.next_in_index,D.next_in_index=A,t.write=u,t.inflate_flush(D,w);a--,_|=(D.read_byte(A++)&255)<<b,b+=8}if(s=p=_&16383,(p&31)>29||(p>>5&31)>29)return r=Dn,D.msg="too many length or distance symbols",w=Je,t.bitb=_,t.bitk=b,D.avail_in=a,D.total_in+=A-D.next_in_index,D.next_in_index=A,t.write=u,t.inflate_flush(D,w);if(p=258+(p&31)+(p>>5&31),!v||v.length<p)v=[];else for(T=0;T<p;T++)v[T]=0;_>>>=14,b-=14,o=0,r=ri;case ri:for(;o<4+(s>>>10);){for(;b<3;){if(a!==0)w=Ze;else return t.bitb=_,t.bitk=b,D.avail_in=a,D.total_in+=A-D.next_in_index,D.next_in_index=A,t.write=u,t.inflate_flush(D,w);a--,_|=(D.read_byte(A++)&255)<<b,b+=8}v[ei[o++]]=_&7,_>>>=3,b-=3}for(;o<19;)v[ei[o++]]=0;if(c[0]=7,p=U.inflate_trees_bits(v,c,C,S,D),p!=Ze)return w=p,w==Je&&(v=null,r=Dn),t.bitb=_,t.bitk=b,D.avail_in=a,D.total_in+=A-D.next_in_index,D.next_in_index=A,t.write=u,t.inflate_flush(D,w);o=0,r=ai;case ai:for(;p=s,!(o>=258+(p&31)+(p>>5&31));){let W,G;for(p=c[0];b<p;){if(a!==0)w=Ze;else return t.bitb=_,t.bitk=b,D.avail_in=a,D.total_in+=A-D.next_in_index,D.next_in_index=A,t.write=u,t.inflate_flush(D,w);a--,_|=(D.read_byte(A++)&255)<<b,b+=8}if(p=S[(C[0]+(_&Ft[p]))*3+1],G=S[(C[0]+(_&Ft[p]))*3+2],G<16)_>>>=p,b-=p,v[o++]=G;else{for(T=G==18?7:G-14,W=G==18?11:3;b<p+T;){if(a!==0)w=Ze;else return t.bitb=_,t.bitk=b,D.avail_in=a,D.total_in+=A-D.next_in_index,D.next_in_index=A,t.write=u,t.inflate_flush(D,w);a--,_|=(D.read_byte(A++)&255)<<b,b+=8}if(_>>>=p,b-=p,W+=_&Ft[T],_>>>=T,b-=T,T=o,p=s,T+W>258+(p&31)+(p>>5&31)||G==16&&T<1)return v=null,r=Dn,D.msg="invalid bit length repeat",w=Je,t.bitb=_,t.bitk=b,D.avail_in=a,D.total_in+=A-D.next_in_index,D.next_in_index=A,t.write=u,t.inflate_flush(D,w);G=G==16?v[T-1]:0;do v[T++]=G;while(--W!==0);o=T}}if(C[0]=-1,M=[],d=[],P=[],X=[],M[0]=9,d[0]=6,p=s,p=U.inflate_trees_dynamic(257+(p&31),1+(p>>5&31),v,M,d,P,X,S,D),p!=Ze)return p==Je&&(v=null,r=Dn),w=p,t.bitb=_,t.bitk=b,D.avail_in=a,D.total_in+=A-D.next_in_index,D.next_in_index=A,t.write=u,t.inflate_flush(D,w);l.init(M[0],d[0],S,P[0],S,X[0]),r=Zr;case Zr:if(t.bitb=_,t.bitk=b,D.avail_in=a,D.total_in+=A-D.next_in_index,D.next_in_index=A,t.write=u,(w=l.proc(t,D,w))!=fn)return t.inflate_flush(D,w);if(w=Ze,l.free(D),A=D.next_in_index,a=D.avail_in,_=t.bitb,b=t.bitk,u=t.write,x=u<t.read?t.read-u-1:t.end-u,f===0){r=Un;break}r=Wr;case Wr:if(t.write=u,w=t.inflate_flush(D,w),u=t.write,x=u<t.read?t.read-u-1:t.end-u,t.read!=t.write)return t.bitb=_,t.bitk=b,D.avail_in=a,D.total_in+=A-D.next_in_index,D.next_in_index=A,t.write=u,t.inflate_flush(D,w);r=si;case si:return w=fn,t.bitb=_,t.bitk=b,D.avail_in=a,D.total_in+=A-D.next_in_index,D.next_in_index=A,t.write=u,t.inflate_flush(D,w);case Dn:return w=Je,t.bitb=_,t.bitk=b,D.avail_in=a,D.total_in+=A-D.next_in_index,D.next_in_index=A,t.write=u,t.inflate_flush(D,w);default:return w=Bt,t.bitb=_,t.bitk=b,D.avail_in=a,D.total_in+=A-D.next_in_index,D.next_in_index=A,t.write=u,t.inflate_flush(D,w)}}},t.free=function(D){t.reset(D,null),t.win=null,S=null},t.set_dictionary=function(D,w,p){t.win.set(D.subarray(w,w+p),0),t.read=t.write=p},t.sync_point=function(){return r==Ia?1:0}}const Uo=32,Go=8,Zo=0,ii=1,oi=2,li=3,ci=4,fi=5,Oa=6,br=7,_i=12,hn=13,Wo=[0,0,255,255];function zo(){const e=this;e.mode=0,e.method=0,e.was=[0],e.need=0,e.marker=0,e.wbits=0;function n(t){return!t||!t.istate?Bt:(t.total_in=t.total_out=0,t.msg=null,t.istate.mode=br,t.istate.blocks.reset(t,null),Ze)}e.inflateEnd=function(t){return e.blocks&&e.blocks.free(t),e.blocks=null,Ze},e.inflateInit=function(t,r){return t.msg=null,e.blocks=null,r<8||r>15?(e.inflateEnd(t),Bt):(e.wbits=r,t.istate.blocks=new Yo(t,1<<r),n(t),Ze)},e.inflate=function(t,r){let i,s;if(!t||!t.istate||!t.next_in)return Bt;const o=t.istate;for(r=r==Oo?_n:Ze,i=_n;;)switch(o.mode){case Zo:if(t.avail_in===0)return i;if(i=r,t.avail_in--,t.total_in++,((o.method=t.read_byte(t.next_in_index++))&15)!=Go){o.mode=hn,t.msg="unknown compression method",o.marker=5;break}if((o.method>>4)+8>o.wbits){o.mode=hn,t.msg="invalid win size",o.marker=5;break}o.mode=ii;case ii:if(t.avail_in===0)return i;if(i=r,t.avail_in--,t.total_in++,s=t.read_byte(t.next_in_index++)&255,((o.method<<8)+s)%31!==0){o.mode=hn,t.msg="incorrect header check",o.marker=5;break}if(!(s&Uo)){o.mode=br;break}o.mode=oi;case oi:if(t.avail_in===0)return i;i=r,t.avail_in--,t.total_in++,o.need=(t.read_byte(t.next_in_index++)&255)<<24&4278190080,o.mode=li;case li:if(t.avail_in===0)return i;i=r,t.avail_in--,t.total_in++,o.need+=(t.read_byte(t.next_in_index++)&255)<<16&16711680,o.mode=ci;case ci:if(t.avail_in===0)return i;i=r,t.avail_in--,t.total_in++,o.need+=(t.read_byte(t.next_in_index++)&255)<<8&65280,o.mode=fi;case fi:return t.avail_in===0?i:(i=r,t.avail_in--,t.total_in++,o.need+=t.read_byte(t.next_in_index++)&255,o.mode=Oa,Do);case Oa:return o.mode=hn,t.msg="need dictionary",o.marker=0,Bt;case br:if(i=o.blocks.proc(t,i),i==Je){o.mode=hn,o.marker=0;break}if(i==Ze&&(i=r),i!=fn)return i;i=r,o.blocks.reset(t,o.was),o.mode=_i;case _i:return t.avail_in=0,fn;case hn:return Je;default:return Bt}},e.inflateSetDictionary=function(t,r,i){let s=0,o=i;if(!t||!t.istate||t.istate.mode!=Oa)return Bt;const v=t.istate;return o>=1<<v.wbits&&(o=(1<<v.wbits)-1,s=i-o),v.blocks.set_dictionary(r,s,o),v.mode=br,Ze},e.inflateSync=function(t){let r,i,s,o,v;if(!t||!t.istate)return Bt;const c=t.istate;if(c.mode!=hn&&(c.mode=hn,c.marker=0),(r=t.avail_in)===0)return _n;for(i=t.next_in_index,s=c.marker;r!==0&&s<4;)t.read_byte(i)==Wo[s]?s++:t.read_byte(i)!==0?s=0:s=4-s,i++,r--;return t.total_in+=i-t.next_in_index,t.next_in_index=i,t.avail_in=r,c.marker=s,s!=4?Je:(o=t.total_in,v=t.total_out,n(t),t.total_in=o,t.total_out=v,c.mode=br,Ze)},e.inflateSyncPoint=function(t){return!t||!t.istate||!t.istate.blocks?Bt:t.istate.blocks.sync_point()}}function T1(){}T1.prototype={inflateInit(e){const n=this;return n.istate=new zo,e||(e=Co),n.istate.inflateInit(n,e)},inflate(e){const n=this;return n.istate?n.istate.inflate(n,e):Bt},inflateEnd(){const e=this;if(!e.istate)return Bt;const n=e.istate.inflateEnd(e);return e.istate=null,n},inflateSync(){const e=this;return e.istate?e.istate.inflateSync(e):Bt},inflateSetDictionary(e,n){const t=this;return t.istate?t.istate.inflateSetDictionary(t,e,n):Bt},read_byte(e){return this.next_in[e]},read_buf(e,n){return this.next_in.subarray(e,e+n)}};function Ko(e){const n=this,t=new T1,r=e&&e.chunkSize?Math.floor(e.chunkSize*2):128*1024,i=Io,s=new Uint8Array(r);let o=!1;t.inflateInit(),t.next_out=s,n.append=function(v,c){const C=[];let l,f,S=0,H=0,U=0;if(v.length!==0){t.next_in_index=0,t.next_in=v,t.avail_in=v.length;do{if(t.next_out_index=0,t.avail_out=r,t.avail_in===0&&!o&&(t.next_in_index=0,o=!0),l=t.inflate(i),o&&l===_n){if(t.avail_in!==0)throw new Error("inflating: bad input")}else if(l!==Ze&&l!==fn)throw new Error("inflating: "+t.msg);if((o||l===fn)&&t.avail_in===v.length)throw new Error("inflating: bad input");t.next_out_index&&(t.next_out_index===r?C.push(new Uint8Array(s)):C.push(s.subarray(0,t.next_out_index))),U+=t.next_out_index,c&&t.next_in_index>0&&t.next_in_index!=S&&(c(t.next_in_index),S=t.next_in_index)}while(t.avail_in>0||t.avail_out===0);return C.length>1?(f=new Uint8Array(U),C.forEach(function(D){f.set(D,H),H+=D.length})):f=C[0]?new Uint8Array(C[0]):new Uint8Array,f}},n.flush=function(){t.inflateEnd()}}const It=4294967295,Ct=65535,ui=8,Qo=0,$o=99,Jo=67324752,M1=134695760,el=M1,tl=33639248,nl=101010256,rl=101075792,al=117853008,ls=22,B1=20,C1=56,sl=ls+B1+C1,il=1,ol=39169,ll=10,cl=1,D1=21589,fl=6534,_l=1,ul=8,dl=2048,pl=16,ml=20,di=45,pi=51,Pa="/",mi=new Date(2107,11,31),hi=new Date(1980,0,1),ot=void 0,Rn="undefined",Cr="function";class bi{constructor(n){return class extends TransformStream{constructor(t,r){const i=new n(r);super({transform(s,o){o.enqueue(i.append(s))},flush(s){const o=i.flush();o&&s.enqueue(o)}})}}}}const hl=64;let I1=2;try{typeof navigator!=Rn&&navigator.hardwareConcurrency&&(I1=navigator.hardwareConcurrency)}catch{}const bl={chunkSize:512*1024,maxWorkers:I1,terminateWorkerTimeout:5e3,useWebWorkers:!0,useCompressionStream:!0,workerScripts:ot,CompressionStreamNative:typeof CompressionStream!=Rn&&CompressionStream,DecompressionStreamNative:typeof DecompressionStream!=Rn&&DecompressionStream},xn=Object.assign({},bl);function vl(){return xn}function gl(e){return Math.max(e.chunkSize,hl)}function ms(e){const{baseURL:n,chunkSize:t,maxWorkers:r,terminateWorkerTimeout:i,useCompressionStream:s,useWebWorkers:o,Deflate:v,Inflate:c,CompressionStream:C,DecompressionStream:l,workerScripts:f}=e;if(bn("baseURL",n),bn("chunkSize",t),bn("maxWorkers",r),bn("terminateWorkerTimeout",i),bn("useCompressionStream",s),bn("useWebWorkers",o),v&&(xn.CompressionStream=new bi(v)),c&&(xn.DecompressionStream=new bi(c)),bn("CompressionStream",C),bn("DecompressionStream",l),f!==ot){const{deflate:S,inflate:H}=f;if((S||H)&&(xn.workerScripts||(xn.workerScripts={})),S){if(!Array.isArray(S))throw new Error("workerScripts.deflate must be an array");xn.workerScripts.deflate=S}if(H){if(!Array.isArray(H))throw new Error("workerScripts.inflate must be an array");xn.workerScripts.inflate=H}}}function bn(e,n){n!==ot&&(xn[e]=n)}const La={application:{"andrew-inset":"ez",annodex:"anx","atom+xml":"atom","atomcat+xml":"atomcat","atomserv+xml":"atomsrv",bbolin:"lin","cu-seeme":"cu","davmount+xml":"davmount",dsptype:"tsp",ecmascript:["es","ecma"],futuresplash:"spl",hta:"hta","java-archive":"jar","java-serialized-object":"ser","java-vm":"class",m3g:"m3g","mac-binhex40":"hqx",mathematica:["nb","ma","mb"],msaccess:"mdb",msword:["doc","dot","wiz"],mxf:"mxf",oda:"oda",ogg:"ogx",pdf:"pdf","pgp-keys":"key","pgp-signature":["asc","sig"],"pics-rules":"prf",postscript:["ps","ai","eps","epsi","epsf","eps2","eps3"],rar:"rar","rdf+xml":"rdf","rss+xml":"rss",rtf:"rtf","xhtml+xml":["xhtml","xht"],xml:["xml","xsl","xsd","xpdl"],"xspf+xml":"xspf",zip:"zip","vnd.android.package-archive":"apk","vnd.cinderella":"cdy","vnd.google-earth.kml+xml":"kml","vnd.google-earth.kmz":"kmz","vnd.mozilla.xul+xml":"xul","vnd.ms-excel":["xls","xlb","xlt","xlm","xla","xlc","xlw"],"vnd.ms-pki.seccat":"cat","vnd.ms-pki.stl":"stl","vnd.ms-powerpoint":["ppt","pps","pot","ppa","pwz"],"vnd.oasis.opendocument.chart":"odc","vnd.oasis.opendocument.database":"odb","vnd.oasis.opendocument.formula":"odf","vnd.oasis.opendocument.graphics":"odg","vnd.oasis.opendocument.graphics-template":"otg","vnd.oasis.opendocument.image":"odi","vnd.oasis.opendocument.presentation":"odp","vnd.oasis.opendocument.presentation-template":"otp","vnd.oasis.opendocument.spreadsheet":"ods","vnd.oasis.opendocument.spreadsheet-template":"ots","vnd.oasis.opendocument.text":"odt","vnd.oasis.opendocument.text-master":["odm","otm"],"vnd.oasis.opendocument.text-template":"ott","vnd.oasis.opendocument.text-web":"oth","vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx","vnd.openxmlformats-officedocument.spreadsheetml.template":"xltx","vnd.openxmlformats-officedocument.presentationml.presentation":"pptx","vnd.openxmlformats-officedocument.presentationml.slideshow":"ppsx","vnd.openxmlformats-officedocument.presentationml.template":"potx","vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","vnd.openxmlformats-officedocument.wordprocessingml.template":"dotx","vnd.smaf":"mmf","vnd.stardivision.calc":"sdc","vnd.stardivision.chart":"sds","vnd.stardivision.draw":"sda","vnd.stardivision.impress":"sdd","vnd.stardivision.math":["sdf","smf"],"vnd.stardivision.writer":["sdw","vor"],"vnd.stardivision.writer-global":"sgl","vnd.sun.xml.calc":"sxc","vnd.sun.xml.calc.template":"stc","vnd.sun.xml.draw":"sxd","vnd.sun.xml.draw.template":"std","vnd.sun.xml.impress":"sxi","vnd.sun.xml.impress.template":"sti","vnd.sun.xml.math":"sxm","vnd.sun.xml.writer":"sxw","vnd.sun.xml.writer.global":"sxg","vnd.sun.xml.writer.template":"stw","vnd.symbian.install":["sis","sisx"],"vnd.visio":["vsd","vst","vss","vsw","vsdx","vssx","vstx","vssm","vstm"],"vnd.wap.wbxml":"wbxml","vnd.wap.wmlc":"wmlc","vnd.wap.wmlscriptc":"wmlsc","vnd.wordperfect":"wpd","vnd.wordperfect5.1":"wp5","x-123":"wk","x-7z-compressed":"7z","x-abiword":"abw","x-apple-diskimage":"dmg","x-bcpio":"bcpio","x-bittorrent":"torrent","x-cbr":["cbr","cba","cbt","cb7"],"x-cbz":"cbz","x-cdf":["cdf","cda"],"x-cdlink":"vcd","x-chess-pgn":"pgn","x-cpio":"cpio","x-csh":"csh","x-director":["dir","dxr","cst","cct","cxt","w3d","fgd","swa"],"x-dms":"dms","x-doom":"wad","x-dvi":"dvi","x-httpd-eruby":"rhtml","x-font":"pcf.Z","x-freemind":"mm","x-gnumeric":"gnumeric","x-go-sgf":"sgf","x-graphing-calculator":"gcf","x-gtar":["gtar","taz"],"x-hdf":"hdf","x-httpd-php":["phtml","pht","php"],"x-httpd-php-source":"phps","x-httpd-php3":"php3","x-httpd-php3-preprocessed":"php3p","x-httpd-php4":"php4","x-httpd-php5":"php5","x-ica":"ica","x-info":"info","x-internet-signup":["ins","isp"],"x-iphone":"iii","x-iso9660-image":"iso","x-java-jnlp-file":"jnlp","x-jmol":"jmz","x-killustrator":"kil","x-latex":"latex","x-lyx":"lyx","x-lzx":"lzx","x-maker":["frm","fb","fbdoc"],"x-ms-wmd":"wmd","x-msdos-program":["com","exe","bat","dll"],"x-netcdf":["nc"],"x-ns-proxy-autoconfig":["pac","dat"],"x-nwc":"nwc","x-object":"o","x-oz-application":"oza","x-pkcs7-certreqresp":"p7r","x-python-code":["pyc","pyo"],"x-qgis":["qgs","shp","shx"],"x-quicktimeplayer":"qtl","x-redhat-package-manager":["rpm","rpa"],"x-ruby":"rb","x-sh":"sh","x-shar":"shar","x-shockwave-flash":["swf","swfl"],"x-silverlight":"scr","x-stuffit":"sit","x-sv4cpio":"sv4cpio","x-sv4crc":"sv4crc","x-tar":"tar","x-tex-gf":"gf","x-tex-pk":"pk","x-texinfo":["texinfo","texi"],"x-trash":["~","%","bak","old","sik"],"x-ustar":"ustar","x-wais-source":"src","x-wingz":"wz","x-x509-ca-cert":["crt","der","cer"],"x-xcf":"xcf","x-xfig":"fig","x-xpinstall":"xpi",applixware:"aw","atomsvc+xml":"atomsvc","ccxml+xml":"ccxml","cdmi-capability":"cdmia","cdmi-container":"cdmic","cdmi-domain":"cdmid","cdmi-object":"cdmio","cdmi-queue":"cdmiq","docbook+xml":"dbk","dssc+der":"dssc","dssc+xml":"xdssc","emma+xml":"emma","epub+zip":"epub",exi:"exi","font-tdpfr":"pfr","gml+xml":"gml","gpx+xml":"gpx",gxf:"gxf",hyperstudio:"stk","inkml+xml":["ink","inkml"],ipfix:"ipfix","jsonml+json":"jsonml","lost+xml":"lostxml","mads+xml":"mads",marc:"mrc","marcxml+xml":"mrcx","mathml+xml":["mathml","mml"],mbox:"mbox","mediaservercontrol+xml":"mscml","metalink+xml":"metalink","metalink4+xml":"meta4","mets+xml":"mets","mods+xml":"mods",mp21:["m21","mp21"],mp4:"mp4s","oebps-package+xml":"opf","omdoc+xml":"omdoc",onenote:["onetoc","onetoc2","onetmp","onepkg"],oxps:"oxps","patch-ops-error+xml":"xer","pgp-encrypted":"pgp",pkcs10:"p10","pkcs7-mime":["p7m","p7c"],"pkcs7-signature":"p7s",pkcs8:"p8","pkix-attr-cert":"ac","pkix-crl":"crl","pkix-pkipath":"pkipath",pkixcmp:"pki","pls+xml":"pls","prs.cww":"cww","pskc+xml":"pskcxml","reginfo+xml":"rif","relax-ng-compact-syntax":"rnc","resource-lists+xml":"rl","resource-lists-diff+xml":"rld","rls-services+xml":"rs","rpki-ghostbusters":"gbr","rpki-manifest":"mft","rpki-roa":"roa","rsd+xml":"rsd","sbml+xml":"sbml","scvp-cv-request":"scq","scvp-cv-response":"scs","scvp-vp-request":"spq","scvp-vp-response":"spp",sdp:"sdp","set-payment-initiation":"setpay","set-registration-initiation":"setreg","shf+xml":"shf","sparql-query":"rq","sparql-results+xml":"srx",srgs:"gram","srgs+xml":"grxml","sru+xml":"sru","ssdl+xml":"ssdl","ssml+xml":"ssml","tei+xml":["tei","teicorpus"],"thraud+xml":"tfi","timestamped-data":"tsd","vnd.3gpp.pic-bw-large":"plb","vnd.3gpp.pic-bw-small":"psb","vnd.3gpp.pic-bw-var":"pvb","vnd.3gpp2.tcap":"tcap","vnd.3m.post-it-notes":"pwn","vnd.accpac.simply.aso":"aso","vnd.accpac.simply.imp":"imp","vnd.acucobol":"acu","vnd.acucorp":["atc","acutc"],"vnd.adobe.air-application-installer-package+zip":"air","vnd.adobe.formscentral.fcdt":"fcdt","vnd.adobe.fxp":["fxp","fxpl"],"vnd.adobe.xdp+xml":"xdp","vnd.adobe.xfdf":"xfdf","vnd.ahead.space":"ahead","vnd.airzip.filesecure.azf":"azf","vnd.airzip.filesecure.azs":"azs","vnd.amazon.ebook":"azw","vnd.americandynamics.acc":"acc","vnd.amiga.ami":"ami","vnd.anser-web-certificate-issue-initiation":"cii","vnd.anser-web-funds-transfer-initiation":"fti","vnd.antix.game-component":"atx","vnd.apple.installer+xml":"mpkg","vnd.apple.mpegurl":"m3u8","vnd.aristanetworks.swi":"swi","vnd.astraea-software.iota":"iota","vnd.audiograph":"aep","vnd.blueice.multipass":"mpm","vnd.bmi":"bmi","vnd.businessobjects":"rep","vnd.chemdraw+xml":"cdxml","vnd.chipnuts.karaoke-mmd":"mmd","vnd.claymore":"cla","vnd.cloanto.rp9":"rp9","vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"vnd.cluetrust.cartomobile-config":"c11amc","vnd.cluetrust.cartomobile-config-pkg":"c11amz","vnd.commonspace":"csp","vnd.contact.cmsg":"cdbcmsg","vnd.cosmocaller":"cmc","vnd.crick.clicker":"clkx","vnd.crick.clicker.keyboard":"clkk","vnd.crick.clicker.palette":"clkp","vnd.crick.clicker.template":"clkt","vnd.crick.clicker.wordbank":"clkw","vnd.criticaltools.wbs+xml":"wbs","vnd.ctc-posml":"pml","vnd.cups-ppd":"ppd","vnd.curl.car":"car","vnd.curl.pcurl":"pcurl","vnd.dart":"dart","vnd.data-vision.rdz":"rdz","vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"vnd.dece.ttml+xml":["uvt","uvvt"],"vnd.dece.unspecified":["uvx","uvvx"],"vnd.dece.zip":["uvz","uvvz"],"vnd.denovo.fcselayout-link":"fe_launch","vnd.dna":"dna","vnd.dolby.mlp":"mlp","vnd.dpgraph":"dpg","vnd.dreamfactory":"dfac","vnd.ds-keypoint":"kpxx","vnd.dvb.ait":"ait","vnd.dvb.service":"svc","vnd.dynageo":"geo","vnd.ecowin.chart":"mag","vnd.enliven":"nml","vnd.epson.esf":"esf","vnd.epson.msf":"msf","vnd.epson.quickanime":"qam","vnd.epson.salt":"slt","vnd.epson.ssf":"ssf","vnd.eszigno3+xml":["es3","et3"],"vnd.ezpix-album":"ez2","vnd.ezpix-package":"ez3","vnd.fdf":"fdf","vnd.fdsn.mseed":"mseed","vnd.fdsn.seed":["seed","dataless"],"vnd.flographit":"gph","vnd.fluxtime.clip":"ftc","vnd.framemaker":["fm","frame","maker","book"],"vnd.frogans.fnc":"fnc","vnd.frogans.ltf":"ltf","vnd.fsc.weblaunch":"fsc","vnd.fujitsu.oasys":"oas","vnd.fujitsu.oasys2":"oa2","vnd.fujitsu.oasys3":"oa3","vnd.fujitsu.oasysgp":"fg5","vnd.fujitsu.oasysprs":"bh2","vnd.fujixerox.ddd":"ddd","vnd.fujixerox.docuworks":"xdw","vnd.fujixerox.docuworks.binder":"xbd","vnd.fuzzysheet":"fzs","vnd.genomatix.tuxedo":"txd","vnd.geogebra.file":"ggb","vnd.geogebra.tool":"ggt","vnd.geometry-explorer":["gex","gre"],"vnd.geonext":"gxt","vnd.geoplan":"g2w","vnd.geospace":"g3w","vnd.gmx":"gmx","vnd.grafeq":["gqf","gqs"],"vnd.groove-account":"gac","vnd.groove-help":"ghf","vnd.groove-identity-message":"gim","vnd.groove-injector":"grv","vnd.groove-tool-message":"gtm","vnd.groove-tool-template":"tpl","vnd.groove-vcard":"vcg","vnd.hal+xml":"hal","vnd.handheld-entertainment+xml":"zmm","vnd.hbci":"hbci","vnd.hhe.lesson-player":"les","vnd.hp-hpgl":"hpgl","vnd.hp-hpid":"hpid","vnd.hp-hps":"hps","vnd.hp-jlyt":"jlt","vnd.hp-pcl":"pcl","vnd.hp-pclxl":"pclxl","vnd.hydrostatix.sof-data":"sfd-hdstx","vnd.ibm.minipay":"mpy","vnd.ibm.modcap":["afp","listafp","list3820"],"vnd.ibm.rights-management":"irm","vnd.ibm.secure-container":"sc","vnd.iccprofile":["icc","icm"],"vnd.igloader":"igl","vnd.immervision-ivp":"ivp","vnd.immervision-ivu":"ivu","vnd.insors.igm":"igm","vnd.intercon.formnet":["xpw","xpx"],"vnd.intergeo":"i2g","vnd.intu.qbo":"qbo","vnd.intu.qfx":"qfx","vnd.ipunplugged.rcprofile":"rcprofile","vnd.irepository.package+xml":"irp","vnd.is-xpr":"xpr","vnd.isac.fcs":"fcs","vnd.jam":"jam","vnd.jcp.javame.midlet-rms":"rms","vnd.jisp":"jisp","vnd.joost.joda-archive":"joda","vnd.kahootz":["ktz","ktr"],"vnd.kde.karbon":"karbon","vnd.kde.kchart":"chrt","vnd.kde.kformula":"kfo","vnd.kde.kivio":"flw","vnd.kde.kontour":"kon","vnd.kde.kpresenter":["kpr","kpt"],"vnd.kde.kspread":"ksp","vnd.kde.kword":["kwd","kwt"],"vnd.kenameaapp":"htke","vnd.kidspiration":"kia","vnd.kinar":["kne","knp"],"vnd.koan":["skp","skd","skt","skm"],"vnd.kodak-descriptor":"sse","vnd.las.las+xml":"lasxml","vnd.llamagraphics.life-balance.desktop":"lbd","vnd.llamagraphics.life-balance.exchange+xml":"lbe","vnd.lotus-1-2-3":"123","vnd.lotus-approach":"apr","vnd.lotus-freelance":"pre","vnd.lotus-notes":"nsf","vnd.lotus-organizer":"org","vnd.lotus-screencam":"scm","vnd.lotus-wordpro":"lwp","vnd.macports.portpkg":"portpkg","vnd.mcd":"mcd","vnd.medcalcdata":"mc1","vnd.mediastation.cdkey":"cdkey","vnd.mfer":"mwf","vnd.mfmp":"mfm","vnd.micrografx.flo":"flo","vnd.micrografx.igx":"igx","vnd.mif":"mif","vnd.mobius.daf":"daf","vnd.mobius.dis":"dis","vnd.mobius.mbk":"mbk","vnd.mobius.mqy":"mqy","vnd.mobius.msl":"msl","vnd.mobius.plc":"plc","vnd.mobius.txf":"txf","vnd.mophun.application":"mpn","vnd.mophun.certificate":"mpc","vnd.ms-artgalry":"cil","vnd.ms-cab-compressed":"cab","vnd.ms-excel.addin.macroenabled.12":"xlam","vnd.ms-excel.sheet.binary.macroenabled.12":"xlsb","vnd.ms-excel.sheet.macroenabled.12":"xlsm","vnd.ms-excel.template.macroenabled.12":"xltm","vnd.ms-fontobject":"eot","vnd.ms-htmlhelp":"chm","vnd.ms-ims":"ims","vnd.ms-lrm":"lrm","vnd.ms-officetheme":"thmx","vnd.ms-powerpoint.addin.macroenabled.12":"ppam","vnd.ms-powerpoint.presentation.macroenabled.12":"pptm","vnd.ms-powerpoint.slide.macroenabled.12":"sldm","vnd.ms-powerpoint.slideshow.macroenabled.12":"ppsm","vnd.ms-powerpoint.template.macroenabled.12":"potm","vnd.ms-project":["mpp","mpt"],"vnd.ms-word.document.macroenabled.12":"docm","vnd.ms-word.template.macroenabled.12":"dotm","vnd.ms-works":["wps","wks","wcm","wdb"],"vnd.ms-wpl":"wpl","vnd.ms-xpsdocument":"xps","vnd.mseq":"mseq","vnd.musician":"mus","vnd.muvee.style":"msty","vnd.mynfc":"taglet","vnd.neurolanguage.nlu":"nlu","vnd.nitf":["ntf","nitf"],"vnd.noblenet-directory":"nnd","vnd.noblenet-sealer":"nns","vnd.noblenet-web":"nnw","vnd.nokia.n-gage.data":"ngdat","vnd.nokia.n-gage.symbian.install":"n-gage","vnd.nokia.radio-preset":"rpst","vnd.nokia.radio-presets":"rpss","vnd.novadigm.edm":"edm","vnd.novadigm.edx":"edx","vnd.novadigm.ext":"ext","vnd.oasis.opendocument.chart-template":"otc","vnd.oasis.opendocument.formula-template":"odft","vnd.oasis.opendocument.image-template":"oti","vnd.olpc-sugar":"xo","vnd.oma.dd2+xml":"dd2","vnd.openofficeorg.extension":"oxt","vnd.openxmlformats-officedocument.presentationml.slide":"sldx","vnd.osgeo.mapguide.package":"mgp","vnd.osgi.dp":"dp","vnd.osgi.subsystem":"esa","vnd.palm":["pdb","pqa","oprc"],"vnd.pawaafile":"paw","vnd.pg.format":"str","vnd.pg.osasli":"ei6","vnd.picsel":"efif","vnd.pmi.widget":"wg","vnd.pocketlearn":"plf","vnd.powerbuilder6":"pbd","vnd.previewsystems.box":"box","vnd.proteus.magazine":"mgz","vnd.publishare-delta-tree":"qps","vnd.pvi.ptid1":"ptid","vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"vnd.realvnc.bed":"bed","vnd.recordare.musicxml":"mxl","vnd.recordare.musicxml+xml":"musicxml","vnd.rig.cryptonote":"cryptonote","vnd.rn-realmedia":"rm","vnd.rn-realmedia-vbr":"rmvb","vnd.route66.link66+xml":"link66","vnd.sailingtracker.track":"st","vnd.seemail":"see","vnd.sema":"sema","vnd.semd":"semd","vnd.semf":"semf","vnd.shana.informed.formdata":"ifm","vnd.shana.informed.formtemplate":"itp","vnd.shana.informed.interchange":"iif","vnd.shana.informed.package":"ipk","vnd.simtech-mindmapper":["twd","twds"],"vnd.smart.teacher":"teacher","vnd.solent.sdkm+xml":["sdkm","sdkd"],"vnd.spotfire.dxp":"dxp","vnd.spotfire.sfs":"sfs","vnd.stepmania.package":"smzip","vnd.stepmania.stepchart":"sm","vnd.sus-calendar":["sus","susp"],"vnd.svd":"svd","vnd.syncml+xml":"xsm","vnd.syncml.dm+wbxml":"bdm","vnd.syncml.dm+xml":"xdm","vnd.tao.intent-module-archive":"tao","vnd.tcpdump.pcap":["pcap","cap","dmp"],"vnd.tmobile-livetv":"tmo","vnd.trid.tpt":"tpt","vnd.triscape.mxs":"mxs","vnd.trueapp":"tra","vnd.ufdl":["ufd","ufdl"],"vnd.uiq.theme":"utz","vnd.umajin":"umj","vnd.unity":"unityweb","vnd.uoml+xml":"uoml","vnd.vcx":"vcx","vnd.visionary":"vis","vnd.vsf":"vsf","vnd.webturbo":"wtb","vnd.wolfram.player":"nbp","vnd.wqd":"wqd","vnd.wt.stf":"stf","vnd.xara":"xar","vnd.xfdl":"xfdl","vnd.yamaha.hv-dic":"hvd","vnd.yamaha.hv-script":"hvs","vnd.yamaha.hv-voice":"hvp","vnd.yamaha.openscoreformat":"osf","vnd.yamaha.openscoreformat.osfpvg+xml":"osfpvg","vnd.yamaha.smaf-audio":"saf","vnd.yamaha.smaf-phrase":"spf","vnd.yellowriver-custom-menu":"cmp","vnd.zul":["zir","zirz"],"vnd.zzazz.deck+xml":"zaz","voicexml+xml":"vxml",widget:"wgt",winhlp:"hlp","wsdl+xml":"wsdl","wspolicy+xml":"wspolicy","x-ace-compressed":"ace","x-authorware-bin":["aab","x32","u32","vox"],"x-authorware-map":"aam","x-authorware-seg":"aas","x-blorb":["blb","blorb"],"x-bzip":"bz","x-bzip2":["bz2","boz"],"x-cfs-compressed":"cfs","x-chat":"chat","x-conference":"nsc","x-dgc-compressed":"dgc","x-dtbncx+xml":"ncx","x-dtbook+xml":"dtb","x-dtbresource+xml":"res","x-eva":"eva","x-font-bdf":"bdf","x-font-ghostscript":"gsf","x-font-linux-psf":"psf","x-font-pcf":"pcf","x-font-snf":"snf","x-font-ttf":["ttf","ttc"],"x-font-type1":["pfa","pfb","pfm","afm"],"x-freearc":"arc","x-gca-compressed":"gca","x-glulx":"ulx","x-gramps-xml":"gramps","x-install-instructions":"install","x-lzh-compressed":["lzh","lha"],"x-mie":"mie","x-mobipocket-ebook":["prc","mobi"],"x-ms-application":"application","x-ms-shortcut":"lnk","x-ms-xbap":"xbap","x-msbinder":"obd","x-mscardfile":"crd","x-msclip":"clp","application/x-ms-installer":"msi","x-msmediaview":["mvb","m13","m14"],"x-msmetafile":["wmf","wmz","emf","emz"],"x-msmoney":"mny","x-mspublisher":"pub","x-msschedule":"scd","x-msterminal":"trm","x-mswrite":"wri","x-nzb":"nzb","x-pkcs12":["p12","pfx"],"x-pkcs7-certificates":["p7b","spc"],"x-research-info-systems":"ris","x-silverlight-app":"xap","x-sql":"sql","x-stuffitx":"sitx","x-subrip":"srt","x-t3vm-image":"t3","x-tex-tfm":"tfm","x-tgif":"obj","x-xliff+xml":"xlf","x-xz":"xz","x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"xaml+xml":"xaml","xcap-diff+xml":"xdf","xenc+xml":"xenc","xml-dtd":"dtd","xop+xml":"xop","xproc+xml":"xpl","xslt+xml":"xslt","xv+xml":["mxml","xhvml","xvml","xvm"],yang:"yang","yin+xml":"yin",envoy:"evy",fractals:"fif","internet-property-stream":"acx",olescript:"axs","vnd.ms-outlook":"msg","vnd.ms-pkicertstore":"sst","x-compress":"z","x-perfmon":["pma","pmc","pmr","pmw"],"ynd.ms-pkipko":"pko",gzip:["gz","tgz"],"smil+xml":["smi","smil"],"vnd.debian.binary-package":["deb","udeb"],"vnd.hzn-3d-crossword":"x3d","vnd.sqlite3":["db","sqlite","sqlite3","db-wal","sqlite-wal","db-shm","sqlite-shm"],"vnd.wap.sic":"sic","vnd.wap.slc":"slc","x-krita":["kra","krz"],"x-perl":["pm","pl"],yaml:["yaml","yml"]},audio:{amr:"amr","amr-wb":"awb",annodex:"axa",basic:["au","snd"],flac:"flac",midi:["mid","midi","kar","rmi"],mpeg:["mpga","mpega","mp3","m4a","mp2a","m2a","m3a"],mpegurl:"m3u",ogg:["oga","ogg","spx"],"prs.sid":"sid","x-aiff":"aifc","x-gsm":"gsm","x-ms-wma":"wma","x-ms-wax":"wax","x-pn-realaudio":"ram","x-realaudio":"ra","x-sd2":"sd2",adpcm:"adp",mp4:"mp4a",s3m:"s3m",silk:"sil","vnd.dece.audio":["uva","uvva"],"vnd.digital-winds":"eol","vnd.dra":"dra","vnd.dts":"dts","vnd.dts.hd":"dtshd","vnd.lucent.voice":"lvp","vnd.ms-playready.media.pya":"pya","vnd.nuera.ecelp4800":"ecelp4800","vnd.nuera.ecelp7470":"ecelp7470","vnd.nuera.ecelp9600":"ecelp9600","vnd.rip":"rip",webm:"weba","x-caf":"caf","x-matroska":"mka","x-pn-realaudio-plugin":"rmp",xm:"xm",aac:"aac",aiff:["aiff","aif","aff"],opus:"opus",wav:"wav"},chemical:{"x-alchemy":"alc","x-cache":["cac","cache"],"x-cache-csf":"csf","x-cactvs-binary":["cbin","cascii","ctab"],"x-cdx":"cdx","x-chem3d":"c3d","x-cif":"cif","x-cmdf":"cmdf","x-cml":"cml","x-compass":"cpa","x-crossfire":"bsd","x-csml":["csml","csm"],"x-ctx":"ctx","x-cxf":["cxf","cef"],"x-embl-dl-nucleotide":["emb","embl"],"x-gamess-input":["inp","gam","gamin"],"x-gaussian-checkpoint":["fch","fchk"],"x-gaussian-cube":"cub","x-gaussian-input":["gau","gjc","gjf"],"x-gaussian-log":"gal","x-gcg8-sequence":"gcg","x-genbank":"gen","x-hin":"hin","x-isostar":["istr","ist"],"x-jcamp-dx":["jdx","dx"],"x-kinemage":"kin","x-macmolecule":"mcm","x-macromodel-input":"mmod","x-mdl-molfile":"mol","x-mdl-rdfile":"rd","x-mdl-rxnfile":"rxn","x-mdl-sdfile":"sd","x-mdl-tgf":"tgf","x-mmcif":"mcif","x-mol2":"mol2","x-molconn-Z":"b","x-mopac-graph":"gpt","x-mopac-input":["mop","mopcrt","zmt"],"x-mopac-out":"moo","x-ncbi-asn1":"asn","x-ncbi-asn1-ascii":["prt","ent"],"x-ncbi-asn1-binary":"val","x-rosdal":"ros","x-swissprot":"sw","x-vamas-iso14976":"vms","x-vmd":"vmd","x-xtel":"xtel","x-xyz":"xyz"},font:{otf:"otf",woff:"woff",woff2:"woff2"},image:{gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe","jfif","jfif-tbnl","jif"],pcx:"pcx",png:"png","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"vnd.djvu":["djvu","djv"],"vnd.wap.wbmp":"wbmp","x-canon-cr2":"cr2","x-canon-crw":"crw","x-cmu-raster":"ras","x-coreldraw":"cdr","x-coreldrawpattern":"pat","x-coreldrawtemplate":"cdt","x-corelphotopaint":"cpt","x-epson-erf":"erf","x-icon":"ico","x-jg":"art","x-jng":"jng","x-nikon-nef":"nef","x-olympus-orf":"orf","x-portable-anymap":"pnm","x-portable-bitmap":"pbm","x-portable-graymap":"pgm","x-portable-pixmap":"ppm","x-rgb":"rgb","x-xbitmap":"xbm","x-xpixmap":"xpm","x-xwindowdump":"xwd",bmp:"bmp",cgm:"cgm",g3fax:"g3",ktx:"ktx","prs.btif":"btif",sgi:"sgi","vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"vnd.dwg":"dwg","vnd.dxf":"dxf","vnd.fastbidsheet":"fbs","vnd.fpx":"fpx","vnd.fst":"fst","vnd.fujixerox.edmics-mmr":"mmr","vnd.fujixerox.edmics-rlc":"rlc","vnd.ms-modi":"mdi","vnd.ms-photo":"wdp","vnd.net-fpx":"npx","vnd.xiff":"xif",webp:"webp","x-3ds":"3ds","x-cmx":"cmx","x-freehand":["fh","fhc","fh4","fh5","fh7"],"x-pict":["pic","pct"],"x-tga":"tga","cis-cod":"cod",avif:"avifs",heic:["heif","heic"],pjpeg:["pjpg"],"vnd.adobe.photoshop":"psd","x-adobe-dng":"dng","x-fuji-raf":"raf","x-icns":"icns","x-kodak-dcr":"dcr","x-kodak-k25":"k25","x-kodak-kdc":"kdc","x-minolta-mrw":"mrw","x-panasonic-raw":["raw","rw2","rwl"],"x-pentax-pef":["pef","ptx"],"x-sigma-x3f":"x3f","x-sony-arw":"arw","x-sony-sr2":"sr2","x-sony-srf":"srf"},message:{rfc822:["eml","mime","mht","mhtml","nws"]},model:{iges:["igs","iges"],mesh:["msh","mesh","silo"],vrml:["wrl","vrml"],"x3d+vrml":["x3dv","x3dvz"],"x3d+xml":"x3dz","x3d+binary":["x3db","x3dbz"],"vnd.collada+xml":"dae","vnd.dwf":"dwf","vnd.gdl":"gdl","vnd.gtw":"gtw","vnd.mts":"mts","vnd.usdz+zip":"usdz","vnd.vtu":"vtu"},text:{"cache-manifest":["manifest","appcache"],calendar:["ics","icz","ifb"],css:"css",csv:"csv",h323:"323",html:["html","htm","shtml","stm"],iuls:"uls",plain:["txt","text","brf","conf","def","list","log","in","bas","diff","ksh"],richtext:"rtx",scriptlet:["sct","wsc"],texmacs:"tm","tab-separated-values":"tsv","vnd.sun.j2me.app-descriptor":"jad","vnd.wap.wml":"wml","vnd.wap.wmlscript":"wmls","x-bibtex":"bib","x-boo":"boo","x-c++hdr":["h++","hpp","hxx","hh"],"x-c++src":["c++","cpp","cxx","cc"],"x-component":"htc","x-dsrc":"d","x-diff":"patch","x-haskell":"hs","x-java":"java","x-literate-haskell":"lhs","x-moc":"moc","x-pascal":["p","pas","pp","inc"],"x-pcs-gcd":"gcd","x-python":"py","x-scala":"scala","x-setext":"etx","x-tcl":["tcl","tk"],"x-tex":["tex","ltx","sty","cls"],"x-vcalendar":"vcs","x-vcard":"vcf",n3:"n3","prs.lines.tag":"dsc",sgml:["sgml","sgm"],troff:["t","tr","roff","man","me","ms"],turtle:"ttl","uri-list":["uri","uris","urls"],vcard:"vcard","vnd.curl":"curl","vnd.curl.dcurl":"dcurl","vnd.curl.scurl":"scurl","vnd.curl.mcurl":"mcurl","vnd.dvb.subtitle":"sub","vnd.fly":"fly","vnd.fmi.flexstor":"flx","vnd.graphviz":"gv","vnd.in3d.3dml":"3dml","vnd.in3d.spot":"spot","x-asm":["s","asm"],"x-c":["c","h","dic"],"x-fortran":["f","for","f77","f90"],"x-opml":"opml","x-nfo":"nfo","x-sfv":"sfv","x-uuencode":"uu",webviewhtml:"htt",javascript:"js",json:"json",markdown:["md","markdown","mdown","markdn"],"vnd.wap.si":"si","vnd.wap.sl":"sl"},video:{avif:"avif","3gpp":"3gp",annodex:"axv",dl:"dl",dv:["dif","dv"],fli:"fli",gl:"gl",mpeg:["mpeg","mpg","mpe","m1v","m2v","mp2","mpa","mpv2"],mp4:["mp4","mp4v","mpg4"],quicktime:["qt","mov"],ogg:"ogv","vnd.mpegurl":["mxu","m4u"],"x-flv":"flv","x-la-asf":["lsf","lsx"],"x-mng":"mng","x-ms-asf":["asf","asx","asr"],"x-ms-wm":"wm","x-ms-wmv":"wmv","x-ms-wmx":"wmx","x-ms-wvx":"wvx","x-msvideo":"avi","x-sgi-movie":"movie","x-matroska":["mpv","mkv","mk3d","mks"],"3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],"vnd.dece.hd":["uvh","uvvh"],"vnd.dece.mobile":["uvm","uvvm"],"vnd.dece.pd":["uvp","uvvp"],"vnd.dece.sd":["uvs","uvvs"],"vnd.dece.video":["uvv","uvvv"],"vnd.dvb.file":"dvb","vnd.fvt":"fvt","vnd.ms-playready.media.pyv":"pyv","vnd.uvvu.mp4":["uvu","uvvu"],"vnd.vivo":"viv",webm:"webm","x-f4v":"f4v","x-m4v":"m4v","x-ms-vob":"vob","x-smv":"smv",mp2t:"ts"},"x-conference":{"x-cooltalk":"ice"},"x-world":{"x-vrml":["vrm","flr","wrz","xaf","xof"]}};(()=>{const e={};for(const n of Object.keys(La))for(const t of Object.keys(La[n])){const r=La[n][t];if(typeof r=="string")e[r]=n+"/"+t;else for(let i=0;i<r.length;i++)e[r[i]]=n+"/"+t}return e})();const O1=[];for(let e=0;e<256;e++){let n=e;for(let t=0;t<8;t++)n&1?n=n>>>1^3988292384:n=n>>>1;O1[e]=n}class cs{constructor(n){this.crc=n||-1}append(n){let t=this.crc|0;for(let r=0,i=n.length|0;r<i;r++)t=t>>>8^O1[(t^n[r])&255];this.crc=t}get(){return~this.crc}}class P1 extends TransformStream{constructor(){let n;const t=new cs;super({transform(r,i){t.append(r),i.enqueue(r)},flush(){const r=new Uint8Array(4);new DataView(r.buffer).setUint32(0,t.get()),n.value=r}}),n=this}}function sa(e){if(typeof TextEncoder==Rn){e=unescape(encodeURIComponent(e));const n=new Uint8Array(e.length);for(let t=0;t<n.length;t++)n[t]=e.charCodeAt(t);return n}else return new TextEncoder().encode(e)}const yt={concat(e,n){if(e.length===0||n.length===0)return e.concat(n);const t=e[e.length-1],r=yt.getPartial(t);return r===32?e.concat(n):yt._shiftRight(n,r,t|0,e.slice(0,e.length-1))},bitLength(e){const n=e.length;if(n===0)return 0;const t=e[n-1];return(n-1)*32+yt.getPartial(t)},clamp(e,n){if(e.length*32<n)return e;e=e.slice(0,Math.ceil(n/32));const t=e.length;return n=n&31,t>0&&n&&(e[t-1]=yt.partial(n,e[t-1]&2147483648>>n-1,1)),e},partial(e,n,t){return e===32?n:(t?n|0:n<<32-e)+e*1099511627776},getPartial(e){return Math.round(e/1099511627776)||32},_shiftRight(e,n,t,r){for(r===void 0&&(r=[]);n>=32;n-=32)r.push(t),t=0;if(n===0)return r.concat(e);for(let o=0;o<e.length;o++)r.push(t|e[o]>>>n),t=e[o]<<32-n;const i=e.length?e[e.length-1]:0,s=yt.getPartial(i);return r.push(yt.partial(n+s&31,n+s>32?t:r.pop(),1)),r}},ca={bytes:{fromBits(e){const t=yt.bitLength(e)/8,r=new Uint8Array(t);let i;for(let s=0;s<t;s++)s&3||(i=e[s/4]),r[s]=i>>>24,i<<=8;return r},toBits(e){const n=[];let t,r=0;for(t=0;t<e.length;t++)r=r<<8|e[t],(t&3)===3&&(n.push(r),r=0);return t&3&&n.push(yt.partial(8*(t&3),r)),n}}},L1={};L1.sha1=class{constructor(e){const n=this;n.blockSize=512,n._init=[1732584193,4023233417,2562383102,271733878,3285377520],n._key=[1518500249,1859775393,2400959708,3395469782],e?(n._h=e._h.slice(0),n._buffer=e._buffer.slice(0),n._length=e._length):n.reset()}reset(){const e=this;return e._h=e._init.slice(0),e._buffer=[],e._length=0,e}update(e){const n=this;typeof e=="string"&&(e=ca.utf8String.toBits(e));const t=n._buffer=yt.concat(n._buffer,e),r=n._length,i=n._length=r+yt.bitLength(e);if(i>9007199254740991)throw new Error("Cannot hash more than 2^53 - 1 bits");const s=new Uint32Array(t);let o=0;for(let v=n.blockSize+r-(n.blockSize+r&n.blockSize-1);v<=i;v+=n.blockSize)n._block(s.subarray(16*o,16*(o+1))),o+=1;return t.splice(0,16*o),n}finalize(){const e=this;let n=e._buffer;const t=e._h;n=yt.concat(n,[yt.partial(1,1)]);for(let r=n.length+2;r&15;r++)n.push(0);for(n.push(Math.floor(e._length/4294967296)),n.push(e._length|0);n.length;)e._block(n.splice(0,16));return e.reset(),t}_f(e,n,t,r){if(e<=19)return n&t|~n&r;if(e<=39)return n^t^r;if(e<=59)return n&t|n&r|t&r;if(e<=79)return n^t^r}_S(e,n){return n<<e|n>>>32-e}_block(e){const n=this,t=n._h,r=Array(80);for(let C=0;C<16;C++)r[C]=e[C];let i=t[0],s=t[1],o=t[2],v=t[3],c=t[4];for(let C=0;C<=79;C++){C>=16&&(r[C]=n._S(1,r[C-3]^r[C-8]^r[C-14]^r[C-16]));const l=n._S(5,i)+n._f(C,s,o,v)+c+r[C]+n._key[Math.floor(C/20)]|0;c=v,v=o,o=n._S(30,s),s=i,i=l}t[0]=t[0]+i|0,t[1]=t[1]+s|0,t[2]=t[2]+o|0,t[3]=t[3]+v|0,t[4]=t[4]+c|0}};const N1={};N1.aes=class{constructor(e){const n=this;n._tables=[[[],[],[],[],[]],[[],[],[],[],[]]],n._tables[0][0][0]||n._precompute();const t=n._tables[0][4],r=n._tables[1],i=e.length;let s,o,v,c=1;if(i!==4&&i!==6&&i!==8)throw new Error("invalid aes key size");for(n._key=[o=e.slice(0),v=[]],s=i;s<4*i+28;s++){let C=o[s-1];(s%i===0||i===8&&s%i===4)&&(C=t[C>>>24]<<24^t[C>>16&255]<<16^t[C>>8&255]<<8^t[C&255],s%i===0&&(C=C<<8^C>>>24^c<<24,c=c<<1^(c>>7)*283)),o[s]=o[s-i]^C}for(let C=0;s;C++,s--){const l=o[C&3?s:s-4];s<=4||C<4?v[C]=l:v[C]=r[0][t[l>>>24]]^r[1][t[l>>16&255]]^r[2][t[l>>8&255]]^r[3][t[l&255]]}}encrypt(e){return this._crypt(e,0)}decrypt(e){return this._crypt(e,1)}_precompute(){const e=this._tables[0],n=this._tables[1],t=e[4],r=n[4],i=[],s=[];let o,v,c,C;for(let l=0;l<256;l++)s[(i[l]=l<<1^(l>>7)*283)^l]=l;for(let l=o=0;!t[l];l^=v||1,o=s[o]||1){let f=o^o<<1^o<<2^o<<3^o<<4;f=f>>8^f&255^99,t[l]=f,r[f]=l,C=i[c=i[v=i[l]]];let S=C*16843009^c*65537^v*257^l*16843008,H=i[f]*257^f*16843008;for(let U=0;U<4;U++)e[U][l]=H=H<<24^H>>>8,n[U][f]=S=S<<24^S>>>8}for(let l=0;l<5;l++)e[l]=e[l].slice(0),n[l]=n[l].slice(0)}_crypt(e,n){if(e.length!==4)throw new Error("invalid aes block size");const t=this._key[n],r=t.length/4-2,i=[0,0,0,0],s=this._tables[n],o=s[0],v=s[1],c=s[2],C=s[3],l=s[4];let f=e[0]^t[0],S=e[n?3:1]^t[1],H=e[2]^t[2],U=e[n?1:3]^t[3],D=4,w,p,_;for(let b=0;b<r;b++)w=o[f>>>24]^v[S>>16&255]^c[H>>8&255]^C[U&255]^t[D],p=o[S>>>24]^v[H>>16&255]^c[U>>8&255]^C[f&255]^t[D+1],_=o[H>>>24]^v[U>>16&255]^c[f>>8&255]^C[S&255]^t[D+2],U=o[U>>>24]^v[f>>16&255]^c[S>>8&255]^C[H&255]^t[D+3],D+=4,f=w,S=p,H=_;for(let b=0;b<4;b++)i[n?3&-b:b]=l[f>>>24]<<24^l[S>>16&255]<<16^l[H>>8&255]<<8^l[U&255]^t[D++],w=f,f=S,S=H,H=U,U=w;return i}};const wl={getRandomValues(e){const n=new Uint32Array(e.buffer),t=r=>{let i=987654321;const s=4294967295;return function(){return i=36969*(i&65535)+(i>>16)&s,r=18e3*(r&65535)+(r>>16)&s,(((i<<16)+r&s)/4294967296+.5)*(Math.random()>.5?1:-1)}};for(let r=0,i;r<e.length;r+=4){const s=t((i||Math.random())*4294967296);i=s()*987654071,n[r/4]=s()*4294967296|0}return e}},F1={};F1.ctrGladman=class{constructor(e,n){this._prf=e,this._initIv=n,this._iv=n}reset(){this._iv=this._initIv}update(e){return this.calculate(this._prf,e,this._iv)}incWord(e){if((e>>24&255)===255){let n=e>>16&255,t=e>>8&255,r=e&255;n===255?(n=0,t===255?(t=0,r===255?r=0:++r):++t):++n,e=0,e+=n<<16,e+=t<<8,e+=r}else e+=1<<24;return e}incCounter(e){(e[0]=this.incWord(e[0]))===0&&(e[1]=this.incWord(e[1]))}calculate(e,n,t){let r;if(!(r=n.length))return[];const i=yt.bitLength(n);for(let s=0;s<r;s+=4){this.incCounter(t);const o=e.encrypt(t);n[s]^=o[0],n[s+1]^=o[1],n[s+2]^=o[2],n[s+3]^=o[3]}return yt.clamp(n,i)}};const Hn={importKey(e){return new Hn.hmacSha1(ca.bytes.toBits(e))},pbkdf2(e,n,t,r){if(t=t||1e4,r<0||t<0)throw new Error("invalid params to pbkdf2");const i=(r>>5)+1<<2;let s,o,v,c,C;const l=new ArrayBuffer(i),f=new DataView(l);let S=0;const H=yt;for(n=ca.bytes.toBits(n),C=1;S<(i||1);C++){for(s=o=e.encrypt(H.concat(n,[C])),v=1;v<t;v++)for(o=e.encrypt(o),c=0;c<o.length;c++)s[c]^=o[c];for(v=0;S<(i||1)&&v<s.length;v++)f.setInt32(S,s[v]),S+=4}return l.slice(0,r/8)}};Hn.hmacSha1=class{constructor(e){const n=this,t=n._hash=L1.sha1,r=[[],[]];n._baseHash=[new t,new t];const i=n._baseHash[0].blockSize/32;e.length>i&&(e=new t().update(e).finalize());for(let s=0;s<i;s++)r[0][s]=e[s]^909522486,r[1][s]=e[s]^1549556828;n._baseHash[0].update(r[0]),n._baseHash[1].update(r[1]),n._resultHash=new t(n._baseHash[0])}reset(){const e=this;e._resultHash=new e._hash(e._baseHash[0]),e._updated=!1}update(e){const n=this;n._updated=!0,n._resultHash.update(e)}digest(){const e=this,n=e._resultHash.finalize(),t=new e._hash(e._baseHash[1]).update(n).finalize();return e.reset(),t}encrypt(e){if(this._updated)throw new Error("encrypt on already updated hmac called!");return this.update(e),this.digest(e)}};const xl=typeof crypto!=Rn&&typeof crypto.getRandomValues==Cr,j1="Invalid password",V1="Invalid signature",q1="zipjs-abort-check-password";function H1(e){return xl?crypto.getRandomValues(e):wl.getRandomValues(e)}const $n=16,yl="raw",X1={name:"PBKDF2"},Sl={name:"HMAC"},kl="SHA-1",Al=Object.assign({hash:Sl},X1),fs=Object.assign({iterations:1e3,hash:{name:kl}},X1),El=["deriveBits"],kr=[8,12,16],vr=[16,24,32],gn=10,Rl=[0,0,0,0],da=typeof crypto!=Rn,Dr=da&&crypto.subtle,Y1=da&&typeof Dr!=Rn,ln=ca.bytes,Tl=N1.aes,Ml=F1.ctrGladman,Bl=Hn.hmacSha1;let vi=da&&Y1&&typeof Dr.importKey==Cr,gi=da&&Y1&&typeof Dr.deriveBits==Cr;class Cl extends TransformStream{constructor({password:n,rawPassword:t,signed:r,encryptionStrength:i,checkPasswordOnly:s}){super({start(){Object.assign(this,{ready:new Promise(o=>this.resolveReady=o),password:Z1(n,t),signed:r,strength:i-1,pending:new Uint8Array})},async transform(o,v){const c=this,{password:C,strength:l,resolveReady:f,ready:S}=c;C?(await Il(c,l,C,Xt(o,0,kr[l]+2)),o=Xt(o,kr[l]+2),s?v.error(new Error(q1)):f()):await S;const H=new Uint8Array(o.length-gn-(o.length-gn)%$n);v.enqueue(U1(c,o,H,0,gn,!0))},async flush(o){const{signed:v,ctr:c,hmac:C,pending:l,ready:f}=this;if(C&&c){await f;const S=Xt(l,0,l.length-gn),H=Xt(l,l.length-gn);let U=new Uint8Array;if(S.length){const D=Er(ln,S);C.update(D);const w=c.update(D);U=Ar(ln,w)}if(v){const D=Xt(Ar(ln,C.digest()),0,gn);for(let w=0;w<gn;w++)if(D[w]!=H[w])throw new Error(V1)}o.enqueue(U)}}})}}class Dl extends TransformStream{constructor({password:n,rawPassword:t,encryptionStrength:r}){let i;super({start(){Object.assign(this,{ready:new Promise(s=>this.resolveReady=s),password:Z1(n,t),strength:r-1,pending:new Uint8Array})},async transform(s,o){const v=this,{password:c,strength:C,resolveReady:l,ready:f}=v;let S=new Uint8Array;c?(S=await Ol(v,C,c),l()):await f;const H=new Uint8Array(S.length+s.length-s.length%$n);H.set(S,0),o.enqueue(U1(v,s,H,S.length,0))},async flush(s){const{ctr:o,hmac:v,pending:c,ready:C}=this;if(v&&o){await C;let l=new Uint8Array;if(c.length){const f=o.update(Er(ln,c));v.update(f),l=Ar(ln,f)}i.signature=Ar(ln,v.digest()).slice(0,gn),s.enqueue(hs(l,i.signature))}}}),i=this}}function U1(e,n,t,r,i,s){const{ctr:o,hmac:v,pending:c}=e,C=n.length-i;c.length&&(n=hs(c,n),t=Nl(t,C-C%$n));let l;for(l=0;l<=C-$n;l+=$n){const f=Er(ln,Xt(n,l,l+$n));s&&v.update(f);const S=o.update(f);s||v.update(S),t.set(Ar(ln,S),l+r)}return e.pending=Xt(n,l),t}async function Il(e,n,t,r){const i=await G1(e,n,t,Xt(r,0,kr[n])),s=Xt(r,kr[n]);if(i[0]!=s[0]||i[1]!=s[1])throw new Error(j1)}async function Ol(e,n,t){const r=H1(new Uint8Array(kr[n])),i=await G1(e,n,t,r);return hs(r,i)}async function G1(e,n,t,r){e.password=null;const i=await Pl(yl,t,Al,!1,El),s=await Ll(Object.assign({salt:r},fs),i,8*(vr[n]*2+2)),o=new Uint8Array(s),v=Er(ln,Xt(o,0,vr[n])),c=Er(ln,Xt(o,vr[n],vr[n]*2)),C=Xt(o,vr[n]*2);return Object.assign(e,{keys:{key:v,authentication:c,passwordVerification:C},ctr:new Ml(new Tl(v),Array.from(Rl)),hmac:new Bl(c)}),C}async function Pl(e,n,t,r,i){if(vi)try{return await Dr.importKey(e,n,t,r,i)}catch{return vi=!1,Hn.importKey(n)}else return Hn.importKey(n)}async function Ll(e,n,t){if(gi)try{return await Dr.deriveBits(e,n,t)}catch{return gi=!1,Hn.pbkdf2(n,e.salt,fs.iterations,t)}else return Hn.pbkdf2(n,e.salt,fs.iterations,t)}function Z1(e,n){return n===ot?sa(e):n}function hs(e,n){let t=e;return e.length+n.length&&(t=new Uint8Array(e.length+n.length),t.set(e,0),t.set(n,e.length)),t}function Nl(e,n){if(n&&n>e.length){const t=e;e=new Uint8Array(n),e.set(t,0)}return e}function Xt(e,n,t){return e.subarray(n,t)}function Ar(e,n){return e.fromBits(n)}function Er(e,n){return e.toBits(n)}const rr=12;class Fl extends TransformStream{constructor({password:n,passwordVerification:t,checkPasswordOnly:r}){super({start(){Object.assign(this,{password:n,passwordVerification:t}),W1(this,n)},transform(i,s){const o=this;if(o.password){const v=wi(o,i.subarray(0,rr));if(o.password=null,v[rr-1]!=o.passwordVerification)throw new Error(j1);i=i.subarray(rr)}r?s.error(new Error(q1)):s.enqueue(wi(o,i))}})}}class jl extends TransformStream{constructor({password:n,passwordVerification:t}){super({start(){Object.assign(this,{password:n,passwordVerification:t}),W1(this,n)},transform(r,i){const s=this;let o,v;if(s.password){s.password=null;const c=H1(new Uint8Array(rr));c[rr-1]=s.passwordVerification,o=new Uint8Array(r.length+c.length),o.set(xi(s,c),0),v=rr}else o=new Uint8Array(r.length),v=0;o.set(xi(s,r),v),i.enqueue(o)}})}}function wi(e,n){const t=new Uint8Array(n.length);for(let r=0;r<n.length;r++)t[r]=z1(e)^n[r],bs(e,t[r]);return t}function xi(e,n){const t=new Uint8Array(n.length);for(let r=0;r<n.length;r++)t[r]=z1(e)^n[r],bs(e,n[r]);return t}function W1(e,n){const t=[305419896,591751049,878082192];Object.assign(e,{keys:t,crcKey0:new cs(t[0]),crcKey2:new cs(t[2])});for(let r=0;r<n.length;r++)bs(e,n.charCodeAt(r))}function bs(e,n){let[t,r,i]=e.keys;e.crcKey0.append([n]),t=~e.crcKey0.get(),r=yi(Math.imul(yi(r+K1(t)),134775813)+1),e.crcKey2.append([r>>>24]),i=~e.crcKey2.get(),e.keys=[t,r,i]}function z1(e){const n=e.keys[2]|2;return K1(Math.imul(n,n^1)>>>8)}function K1(e){return e&255}function yi(e){return e&4294967295}const Si="deflate-raw";class Vl extends TransformStream{constructor(n,{chunkSize:t,CompressionStream:r,CompressionStreamNative:i}){super({});const{compressed:s,encrypted:o,useCompressionStream:v,zipCrypto:c,signed:C,level:l}=n,f=this;let S,H,U=Q1(super.readable);(!o||c)&&C&&(S=new P1,U=cn(U,S)),s&&(U=J1(U,v,{level:l,chunkSize:t},i,r)),o&&(c?U=cn(U,new jl(n)):(H=new Dl(n),U=cn(U,H))),$1(f,U,()=>{let D;o&&!c&&(D=H.signature),(!o||c)&&C&&(D=new DataView(S.value.buffer).getUint32(0)),f.signature=D})}}class ql extends TransformStream{constructor(n,{chunkSize:t,DecompressionStream:r,DecompressionStreamNative:i}){super({});const{zipCrypto:s,encrypted:o,signed:v,signature:c,compressed:C,useCompressionStream:l}=n;let f,S,H=Q1(super.readable);o&&(s?H=cn(H,new Fl(n)):(S=new Cl(n),H=cn(H,S))),C&&(H=J1(H,l,{chunkSize:t},i,r)),(!o||s)&&v&&(f=new P1,H=cn(H,f)),$1(this,H,()=>{if((!o||s)&&v){const U=new DataView(f.value.buffer);if(c!=U.getUint32(0,!1))throw new Error(V1)}})}}function Q1(e){return cn(e,new TransformStream({transform(n,t){n&&n.length&&t.enqueue(n)}}))}function $1(e,n,t){n=cn(n,new TransformStream({flush:t})),Object.defineProperty(e,"readable",{get(){return n}})}function J1(e,n,t,r,i){try{const s=n&&r?r:i;e=cn(e,new s(Si,t))}catch{if(n)try{e=cn(e,new i(Si,t))}catch{return e}else return e}return e}function cn(e,n){return e.pipeThrough(n)}const Hl="message",Xl="start",Yl="pull",ki="data",Ul="ack",Ai="close",e0="deflate",Gl="inflate";class Zl extends TransformStream{constructor(n,t){super({});const r=this,{codecType:i}=n;let s;i.startsWith(e0)?s=Vl:i.startsWith(Gl)&&(s=ql);let o=0,v=0;const c=new s(n,t),C=super.readable,l=new TransformStream({transform(S,H){S&&S.length&&(v+=S.length,H.enqueue(S))},flush(){Object.assign(r,{inputSize:v})}}),f=new TransformStream({transform(S,H){S&&S.length&&(o+=S.length,H.enqueue(S))},flush(){const{signature:S}=c;Object.assign(r,{signature:S,outputSize:o,inputSize:v})}});Object.defineProperty(r,"readable",{get(){return C.pipeThrough(l).pipeThrough(c).pipeThrough(f)}})}}class Wl extends TransformStream{constructor(n){let t;super({transform:r,flush(i){t&&t.length&&i.enqueue(t)}});function r(i,s){if(t){const o=new Uint8Array(t.length+i.length);o.set(t),o.set(i,t.length),i=o,t=null}i.length>n?(s.enqueue(i.slice(0,n)),r(i.slice(n),s)):t=i}}}let t0=typeof Worker!=Rn;class Na{constructor(n,{readable:t,writable:r},{options:i,config:s,streamOptions:o,useWebWorkers:v,transferStreams:c,scripts:C},l){const{signal:f}=o;return Object.assign(n,{busy:!0,readable:t.pipeThrough(new Wl(s.chunkSize)).pipeThrough(new zl(t,o),{signal:f}),writable:r,options:Object.assign({},i),scripts:C,transferStreams:c,terminate(){return new Promise(S=>{const{worker:H,busy:U}=n;H?(U?n.resolveTerminated=S:(H.terminate(),S()),n.interface=null):S()})},onTaskFinished(){const{resolveTerminated:S}=n;S&&(n.resolveTerminated=null,n.terminated=!0,n.worker.terminate(),S()),n.busy=!1,l(n)}}),(v&&t0?Kl:n0)(n,s)}}class zl extends TransformStream{constructor(n,{onstart:t,onprogress:r,size:i,onend:s}){let o=0;super({async start(){t&&await Fa(t,i)},async transform(v,c){o+=v.length,r&&await Fa(r,o,i),c.enqueue(v)},async flush(){n.size=o,s&&await Fa(s,o)}})}}async function Fa(e,...n){try{await e(...n)}catch{}}function n0(e,n){return{run:()=>Ql(e,n)}}function Kl(e,n){const{baseURL:t,chunkSize:r}=n;if(!e.interface){let i;try{i=e2(e.scripts[0],t,e)}catch{return t0=!1,n0(e,n)}Object.assign(e,{worker:i,interface:{run:()=>$l(e,{chunkSize:r})}})}return e.interface}async function Ql({options:e,readable:n,writable:t,onTaskFinished:r},i){try{const s=new Zl(e,i);await n.pipeThrough(s).pipeTo(t,{preventClose:!0,preventAbort:!0});const{signature:o,inputSize:v,outputSize:c}=s;return{signature:o,inputSize:v,outputSize:c}}finally{r()}}async function $l(e,n){let t,r;const i=new Promise((S,H)=>{t=S,r=H});Object.assign(e,{reader:null,writer:null,resolveResult:t,rejectResult:r,result:i});const{readable:s,options:o,scripts:v}=e,{writable:c,closed:C}=Jl(e.writable),l=ia({type:Xl,scripts:v.slice(1),options:o,config:n,readable:s,writable:c},e);l||Object.assign(e,{reader:s.getReader(),writer:c.getWriter()});const f=await i;return l||await c.getWriter().close(),await C,f}function Jl(e){let n;const t=new Promise(i=>n=i);return{writable:new WritableStream({async write(i){const s=e.getWriter();await s.ready,await s.write(i),s.releaseLock()},close(){n()},abort(i){return e.getWriter().abort(i)}}),closed:t}}let Ei=!0,Ri=!0;function e2(e,n,t){const r={type:"module"};let i,s;typeof e==Cr&&(e=e());try{i=new URL(e,n)}catch{i=e}if(Ei)try{s=new Worker(i)}catch{Ei=!1,s=new Worker(i,r)}else s=new Worker(i,r);return s.addEventListener(Hl,o=>t2(o,t)),s}function ia(e,{worker:n,writer:t,onTaskFinished:r,transferStreams:i}){try{let{value:s,readable:o,writable:v}=e;const c=[];if(s&&(s.byteLength<s.buffer.byteLength?e.value=s.buffer.slice(0,s.byteLength):e.value=s.buffer,c.push(e.value)),i&&Ri?(o&&c.push(o),v&&c.push(v)):e.readable=e.writable=null,c.length)try{return n.postMessage(e,c),!0}catch{Ri=!1,e.readable=e.writable=null,n.postMessage(e)}else n.postMessage(e)}catch(s){throw t&&t.releaseLock(),r(),s}}async function t2({data:e},n){const{type:t,value:r,messageId:i,result:s,error:o}=e,{reader:v,writer:c,resolveResult:C,rejectResult:l,onTaskFinished:f}=n;try{if(o){const{message:H,stack:U,code:D,name:w}=o,p=new Error(H);Object.assign(p,{stack:U,code:D,name:w}),S(p)}else{if(t==Yl){const{value:H,done:U}=await v.read();ia({type:ki,value:H,done:U,messageId:i},n)}t==ki&&(await c.ready,await c.write(new Uint8Array(r)),ia({type:Ul,messageId:i},n)),t==Ai&&S(null,s)}}catch(H){ia({type:Ai,messageId:i},n),S(H)}function S(H,U){H?l(H):C(U),c&&c.releaseLock(),f()}}let jn=[];const ja=[];let Ti=0;async function n2(e,n){const{options:t,config:r}=n,{transferStreams:i,useWebWorkers:s,useCompressionStream:o,codecType:v,compressed:c,signed:C,encrypted:l}=t,{workerScripts:f,maxWorkers:S}=r;n.transferStreams=i||i===ot;const H=!c&&!C&&!l&&!n.transferStreams;return n.useWebWorkers=!H&&(s||s===ot&&r.useWebWorkers),n.scripts=n.useWebWorkers&&f?f[v]:[],t.useCompressionStream=o||o===ot&&r.useCompressionStream,(await U()).run();async function U(){const w=jn.find(p=>!p.busy);if(w)return Mi(w),new Na(w,e,n,D);if(jn.length<S){const p={indexWorker:Ti};return Ti++,jn.push(p),new Na(p,e,n,D)}else return new Promise(p=>ja.push({resolve:p,stream:e,workerOptions:n}))}function D(w){if(ja.length){const[{resolve:p,stream:_,workerOptions:b}]=ja.splice(0,1);p(new Na(w,_,b,D))}else w.worker?(Mi(w),r2(w,n)):jn=jn.filter(p=>p!=w)}}function r2(e,n){const{config:t}=n,{terminateWorkerTimeout:r}=t;Number.isFinite(r)&&r>=0&&(e.terminated?e.terminated=!1:e.terminateTimeout=setTimeout(async()=>{jn=jn.filter(i=>i!=e);try{await e.terminate()}catch{}},r))}function Mi(e){const{terminateTimeout:n}=e;n&&(clearTimeout(n),e.terminateTimeout=null)}function a2(e,n={}){const t=`const{Array:e,Object:t,Number:n,Math:r,Error:s,Uint8Array:i,Uint16Array:o,Uint32Array:c,Int32Array:f,Map:a,DataView:l,Promise:u,TextEncoder:w,crypto:h,postMessage:d,TransformStream:p,ReadableStream:y,WritableStream:m,CompressionStream:b,DecompressionStream:g}=self,k=void 0,v="undefined",S="function";class z{constructor(e){return class extends p{constructor(t,n){const r=new e(n);super({transform(e,t){t.enqueue(r.append(e))},flush(e){const t=r.flush();t&&e.enqueue(t)}})}}}}const C=[];for(let e=0;256>e;e++){let t=e;for(let e=0;8>e;e++)1&t?t=t>>>1^3988292384:t>>>=1;C[e]=t}class x{constructor(e){this.t=e||-1}append(e){let t=0|this.t;for(let n=0,r=0|e.length;r>n;n++)t=t>>>8^C[255&(t^e[n])];this.t=t}get(){return~this.t}}class A extends p{constructor(){let e;const t=new x;super({transform(e,n){t.append(e),n.enqueue(e)},flush(){const n=new i(4);new l(n.buffer).setUint32(0,t.get()),e.value=n}}),e=this}}const _={concat(e,t){if(0===e.length||0===t.length)return e.concat(t);const n=e[e.length-1],r=_.i(n);return 32===r?e.concat(t):_.o(t,r,0|n,e.slice(0,e.length-1))},l(e){const t=e.length;if(0===t)return 0;const n=e[t-1];return 32*(t-1)+_.i(n)},u(e,t){if(32*e.length<t)return e;const n=(e=e.slice(0,r.ceil(t/32))).length;return t&=31,n>0&&t&&(e[n-1]=_.h(t,e[n-1]&2147483648>>t-1,1)),e},h:(e,t,n)=>32===e?t:(n?0|t:t<<32-e)+1099511627776*e,i:e=>r.round(e/1099511627776)||32,o(e,t,n,r){for(void 0===r&&(r=[]);t>=32;t-=32)r.push(n),n=0;if(0===t)return r.concat(e);for(let s=0;s<e.length;s++)r.push(n|e[s]>>>t),n=e[s]<<32-t;const s=e.length?e[e.length-1]:0,i=_.i(s);return r.push(_.h(t+i&31,t+i>32?n:r.pop(),1)),r}},I={p:{m(e){const t=_.l(e)/8,n=new i(t);let r;for(let s=0;t>s;s++)3&s||(r=e[s/4]),n[s]=r>>>24,r<<=8;return n},k(e){const t=[];let n,r=0;for(n=0;n<e.length;n++)r=r<<8|e[n],3&~n||(t.push(r),r=0);return 3&n&&t.push(_.h(8*(3&n),r)),t}}},P=class{constructor(e){const t=this;t.blockSize=512,t.v=[1732584193,4023233417,2562383102,271733878,3285377520],t.S=[1518500249,1859775393,2400959708,3395469782],e?(t.C=e.C.slice(0),t.A=e.A.slice(0),t._=e._):t.reset()}reset(){const e=this;return e.C=e.v.slice(0),e.A=[],e._=0,e}update(e){const t=this;"string"==typeof e&&(e=I.I.k(e));const n=t.A=_.concat(t.A,e),r=t._,i=t._=r+_.l(e);if(i>9007199254740991)throw new s("Cannot hash more than 2^53 - 1 bits");const o=new c(n);let f=0;for(let e=t.blockSize+r-(t.blockSize+r&t.blockSize-1);i>=e;e+=t.blockSize)t.P(o.subarray(16*f,16*(f+1))),f+=1;return n.splice(0,16*f),t}D(){const e=this;let t=e.A;const n=e.C;t=_.concat(t,[_.h(1,1)]);for(let e=t.length+2;15&e;e++)t.push(0);for(t.push(r.floor(e._/4294967296)),t.push(0|e._);t.length;)e.P(t.splice(0,16));return e.reset(),n}V(e,t,n,r){return e>19?e>39?e>59?e>79?void 0:t^n^r:t&n|t&r|n&r:t^n^r:t&n|~t&r}R(e,t){return t<<e|t>>>32-e}P(t){const n=this,s=n.C,i=e(80);for(let e=0;16>e;e++)i[e]=t[e];let o=s[0],c=s[1],f=s[2],a=s[3],l=s[4];for(let e=0;79>=e;e++){16>e||(i[e]=n.R(1,i[e-3]^i[e-8]^i[e-14]^i[e-16]));const t=n.R(5,o)+n.V(e,c,f,a)+l+i[e]+n.S[r.floor(e/20)]|0;l=a,a=f,f=n.R(30,c),c=o,o=t}s[0]=s[0]+o|0,s[1]=s[1]+c|0,s[2]=s[2]+f|0,s[3]=s[3]+a|0,s[4]=s[4]+l|0}},D={getRandomValues(e){const t=new c(e.buffer),n=e=>{let t=987654321;const n=4294967295;return()=>(t=36969*(65535&t)+(t>>16)&n,(((t<<16)+(e=18e3*(65535&e)+(e>>16)&n)&n)/4294967296+.5)*(r.random()>.5?1:-1))};for(let s,i=0;i<e.length;i+=4){const e=n(4294967296*(s||r.random()));s=987654071*e(),t[i/4]=4294967296*e()|0}return e}},V={importKey:e=>new V.B(I.p.k(e)),M(e,t,n,r){if(n=n||1e4,0>r||0>n)throw new s("invalid params to pbkdf2");const i=1+(r>>5)<<2;let o,c,f,a,u;const w=new ArrayBuffer(i),h=new l(w);let d=0;const p=_;for(t=I.p.k(t),u=1;(i||1)>d;u++){for(o=c=e.encrypt(p.concat(t,[u])),f=1;n>f;f++)for(c=e.encrypt(c),a=0;a<c.length;a++)o[a]^=c[a];for(f=0;(i||1)>d&&f<o.length;f++)h.setInt32(d,o[f]),d+=4}return w.slice(0,r/8)},B:class{constructor(e){const t=this,n=t.U=P,r=[[],[]];t.K=[new n,new n];const s=t.K[0].blockSize/32;e.length>s&&(e=(new n).update(e).D());for(let t=0;s>t;t++)r[0][t]=909522486^e[t],r[1][t]=1549556828^e[t];t.K[0].update(r[0]),t.K[1].update(r[1]),t.N=new n(t.K[0])}reset(){const e=this;e.N=new e.U(e.K[0]),e.O=!1}update(e){this.O=!0,this.N.update(e)}digest(){const e=this,t=e.N.D(),n=new e.U(e.K[1]).update(t).D();return e.reset(),n}encrypt(e){if(this.O)throw new s("encrypt on already updated hmac called!");return this.update(e),this.digest(e)}}},R=typeof h!=v&&typeof h.getRandomValues==S,B="Invalid password",E="Invalid signature",M="zipjs-abort-check-password";function U(e){return R?h.getRandomValues(e):D.getRandomValues(e)}const K=16,N={name:"PBKDF2"},O=t.assign({hash:{name:"HMAC"}},N),T=t.assign({iterations:1e3,hash:{name:"SHA-1"}},N),W=["deriveBits"],j=[8,12,16],H=[16,24,32],L=10,F=[0,0,0,0],q=typeof h!=v,G=q&&h.subtle,J=q&&typeof G!=v,Q=I.p,X=class{constructor(e){const t=this;t.T=[[[],[],[],[],[]],[[],[],[],[],[]]],t.T[0][0][0]||t.W();const n=t.T[0][4],r=t.T[1],i=e.length;let o,c,f,a=1;if(4!==i&&6!==i&&8!==i)throw new s("invalid aes key size");for(t.S=[c=e.slice(0),f=[]],o=i;4*i+28>o;o++){let e=c[o-1];(o%i==0||8===i&&o%i==4)&&(e=n[e>>>24]<<24^n[e>>16&255]<<16^n[e>>8&255]<<8^n[255&e],o%i==0&&(e=e<<8^e>>>24^a<<24,a=a<<1^283*(a>>7))),c[o]=c[o-i]^e}for(let e=0;o;e++,o--){const t=c[3&e?o:o-4];f[e]=4>=o||4>e?t:r[0][n[t>>>24]]^r[1][n[t>>16&255]]^r[2][n[t>>8&255]]^r[3][n[255&t]]}}encrypt(e){return this.j(e,0)}decrypt(e){return this.j(e,1)}W(){const e=this.T[0],t=this.T[1],n=e[4],r=t[4],s=[],i=[];let o,c,f,a;for(let e=0;256>e;e++)i[(s[e]=e<<1^283*(e>>7))^e]=e;for(let l=o=0;!n[l];l^=c||1,o=i[o]||1){let i=o^o<<1^o<<2^o<<3^o<<4;i=i>>8^255&i^99,n[l]=i,r[i]=l,a=s[f=s[c=s[l]]];let u=16843009*a^65537*f^257*c^16843008*l,w=257*s[i]^16843008*i;for(let n=0;4>n;n++)e[n][l]=w=w<<24^w>>>8,t[n][i]=u=u<<24^u>>>8}for(let n=0;5>n;n++)e[n]=e[n].slice(0),t[n]=t[n].slice(0)}j(e,t){if(4!==e.length)throw new s("invalid aes block size");const n=this.S[t],r=n.length/4-2,i=[0,0,0,0],o=this.T[t],c=o[0],f=o[1],a=o[2],l=o[3],u=o[4];let w,h,d,p=e[0]^n[0],y=e[t?3:1]^n[1],m=e[2]^n[2],b=e[t?1:3]^n[3],g=4;for(let e=0;r>e;e++)w=c[p>>>24]^f[y>>16&255]^a[m>>8&255]^l[255&b]^n[g],h=c[y>>>24]^f[m>>16&255]^a[b>>8&255]^l[255&p]^n[g+1],d=c[m>>>24]^f[b>>16&255]^a[p>>8&255]^l[255&y]^n[g+2],b=c[b>>>24]^f[p>>16&255]^a[y>>8&255]^l[255&m]^n[g+3],g+=4,p=w,y=h,m=d;for(let e=0;4>e;e++)i[t?3&-e:e]=u[p>>>24]<<24^u[y>>16&255]<<16^u[m>>8&255]<<8^u[255&b]^n[g++],w=p,p=y,y=m,m=b,b=w;return i}},Y=class{constructor(e,t){this.H=e,this.L=t,this.F=t}reset(){this.F=this.L}update(e){return this.q(this.H,e,this.F)}G(e){if(255&~(e>>24))e+=1<<24;else{let t=e>>16&255,n=e>>8&255,r=255&e;255===t?(t=0,255===n?(n=0,255===r?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}return e}J(e){0===(e[0]=this.G(e[0]))&&(e[1]=this.G(e[1]))}q(e,t,n){let r;if(!(r=t.length))return[];const s=_.l(t);for(let s=0;r>s;s+=4){this.J(n);const r=e.encrypt(n);t[s]^=r[0],t[s+1]^=r[1],t[s+2]^=r[2],t[s+3]^=r[3]}return _.u(t,s)}},Z=V.B;let $=q&&J&&typeof G.importKey==S,ee=q&&J&&typeof G.deriveBits==S;class te extends p{constructor({password:e,rawPassword:n,signed:r,encryptionStrength:o,checkPasswordOnly:c}){super({start(){t.assign(this,{ready:new u((e=>this.X=e)),password:ie(e,n),signed:r,Y:o-1,pending:new i})},async transform(e,t){const n=this,{password:r,Y:o,X:f,ready:a}=n;r?(await(async(e,t,n,r)=>{const i=await se(e,t,n,ce(r,0,j[t])),o=ce(r,j[t]);if(i[0]!=o[0]||i[1]!=o[1])throw new s(B)})(n,o,r,ce(e,0,j[o]+2)),e=ce(e,j[o]+2),c?t.error(new s(M)):f()):await a;const l=new i(e.length-L-(e.length-L)%K);t.enqueue(re(n,e,l,0,L,!0))},async flush(e){const{signed:t,Z:n,$:r,pending:o,ready:c}=this;if(r&&n){await c;const f=ce(o,0,o.length-L),a=ce(o,o.length-L);let l=new i;if(f.length){const e=ae(Q,f);r.update(e);const t=n.update(e);l=fe(Q,t)}if(t){const e=ce(fe(Q,r.digest()),0,L);for(let t=0;L>t;t++)if(e[t]!=a[t])throw new s(E)}e.enqueue(l)}}})}}class ne extends p{constructor({password:e,rawPassword:n,encryptionStrength:r}){let s;super({start(){t.assign(this,{ready:new u((e=>this.X=e)),password:ie(e,n),Y:r-1,pending:new i})},async transform(e,t){const n=this,{password:r,Y:s,X:o,ready:c}=n;let f=new i;r?(f=await(async(e,t,n)=>{const r=U(new i(j[t]));return oe(r,await se(e,t,n,r))})(n,s,r),o()):await c;const a=new i(f.length+e.length-e.length%K);a.set(f,0),t.enqueue(re(n,e,a,f.length,0))},async flush(e){const{Z:t,$:n,pending:r,ready:o}=this;if(n&&t){await o;let c=new i;if(r.length){const e=t.update(ae(Q,r));n.update(e),c=fe(Q,e)}s.signature=fe(Q,n.digest()).slice(0,L),e.enqueue(oe(c,s.signature))}}}),s=this}}function re(e,t,n,r,s,o){const{Z:c,$:f,pending:a}=e,l=t.length-s;let u;for(a.length&&(t=oe(a,t),n=((e,t)=>{if(t&&t>e.length){const n=e;(e=new i(t)).set(n,0)}return e})(n,l-l%K)),u=0;l-K>=u;u+=K){const e=ae(Q,ce(t,u,u+K));o&&f.update(e);const s=c.update(e);o||f.update(s),n.set(fe(Q,s),u+r)}return e.pending=ce(t,u),n}async function se(n,r,s,o){n.password=null;const c=await(async(e,t,n,r,s)=>{if(!$)return V.importKey(t);try{return await G.importKey("raw",t,n,!1,s)}catch(e){return $=!1,V.importKey(t)}})(0,s,O,0,W),f=await(async(e,t,n)=>{if(!ee)return V.M(t,e.salt,T.iterations,n);try{return await G.deriveBits(e,t,n)}catch(r){return ee=!1,V.M(t,e.salt,T.iterations,n)}})(t.assign({salt:o},T),c,8*(2*H[r]+2)),a=new i(f),l=ae(Q,ce(a,0,H[r])),u=ae(Q,ce(a,H[r],2*H[r])),w=ce(a,2*H[r]);return t.assign(n,{keys:{key:l,ee:u,passwordVerification:w},Z:new Y(new X(l),e.from(F)),$:new Z(u)}),w}function ie(e,t){return t===k?(e=>{if(typeof w==v){const t=new i((e=unescape(encodeURIComponent(e))).length);for(let n=0;n<t.length;n++)t[n]=e.charCodeAt(n);return t}return(new w).encode(e)})(e):t}function oe(e,t){let n=e;return e.length+t.length&&(n=new i(e.length+t.length),n.set(e,0),n.set(t,e.length)),n}function ce(e,t,n){return e.subarray(t,n)}function fe(e,t){return e.m(t)}function ae(e,t){return e.k(t)}class le extends p{constructor({password:e,passwordVerification:n,checkPasswordOnly:r}){super({start(){t.assign(this,{password:e,passwordVerification:n}),de(this,e)},transform(e,t){const n=this;if(n.password){const t=we(n,e.subarray(0,12));if(n.password=null,t[11]!=n.passwordVerification)throw new s(B);e=e.subarray(12)}r?t.error(new s(M)):t.enqueue(we(n,e))}})}}class ue extends p{constructor({password:e,passwordVerification:n}){super({start(){t.assign(this,{password:e,passwordVerification:n}),de(this,e)},transform(e,t){const n=this;let r,s;if(n.password){n.password=null;const t=U(new i(12));t[11]=n.passwordVerification,r=new i(e.length+t.length),r.set(he(n,t),0),s=12}else r=new i(e.length),s=0;r.set(he(n,e),s),t.enqueue(r)}})}}function we(e,t){const n=new i(t.length);for(let r=0;r<t.length;r++)n[r]=ye(e)^t[r],pe(e,n[r]);return n}function he(e,t){const n=new i(t.length);for(let r=0;r<t.length;r++)n[r]=ye(e)^t[r],pe(e,t[r]);return n}function de(e,n){const r=[305419896,591751049,878082192];t.assign(e,{keys:r,te:new x(r[0]),ne:new x(r[2])});for(let t=0;t<n.length;t++)pe(e,n.charCodeAt(t))}function pe(e,t){let[n,s,i]=e.keys;e.te.append([t]),n=~e.te.get(),s=be(r.imul(be(s+me(n)),134775813)+1),e.ne.append([s>>>24]),i=~e.ne.get(),e.keys=[n,s,i]}function ye(e){const t=2|e.keys[2];return me(r.imul(t,1^t)>>>8)}function me(e){return 255&e}function be(e){return 4294967295&e}const ge="deflate-raw";class ke extends p{constructor(e,{chunkSize:t,CompressionStream:n,CompressionStreamNative:r}){super({});const{compressed:s,encrypted:i,useCompressionStream:o,zipCrypto:c,signed:f,level:a}=e,u=this;let w,h,d=Se(super.readable);i&&!c||!f||(w=new A,d=xe(d,w)),s&&(d=Ce(d,o,{level:a,chunkSize:t},r,n)),i&&(c?d=xe(d,new ue(e)):(h=new ne(e),d=xe(d,h))),ze(u,d,(()=>{let e;i&&!c&&(e=h.signature),i&&!c||!f||(e=new l(w.value.buffer).getUint32(0)),u.signature=e}))}}class ve extends p{constructor(e,{chunkSize:t,DecompressionStream:n,DecompressionStreamNative:r}){super({});const{zipCrypto:i,encrypted:o,signed:c,signature:f,compressed:a,useCompressionStream:u}=e;let w,h,d=Se(super.readable);o&&(i?d=xe(d,new le(e)):(h=new te(e),d=xe(d,h))),a&&(d=Ce(d,u,{chunkSize:t},r,n)),o&&!i||!c||(w=new A,d=xe(d,w)),ze(this,d,(()=>{if((!o||i)&&c){const e=new l(w.value.buffer);if(f!=e.getUint32(0,!1))throw new s(E)}}))}}function Se(e){return xe(e,new p({transform(e,t){e&&e.length&&t.enqueue(e)}}))}function ze(e,n,r){n=xe(n,new p({flush:r})),t.defineProperty(e,"readable",{get:()=>n})}function Ce(e,t,n,r,s){try{e=xe(e,new(t&&r?r:s)(ge,n))}catch(r){if(!t)return e;try{e=xe(e,new s(ge,n))}catch(t){return e}}return e}function xe(e,t){return e.pipeThrough(t)}const Ae="data",_e="close";class Ie extends p{constructor(e,n){super({});const r=this,{codecType:s}=e;let i;s.startsWith("deflate")?i=ke:s.startsWith("inflate")&&(i=ve);let o=0,c=0;const f=new i(e,n),a=super.readable,l=new p({transform(e,t){e&&e.length&&(c+=e.length,t.enqueue(e))},flush(){t.assign(r,{inputSize:c})}}),u=new p({transform(e,t){e&&e.length&&(o+=e.length,t.enqueue(e))},flush(){const{signature:e}=f;t.assign(r,{signature:e,outputSize:o,inputSize:c})}});t.defineProperty(r,"readable",{get:()=>a.pipeThrough(l).pipeThrough(f).pipeThrough(u)})}}class Pe extends p{constructor(e){let t;super({transform:function n(r,s){if(t){const e=new i(t.length+r.length);e.set(t),e.set(r,t.length),r=e,t=null}r.length>e?(s.enqueue(r.slice(0,e)),n(r.slice(e),s)):t=r},flush(e){t&&t.length&&e.enqueue(t)}})}}const De=new a,Ve=new a;let Re,Be=0,Ee=!0;async function Me(e){try{const{options:t,scripts:r,config:s}=e;if(r&&r.length)try{Ee?importScripts.apply(k,r):await Ue(r)}catch(e){Ee=!1,await Ue(r)}self.initCodec&&self.initCodec(),s.CompressionStreamNative=self.CompressionStream,s.DecompressionStreamNative=self.DecompressionStream,self.Deflate&&(s.CompressionStream=new z(self.Deflate)),self.Inflate&&(s.DecompressionStream=new z(self.Inflate));const i={highWaterMark:1},o=e.readable||new y({async pull(e){const t=new u((e=>De.set(Be,e)));Ke({type:"pull",messageId:Be}),Be=(Be+1)%n.MAX_SAFE_INTEGER;const{value:r,done:s}=await t;e.enqueue(r),s&&e.close()}},i),c=e.writable||new m({async write(e){let t;const r=new u((e=>t=e));Ve.set(Be,t),Ke({type:Ae,value:e,messageId:Be}),Be=(Be+1)%n.MAX_SAFE_INTEGER,await r}},i),f=new Ie(t,s);Re=new AbortController;const{signal:a}=Re;await o.pipeThrough(f).pipeThrough(new Pe(s.chunkSize)).pipeTo(c,{signal:a,preventClose:!0,preventAbort:!0}),await c.getWriter().close();const{signature:l,inputSize:w,outputSize:h}=f;Ke({type:_e,result:{signature:l,inputSize:w,outputSize:h}})}catch(e){Ne(e)}}async function Ue(e){for(const t of e)await import(t)}function Ke(e){let{value:t}=e;if(t)if(t.length)try{t=new i(t),e.value=t.buffer,d(e,[e.value])}catch(t){d(e)}else d(e);else d(e)}function Ne(e=new s("Unknown error")){const{message:t,stack:n,code:r,name:i}=e;d({error:{message:t,stack:n,code:r,name:i}})}addEventListener("message",(({data:e})=>{const{type:t,messageId:n,value:r,done:s}=e;try{if("start"==t&&Me(e),t==Ae){const e=De.get(n);De.delete(n),e({value:new i(r),done:s})}if("ack"==t){const e=Ve.get(n);Ve.delete(n),e()}t==_e&&Re.abort()}catch(e){Ne(e)}}));const Oe=15,Te=573,We=-2;function je(t){return He(t.map((([t,n])=>new e(t).fill(n,0,t))))}function He(t){return t.reduce(((t,n)=>t.concat(e.isArray(n)?He(n):n)),[])}const Le=[0,1,2,3].concat(...je([[2,4],[2,5],[4,6],[4,7],[8,8],[8,9],[16,10],[16,11],[32,12],[32,13],[64,14],[64,15],[2,0],[1,16],[1,17],[2,18],[2,19],[4,20],[4,21],[8,22],[8,23],[16,24],[16,25],[32,26],[32,27],[64,28],[64,29]]));function Fe(){const e=this;function t(e,t){let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}e.re=n=>{const s=e.se,i=e.oe.ie,o=e.oe.ce;let c,f,a,l=-1;for(n.fe=0,n.ae=Te,c=0;o>c;c++)0!==s[2*c]?(n.le[++n.fe]=l=c,n.ue[c]=0):s[2*c+1]=0;for(;2>n.fe;)a=n.le[++n.fe]=2>l?++l:0,s[2*a]=1,n.ue[a]=0,n.we--,i&&(n.he-=i[2*a+1]);for(e.de=l,c=r.floor(n.fe/2);c>=1;c--)n.pe(s,c);a=o;do{c=n.le[1],n.le[1]=n.le[n.fe--],n.pe(s,1),f=n.le[1],n.le[--n.ae]=c,n.le[--n.ae]=f,s[2*a]=s[2*c]+s[2*f],n.ue[a]=r.max(n.ue[c],n.ue[f])+1,s[2*c+1]=s[2*f+1]=a,n.le[1]=a++,n.pe(s,1)}while(n.fe>=2);n.le[--n.ae]=n.le[1],(t=>{const n=e.se,r=e.oe.ie,s=e.oe.ye,i=e.oe.me,o=e.oe.be;let c,f,a,l,u,w,h=0;for(l=0;Oe>=l;l++)t.ge[l]=0;for(n[2*t.le[t.ae]+1]=0,c=t.ae+1;Te>c;c++)f=t.le[c],l=n[2*n[2*f+1]+1]+1,l>o&&(l=o,h++),n[2*f+1]=l,f>e.de||(t.ge[l]++,u=0,i>f||(u=s[f-i]),w=n[2*f],t.we+=w*(l+u),r&&(t.he+=w*(r[2*f+1]+u)));if(0!==h){do{for(l=o-1;0===t.ge[l];)l--;t.ge[l]--,t.ge[l+1]+=2,t.ge[o]--,h-=2}while(h>0);for(l=o;0!==l;l--)for(f=t.ge[l];0!==f;)a=t.le[--c],a>e.de||(n[2*a+1]!=l&&(t.we+=(l-n[2*a+1])*n[2*a],n[2*a+1]=l),f--)}})(n),((e,n,r)=>{const s=[];let i,o,c,f=0;for(i=1;Oe>=i;i++)s[i]=f=f+r[i-1]<<1;for(o=0;n>=o;o++)c=e[2*o+1],0!==c&&(e[2*o]=t(s[c]++,c))})(s,e.de,n.ge)}}function qe(e,t,n,r,s){const i=this;i.ie=e,i.ye=t,i.me=n,i.ce=r,i.be=s}Fe.ke=[0,1,2,3,4,5,6,7].concat(...je([[2,8],[2,9],[2,10],[2,11],[4,12],[4,13],[4,14],[4,15],[8,16],[8,17],[8,18],[8,19],[16,20],[16,21],[16,22],[16,23],[32,24],[32,25],[32,26],[31,27],[1,28]])),Fe.ve=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],Fe.Se=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],Fe.ze=e=>256>e?Le[e]:Le[256+(e>>>7)],Fe.Ce=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Fe.xe=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Fe.Ae=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Fe._e=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];const Ge=je([[144,8],[112,9],[24,7],[8,8]]);qe.Ie=He([12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254,1,129,65,193,33,161,97,225,17,145,81,209,49,177,113,241,9,137,73,201,41,169,105,233,25,153,89,217,57,185,121,249,5,133,69,197,37,165,101,229,21,149,85,213,53,181,117,245,13,141,77,205,45,173,109,237,29,157,93,221,61,189,125,253,19,275,147,403,83,339,211,467,51,307,179,435,115,371,243,499,11,267,139,395,75,331,203,459,43,299,171,427,107,363,235,491,27,283,155,411,91,347,219,475,59,315,187,443,123,379,251,507,7,263,135,391,71,327,199,455,39,295,167,423,103,359,231,487,23,279,151,407,87,343,215,471,55,311,183,439,119,375,247,503,15,271,143,399,79,335,207,463,47,303,175,431,111,367,239,495,31,287,159,415,95,351,223,479,63,319,191,447,127,383,255,511,0,64,32,96,16,80,48,112,8,72,40,104,24,88,56,120,4,68,36,100,20,84,52,116,3,131,67,195,35,163,99,227].map(((e,t)=>[e,Ge[t]])));const Je=je([[30,5]]);function Qe(e,t,n,r,s){const i=this;i.Pe=e,i.De=t,i.Ve=n,i.Re=r,i.Be=s}qe.Ee=He([0,16,8,24,4,20,12,28,2,18,10,26,6,22,14,30,1,17,9,25,5,21,13,29,3,19,11,27,7,23].map(((e,t)=>[e,Je[t]]))),qe.Me=new qe(qe.Ie,Fe.Ce,257,286,Oe),qe.Ue=new qe(qe.Ee,Fe.xe,0,30,Oe),qe.Ke=new qe(null,Fe.Ae,0,19,7);const Xe=[new Qe(0,0,0,0,0),new Qe(4,4,8,4,1),new Qe(4,5,16,8,1),new Qe(4,6,32,32,1),new Qe(4,4,16,16,2),new Qe(8,16,32,32,2),new Qe(8,16,128,128,2),new Qe(8,32,128,256,2),new Qe(32,128,258,1024,2),new Qe(32,258,258,4096,2)],Ye=["need dictionary","stream end","","","stream error","data error","","buffer error","",""],Ze=113,$e=666,et=262;function tt(e,t,n,r){const s=e[2*t],i=e[2*n];return i>s||s==i&&r[t]<=r[n]}function nt(){const e=this;let t,n,s,c,f,a,l,u,w,h,d,p,y,m,b,g,k,v,S,z,C,x,A,_,I,P,D,V,R,B,E,M,U;const K=new Fe,N=new Fe,O=new Fe;let T,W,j,H,L,F;function q(){let t;for(t=0;286>t;t++)E[2*t]=0;for(t=0;30>t;t++)M[2*t]=0;for(t=0;19>t;t++)U[2*t]=0;E[512]=1,e.we=e.he=0,W=j=0}function G(e,t){let n,r=-1,s=e[1],i=0,o=7,c=4;0===s&&(o=138,c=3),e[2*(t+1)+1]=65535;for(let f=0;t>=f;f++)n=s,s=e[2*(f+1)+1],++i<o&&n==s||(c>i?U[2*n]+=i:0!==n?(n!=r&&U[2*n]++,U[32]++):i>10?U[36]++:U[34]++,i=0,r=n,0===s?(o=138,c=3):n==s?(o=6,c=3):(o=7,c=4))}function J(t){e.Ne[e.pending++]=t}function Q(e){J(255&e),J(e>>>8&255)}function X(e,t){let n;const r=t;F>16-r?(n=e,L|=n<<F&65535,Q(L),L=n>>>16-F,F+=r-16):(L|=e<<F&65535,F+=r)}function Y(e,t){const n=2*e;X(65535&t[n],65535&t[n+1])}function Z(e,t){let n,r,s=-1,i=e[1],o=0,c=7,f=4;for(0===i&&(c=138,f=3),n=0;t>=n;n++)if(r=i,i=e[2*(n+1)+1],++o>=c||r!=i){if(f>o)do{Y(r,U)}while(0!=--o);else 0!==r?(r!=s&&(Y(r,U),o--),Y(16,U),X(o-3,2)):o>10?(Y(18,U),X(o-11,7)):(Y(17,U),X(o-3,3));o=0,s=r,0===i?(c=138,f=3):r==i?(c=6,f=3):(c=7,f=4)}}function $(){16==F?(Q(L),L=0,F=0):8>F||(J(255&L),L>>>=8,F-=8)}function ee(t,n){let s,i,o;if(e.Oe[W]=t,e.Te[W]=255&n,W++,0===t?E[2*n]++:(j++,t--,E[2*(Fe.ke[n]+256+1)]++,M[2*Fe.ze(t)]++),!(8191&W)&&D>2){for(s=8*W,i=C-k,o=0;30>o;o++)s+=M[2*o]*(5+Fe.xe[o]);if(s>>>=3,j<r.floor(W/2)&&s<r.floor(i/2))return!0}return W==T-1}function te(t,n){let r,s,i,o,c=0;if(0!==W)do{r=e.Oe[c],s=e.Te[c],c++,0===r?Y(s,t):(i=Fe.ke[s],Y(i+256+1,t),o=Fe.Ce[i],0!==o&&(s-=Fe.ve[i],X(s,o)),r--,i=Fe.ze(r),Y(i,n),o=Fe.xe[i],0!==o&&(r-=Fe.Se[i],X(r,o)))}while(W>c);Y(256,t),H=t[513]}function ne(){F>8?Q(L):F>0&&J(255&L),L=0,F=0}function re(t,n,r){X(0+(r?1:0),3),((t,n)=>{ne(),H=8,Q(n),Q(~n),e.Ne.set(u.subarray(t,t+n),e.pending),e.pending+=n})(t,n)}function se(n){((t,n,r)=>{let s,i,o=0;D>0?(K.re(e),N.re(e),o=(()=>{let t;for(G(E,K.de),G(M,N.de),O.re(e),t=18;t>=3&&0===U[2*Fe._e[t]+1];t--);return e.we+=14+3*(t+1),t})(),s=e.we+3+7>>>3,i=e.he+3+7>>>3,i>s||(s=i)):s=i=n+5,n+4>s||-1==t?i==s?(X(2+(r?1:0),3),te(qe.Ie,qe.Ee)):(X(4+(r?1:0),3),((e,t,n)=>{let r;for(X(e-257,5),X(t-1,5),X(n-4,4),r=0;n>r;r++)X(U[2*Fe._e[r]+1],3);Z(E,e-1),Z(M,t-1)})(K.de+1,N.de+1,o+1),te(E,M)):re(t,n,r),q(),r&&ne()})(0>k?-1:k,C-k,n),k=C,t.We()}function ie(){let e,n,r,s;do{if(s=w-A-C,0===s&&0===C&&0===A)s=f;else if(-1==s)s--;else if(C>=f+f-et){u.set(u.subarray(f,f+f),0),x-=f,C-=f,k-=f,e=y,r=e;do{n=65535&d[--r],d[r]=f>n?0:n-f}while(0!=--e);e=f,r=e;do{n=65535&h[--r],h[r]=f>n?0:n-f}while(0!=--e);s+=f}if(0===t.je)return;e=t.He(u,C+A,s),A+=e,3>A||(p=255&u[C],p=(p<<g^255&u[C+1])&b)}while(et>A&&0!==t.je)}function oe(e){let t,n,r=I,s=C,i=_;const o=C>f-et?C-(f-et):0;let c=B;const a=l,w=C+258;let d=u[s+i-1],p=u[s+i];R>_||(r>>=2),c>A&&(c=A);do{if(t=e,u[t+i]==p&&u[t+i-1]==d&&u[t]==u[s]&&u[++t]==u[s+1]){s+=2,t++;do{}while(u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&w>s);if(n=258-(w-s),s=w-258,n>i){if(x=e,i=n,n>=c)break;d=u[s+i-1],p=u[s+i]}}}while((e=65535&h[e&a])>o&&0!=--r);return i>A?A:i}e.ue=[],e.ge=[],e.le=[],E=[],M=[],U=[],e.pe=(t,n)=>{const r=e.le,s=r[n];let i=n<<1;for(;i<=e.fe&&(i<e.fe&&tt(t,r[i+1],r[i],e.ue)&&i++,!tt(t,s,r[i],e.ue));)r[n]=r[i],n=i,i<<=1;r[n]=s},e.Le=(t,S,x,W,j,G)=>(W||(W=8),j||(j=8),G||(G=0),t.Fe=null,-1==S&&(S=6),1>j||j>9||8!=W||9>x||x>15||0>S||S>9||0>G||G>2?We:(t.qe=e,a=x,f=1<<a,l=f-1,m=j+7,y=1<<m,b=y-1,g=r.floor((m+3-1)/3),u=new i(2*f),h=[],d=[],T=1<<j+6,e.Ne=new i(4*T),s=4*T,e.Oe=new o(T),e.Te=new i(T),D=S,V=G,(t=>(t.Ge=t.Je=0,t.Fe=null,e.pending=0,e.Qe=0,n=Ze,c=0,K.se=E,K.oe=qe.Me,N.se=M,N.oe=qe.Ue,O.se=U,O.oe=qe.Ke,L=0,F=0,H=8,q(),(()=>{w=2*f,d[y-1]=0;for(let e=0;y-1>e;e++)d[e]=0;P=Xe[D].De,R=Xe[D].Pe,B=Xe[D].Ve,I=Xe[D].Re,C=0,k=0,A=0,v=_=2,z=0,p=0})(),0))(t))),e.Xe=()=>42!=n&&n!=Ze&&n!=$e?We:(e.Te=null,e.Oe=null,e.Ne=null,d=null,h=null,u=null,e.qe=null,n==Ze?-3:0),e.Ye=(e,t,n)=>{let r=0;return-1==t&&(t=6),0>t||t>9||0>n||n>2?We:(Xe[D].Be!=Xe[t].Be&&0!==e.Ge&&(r=e.Ze(1)),D!=t&&(D=t,P=Xe[D].De,R=Xe[D].Pe,B=Xe[D].Ve,I=Xe[D].Re),V=n,r)},e.$e=(e,t,r)=>{let s,i=r,o=0;if(!t||42!=n)return We;if(3>i)return 0;for(i>f-et&&(i=f-et,o=r-i),u.set(t.subarray(o,o+i),0),C=i,k=i,p=255&u[0],p=(p<<g^255&u[1])&b,s=0;i-3>=s;s++)p=(p<<g^255&u[s+2])&b,h[s&l]=d[p],d[p]=s;return 0},e.Ze=(r,i)=>{let o,w,m,I,R;if(i>4||0>i)return We;if(!r.et||!r.tt&&0!==r.je||n==$e&&4!=i)return r.Fe=Ye[4],We;if(0===r.nt)return r.Fe=Ye[7],-5;var B;if(t=r,I=c,c=i,42==n&&(w=8+(a-8<<4)<<8,m=(D-1&255)>>1,m>3&&(m=3),w|=m<<6,0!==C&&(w|=32),w+=31-w%31,n=Ze,J((B=w)>>8&255),J(255&B)),0!==e.pending){if(t.We(),0===t.nt)return c=-1,0}else if(0===t.je&&I>=i&&4!=i)return t.Fe=Ye[7],-5;if(n==$e&&0!==t.je)return r.Fe=Ye[7],-5;if(0!==t.je||0!==A||0!=i&&n!=$e){switch(R=-1,Xe[D].Be){case 0:R=(e=>{let n,r=65535;for(r>s-5&&(r=s-5);;){if(1>=A){if(ie(),0===A&&0==e)return 0;if(0===A)break}if(C+=A,A=0,n=k+r,(0===C||C>=n)&&(A=C-n,C=n,se(!1),0===t.nt))return 0;if(C-k>=f-et&&(se(!1),0===t.nt))return 0}return se(4==e),0===t.nt?4==e?2:0:4==e?3:1})(i);break;case 1:R=(e=>{let n,r=0;for(;;){if(et>A){if(ie(),et>A&&0==e)return 0;if(0===A)break}if(3>A||(p=(p<<g^255&u[C+2])&b,r=65535&d[p],h[C&l]=d[p],d[p]=C),0===r||(C-r&65535)>f-et||2!=V&&(v=oe(r)),3>v)n=ee(0,255&u[C]),A--,C++;else if(n=ee(C-x,v-3),A-=v,v>P||3>A)C+=v,v=0,p=255&u[C],p=(p<<g^255&u[C+1])&b;else{v--;do{C++,p=(p<<g^255&u[C+2])&b,r=65535&d[p],h[C&l]=d[p],d[p]=C}while(0!=--v);C++}if(n&&(se(!1),0===t.nt))return 0}return se(4==e),0===t.nt?4==e?2:0:4==e?3:1})(i);break;case 2:R=(e=>{let n,r,s=0;for(;;){if(et>A){if(ie(),et>A&&0==e)return 0;if(0===A)break}if(3>A||(p=(p<<g^255&u[C+2])&b,s=65535&d[p],h[C&l]=d[p],d[p]=C),_=v,S=x,v=2,0!==s&&P>_&&f-et>=(C-s&65535)&&(2!=V&&(v=oe(s)),5>=v&&(1==V||3==v&&C-x>4096)&&(v=2)),3>_||v>_)if(0!==z){if(n=ee(0,255&u[C-1]),n&&se(!1),C++,A--,0===t.nt)return 0}else z=1,C++,A--;else{r=C+A-3,n=ee(C-1-S,_-3),A-=_-1,_-=2;do{++C>r||(p=(p<<g^255&u[C+2])&b,s=65535&d[p],h[C&l]=d[p],d[p]=C)}while(0!=--_);if(z=0,v=2,C++,n&&(se(!1),0===t.nt))return 0}}return 0!==z&&(n=ee(0,255&u[C-1]),z=0),se(4==e),0===t.nt?4==e?2:0:4==e?3:1})(i)}if(2!=R&&3!=R||(n=$e),0==R||2==R)return 0===t.nt&&(c=-1),0;if(1==R){if(1==i)X(2,3),Y(256,qe.Ie),$(),9>1+H+10-F&&(X(2,3),Y(256,qe.Ie),$()),H=7;else if(re(0,0,!1),3==i)for(o=0;y>o;o++)d[o]=0;if(t.We(),0===t.nt)return c=-1,0}}return 4!=i?0:1}}function rt(){const e=this;e.rt=0,e.st=0,e.je=0,e.Ge=0,e.nt=0,e.Je=0}function st(e){const t=new rt,n=(o=e&&e.chunkSize?e.chunkSize:65536)+5*(r.floor(o/16383)+1);var o;const c=new i(n);let f=e?e.level:-1;void 0===f&&(f=-1),t.Le(f),t.et=c,this.append=(e,r)=>{let o,f,a=0,l=0,u=0;const w=[];if(e.length){t.rt=0,t.tt=e,t.je=e.length;do{if(t.st=0,t.nt=n,o=t.Ze(0),0!=o)throw new s("deflating: "+t.Fe);t.st&&(t.st==n?w.push(new i(c)):w.push(c.subarray(0,t.st))),u+=t.st,r&&t.rt>0&&t.rt!=a&&(r(t.rt),a=t.rt)}while(t.je>0||0===t.nt);return w.length>1?(f=new i(u),w.forEach((e=>{f.set(e,l),l+=e.length}))):f=w[0]?new i(w[0]):new i,f}},this.flush=()=>{let e,r,o=0,f=0;const a=[];do{if(t.st=0,t.nt=n,e=t.Ze(4),1!=e&&0!=e)throw new s("deflating: "+t.Fe);n-t.nt>0&&a.push(c.slice(0,t.st)),f+=t.st}while(t.je>0||0===t.nt);return t.Xe(),r=new i(f),a.forEach((e=>{r.set(e,o),o+=e.length})),r}}rt.prototype={Le(e,t){const n=this;return n.qe=new nt,t||(t=Oe),n.qe.Le(n,e,t)},Ze(e){const t=this;return t.qe?t.qe.Ze(t,e):We},Xe(){const e=this;if(!e.qe)return We;const t=e.qe.Xe();return e.qe=null,t},Ye(e,t){const n=this;return n.qe?n.qe.Ye(n,e,t):We},$e(e,t){const n=this;return n.qe?n.qe.$e(n,e,t):We},He(e,t,n){const r=this;let s=r.je;return s>n&&(s=n),0===s?0:(r.je-=s,e.set(r.tt.subarray(r.rt,r.rt+s),t),r.rt+=s,r.Ge+=s,s)},We(){const e=this;let t=e.qe.pending;t>e.nt&&(t=e.nt),0!==t&&(e.et.set(e.qe.Ne.subarray(e.qe.Qe,e.qe.Qe+t),e.st),e.st+=t,e.qe.Qe+=t,e.Je+=t,e.nt-=t,e.qe.pending-=t,0===e.qe.pending&&(e.qe.Qe=0))}};const it=0,ot=1,ct=-2,ft=-3,at=-4,lt=-5,ut=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],wt=1440,ht=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],dt=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],pt=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],yt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],mt=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],bt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],gt=15;function kt(){let e,t,n,r,s,i;function o(e,t,o,c,f,a,l,u,w,h,d){let p,y,m,b,g,k,v,S,z,C,x,A,_,I,P;C=0,g=o;do{n[e[t+C]]++,C++,g--}while(0!==g);if(n[0]==o)return l[0]=-1,u[0]=0,it;for(S=u[0],k=1;gt>=k&&0===n[k];k++);for(v=k,k>S&&(S=k),g=gt;0!==g&&0===n[g];g--);for(m=g,S>g&&(S=g),u[0]=S,I=1<<k;g>k;k++,I<<=1)if(0>(I-=n[k]))return ft;if(0>(I-=n[g]))return ft;for(n[g]+=I,i[1]=k=0,C=1,_=2;0!=--g;)i[_]=k+=n[C],_++,C++;g=0,C=0;do{0!==(k=e[t+C])&&(d[i[k]++]=g),C++}while(++g<o);for(o=i[m],i[0]=g=0,C=0,b=-1,A=-S,s[0]=0,x=0,P=0;m>=v;v++)for(p=n[v];0!=p--;){for(;v>A+S;){if(b++,A+=S,P=m-A,P=P>S?S:P,(y=1<<(k=v-A))>p+1&&(y-=p+1,_=v,P>k))for(;++k<P&&(y<<=1)>n[++_];)y-=n[_];if(P=1<<k,h[0]+P>wt)return ft;s[b]=x=h[0],h[0]+=P,0!==b?(i[b]=g,r[0]=k,r[1]=S,k=g>>>A-S,r[2]=x-s[b-1]-k,w.set(r,3*(s[b-1]+k))):l[0]=x}for(r[1]=v-A,o>C?d[C]<c?(r[0]=256>d[C]?0:96,r[2]=d[C++]):(r[0]=a[d[C]-c]+16+64,r[2]=f[d[C++]-c]):r[0]=192,y=1<<v-A,k=g>>>A;P>k;k+=y)w.set(r,3*(x+k));for(k=1<<v-1;g&k;k>>>=1)g^=k;for(g^=k,z=(1<<A)-1;(g&z)!=i[b];)b--,A-=S,z=(1<<A)-1}return 0!==I&&1!=m?lt:it}function c(o){let c;for(e||(e=[],t=[],n=new f(gt+1),r=[],s=new f(gt),i=new f(gt+1)),t.length<o&&(t=[]),c=0;o>c;c++)t[c]=0;for(c=0;gt+1>c;c++)n[c]=0;for(c=0;3>c;c++)r[c]=0;s.set(n.subarray(0,gt),0),i.set(n.subarray(0,gt+1),0)}this.it=(n,r,s,i,f)=>{let a;return c(19),e[0]=0,a=o(n,0,19,19,null,null,s,r,i,e,t),a==ft?f.Fe="oversubscribed dynamic bit lengths tree":a!=lt&&0!==r[0]||(f.Fe="incomplete dynamic bit lengths tree",a=ft),a},this.ot=(n,r,s,i,f,a,l,u,w)=>{let h;return c(288),e[0]=0,h=o(s,0,n,257,pt,yt,a,i,u,e,t),h!=it||0===i[0]?(h==ft?w.Fe="oversubscribed literal/length tree":h!=at&&(w.Fe="incomplete literal/length tree",h=ft),h):(c(288),h=o(s,n,r,0,mt,bt,l,f,u,e,t),h!=it||0===f[0]&&n>257?(h==ft?w.Fe="oversubscribed distance tree":h==lt?(w.Fe="incomplete distance tree",h=ft):h!=at&&(w.Fe="empty distance tree with lengths",h=ft),h):it)}}kt.ct=(e,t,n,r)=>(e[0]=9,t[0]=5,n[0]=ht,r[0]=dt,it);const vt=0,St=1,zt=2,Ct=3,xt=4,At=5,_t=6,It=7,Pt=8,Dt=9;function Vt(){const e=this;let t,n,r,s,i=0,o=0,c=0,f=0,a=0,l=0,u=0,w=0,h=0,d=0;function p(e,t,n,r,s,i,o,c){let f,a,l,u,w,h,d,p,y,m,b,g,k,v,S,z;d=c.rt,p=c.je,w=o.ft,h=o.lt,y=o.write,m=y<o.read?o.read-y-1:o.end-y,b=ut[e],g=ut[t];do{for(;20>h;)p--,w|=(255&c.ut(d++))<<h,h+=8;if(f=w&b,a=n,l=r,z=3*(l+f),0!==(u=a[z]))for(;;){if(w>>=a[z+1],h-=a[z+1],16&u){for(u&=15,k=a[z+2]+(w&ut[u]),w>>=u,h-=u;15>h;)p--,w|=(255&c.ut(d++))<<h,h+=8;for(f=w&g,a=s,l=i,z=3*(l+f),u=a[z];;){if(w>>=a[z+1],h-=a[z+1],16&u){for(u&=15;u>h;)p--,w|=(255&c.ut(d++))<<h,h+=8;if(v=a[z+2]+(w&ut[u]),w>>=u,h-=u,m-=k,v>y){S=y-v;do{S+=o.end}while(0>S);if(u=o.end-S,k>u){if(k-=u,y-S>0&&u>y-S)do{o.wt[y++]=o.wt[S++]}while(0!=--u);else o.wt.set(o.wt.subarray(S,S+u),y),y+=u,S+=u,u=0;S=0}}else S=y-v,y-S>0&&2>y-S?(o.wt[y++]=o.wt[S++],o.wt[y++]=o.wt[S++],k-=2):(o.wt.set(o.wt.subarray(S,S+2),y),y+=2,S+=2,k-=2);if(y-S>0&&k>y-S)do{o.wt[y++]=o.wt[S++]}while(0!=--k);else o.wt.set(o.wt.subarray(S,S+k),y),y+=k,S+=k,k=0;break}if(64&u)return c.Fe="invalid distance code",k=c.je-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ft=w,o.lt=h,c.je=p,c.Ge+=d-c.rt,c.rt=d,o.write=y,ft;f+=a[z+2],f+=w&ut[u],z=3*(l+f),u=a[z]}break}if(64&u)return 32&u?(k=c.je-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ft=w,o.lt=h,c.je=p,c.Ge+=d-c.rt,c.rt=d,o.write=y,ot):(c.Fe="invalid literal/length code",k=c.je-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ft=w,o.lt=h,c.je=p,c.Ge+=d-c.rt,c.rt=d,o.write=y,ft);if(f+=a[z+2],f+=w&ut[u],z=3*(l+f),0===(u=a[z])){w>>=a[z+1],h-=a[z+1],o.wt[y++]=a[z+2],m--;break}}else w>>=a[z+1],h-=a[z+1],o.wt[y++]=a[z+2],m--}while(m>=258&&p>=10);return k=c.je-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ft=w,o.lt=h,c.je=p,c.Ge+=d-c.rt,c.rt=d,o.write=y,it}e.init=(e,i,o,c,f,a)=>{t=vt,u=e,w=i,r=o,h=c,s=f,d=a,n=null},e.ht=(e,y,m)=>{let b,g,k,v,S,z,C,x=0,A=0,_=0;for(_=y.rt,v=y.je,x=e.ft,A=e.lt,S=e.write,z=S<e.read?e.read-S-1:e.end-S;;)switch(t){case vt:if(z>=258&&v>=10&&(e.ft=x,e.lt=A,y.je=v,y.Ge+=_-y.rt,y.rt=_,e.write=S,m=p(u,w,r,h,s,d,e,y),_=y.rt,v=y.je,x=e.ft,A=e.lt,S=e.write,z=S<e.read?e.read-S-1:e.end-S,m!=it)){t=m==ot?It:Dt;break}c=u,n=r,o=h,t=St;case St:for(b=c;b>A;){if(0===v)return e.ft=x,e.lt=A,y.je=v,y.Ge+=_-y.rt,y.rt=_,e.write=S,e.dt(y,m);m=it,v--,x|=(255&y.ut(_++))<<A,A+=8}if(g=3*(o+(x&ut[b])),x>>>=n[g+1],A-=n[g+1],k=n[g],0===k){f=n[g+2],t=_t;break}if(16&k){a=15&k,i=n[g+2],t=zt;break}if(!(64&k)){c=k,o=g/3+n[g+2];break}if(32&k){t=It;break}return t=Dt,y.Fe="invalid literal/length code",m=ft,e.ft=x,e.lt=A,y.je=v,y.Ge+=_-y.rt,y.rt=_,e.write=S,e.dt(y,m);case zt:for(b=a;b>A;){if(0===v)return e.ft=x,e.lt=A,y.je=v,y.Ge+=_-y.rt,y.rt=_,e.write=S,e.dt(y,m);m=it,v--,x|=(255&y.ut(_++))<<A,A+=8}i+=x&ut[b],x>>=b,A-=b,c=w,n=s,o=d,t=Ct;case Ct:for(b=c;b>A;){if(0===v)return e.ft=x,e.lt=A,y.je=v,y.Ge+=_-y.rt,y.rt=_,e.write=S,e.dt(y,m);m=it,v--,x|=(255&y.ut(_++))<<A,A+=8}if(g=3*(o+(x&ut[b])),x>>=n[g+1],A-=n[g+1],k=n[g],16&k){a=15&k,l=n[g+2],t=xt;break}if(!(64&k)){c=k,o=g/3+n[g+2];break}return t=Dt,y.Fe="invalid distance code",m=ft,e.ft=x,e.lt=A,y.je=v,y.Ge+=_-y.rt,y.rt=_,e.write=S,e.dt(y,m);case xt:for(b=a;b>A;){if(0===v)return e.ft=x,e.lt=A,y.je=v,y.Ge+=_-y.rt,y.rt=_,e.write=S,e.dt(y,m);m=it,v--,x|=(255&y.ut(_++))<<A,A+=8}l+=x&ut[b],x>>=b,A-=b,t=At;case At:for(C=S-l;0>C;)C+=e.end;for(;0!==i;){if(0===z&&(S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z&&(e.write=S,m=e.dt(y,m),S=e.write,z=S<e.read?e.read-S-1:e.end-S,S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z)))return e.ft=x,e.lt=A,y.je=v,y.Ge+=_-y.rt,y.rt=_,e.write=S,e.dt(y,m);e.wt[S++]=e.wt[C++],z--,C==e.end&&(C=0),i--}t=vt;break;case _t:if(0===z&&(S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z&&(e.write=S,m=e.dt(y,m),S=e.write,z=S<e.read?e.read-S-1:e.end-S,S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z)))return e.ft=x,e.lt=A,y.je=v,y.Ge+=_-y.rt,y.rt=_,e.write=S,e.dt(y,m);m=it,e.wt[S++]=f,z--,t=vt;break;case It:if(A>7&&(A-=8,v++,_--),e.write=S,m=e.dt(y,m),S=e.write,z=S<e.read?e.read-S-1:e.end-S,e.read!=e.write)return e.ft=x,e.lt=A,y.je=v,y.Ge+=_-y.rt,y.rt=_,e.write=S,e.dt(y,m);t=Pt;case Pt:return m=ot,e.ft=x,e.lt=A,y.je=v,y.Ge+=_-y.rt,y.rt=_,e.write=S,e.dt(y,m);case Dt:return m=ft,e.ft=x,e.lt=A,y.je=v,y.Ge+=_-y.rt,y.rt=_,e.write=S,e.dt(y,m);default:return m=ct,e.ft=x,e.lt=A,y.je=v,y.Ge+=_-y.rt,y.rt=_,e.write=S,e.dt(y,m)}},e.yt=()=>{}}const Rt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Bt=0,Et=1,Mt=2,Ut=3,Kt=4,Nt=5,Ot=6,Tt=7,Wt=8,jt=9;function Ht(e,t){const n=this;let r,s=Bt,o=0,c=0,a=0;const l=[0],u=[0],w=new Vt;let h=0,d=new f(3*wt);const p=new kt;n.lt=0,n.ft=0,n.wt=new i(t),n.end=t,n.read=0,n.write=0,n.reset=(e,t)=>{t&&(t[0]=0),s==Ot&&w.yt(e),s=Bt,n.lt=0,n.ft=0,n.read=n.write=0},n.reset(e,null),n.dt=(e,t)=>{let r,s,i;return s=e.st,i=n.read,r=(i>n.write?n.end:n.write)-i,r>e.nt&&(r=e.nt),0!==r&&t==lt&&(t=it),e.nt-=r,e.Je+=r,e.et.set(n.wt.subarray(i,i+r),s),s+=r,i+=r,i==n.end&&(i=0,n.write==n.end&&(n.write=0),r=n.write-i,r>e.nt&&(r=e.nt),0!==r&&t==lt&&(t=it),e.nt-=r,e.Je+=r,e.et.set(n.wt.subarray(i,i+r),s),s+=r,i+=r),e.st=s,n.read=i,t},n.ht=(e,t)=>{let i,f,y,m,b,g,k,v;for(m=e.rt,b=e.je,f=n.ft,y=n.lt,g=n.write,k=g<n.read?n.read-g-1:n.end-g;;){let S,z,C,x,A,_,I,P;switch(s){case Bt:for(;3>y;){if(0===b)return n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);t=it,b--,f|=(255&e.ut(m++))<<y,y+=8}switch(i=7&f,h=1&i,i>>>1){case 0:f>>>=3,y-=3,i=7&y,f>>>=i,y-=i,s=Et;break;case 1:S=[],z=[],C=[[]],x=[[]],kt.ct(S,z,C,x),w.init(S[0],z[0],C[0],0,x[0],0),f>>>=3,y-=3,s=Ot;break;case 2:f>>>=3,y-=3,s=Ut;break;case 3:return f>>>=3,y-=3,s=jt,e.Fe="invalid block type",t=ft,n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t)}break;case Et:for(;32>y;){if(0===b)return n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);t=it,b--,f|=(255&e.ut(m++))<<y,y+=8}if((~f>>>16&65535)!=(65535&f))return s=jt,e.Fe="invalid stored block lengths",t=ft,n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);o=65535&f,f=y=0,s=0!==o?Mt:0!==h?Tt:Bt;break;case Mt:if(0===b)return n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);if(0===k&&(g==n.end&&0!==n.read&&(g=0,k=g<n.read?n.read-g-1:n.end-g),0===k&&(n.write=g,t=n.dt(e,t),g=n.write,k=g<n.read?n.read-g-1:n.end-g,g==n.end&&0!==n.read&&(g=0,k=g<n.read?n.read-g-1:n.end-g),0===k)))return n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);if(t=it,i=o,i>b&&(i=b),i>k&&(i=k),n.wt.set(e.He(m,i),g),m+=i,b-=i,g+=i,k-=i,0!=(o-=i))break;s=0!==h?Tt:Bt;break;case Ut:for(;14>y;){if(0===b)return n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);t=it,b--,f|=(255&e.ut(m++))<<y,y+=8}if(c=i=16383&f,(31&i)>29||(i>>5&31)>29)return s=jt,e.Fe="too many length or distance symbols",t=ft,n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);if(i=258+(31&i)+(i>>5&31),!r||r.length<i)r=[];else for(v=0;i>v;v++)r[v]=0;f>>>=14,y-=14,a=0,s=Kt;case Kt:for(;4+(c>>>10)>a;){for(;3>y;){if(0===b)return n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);t=it,b--,f|=(255&e.ut(m++))<<y,y+=8}r[Rt[a++]]=7&f,f>>>=3,y-=3}for(;19>a;)r[Rt[a++]]=0;if(l[0]=7,i=p.it(r,l,u,d,e),i!=it)return(t=i)==ft&&(r=null,s=jt),n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);a=0,s=Nt;case Nt:for(;i=c,258+(31&i)+(i>>5&31)>a;){let o,w;for(i=l[0];i>y;){if(0===b)return n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);t=it,b--,f|=(255&e.ut(m++))<<y,y+=8}if(i=d[3*(u[0]+(f&ut[i]))+1],w=d[3*(u[0]+(f&ut[i]))+2],16>w)f>>>=i,y-=i,r[a++]=w;else{for(v=18==w?7:w-14,o=18==w?11:3;i+v>y;){if(0===b)return n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);t=it,b--,f|=(255&e.ut(m++))<<y,y+=8}if(f>>>=i,y-=i,o+=f&ut[v],f>>>=v,y-=v,v=a,i=c,v+o>258+(31&i)+(i>>5&31)||16==w&&1>v)return r=null,s=jt,e.Fe="invalid bit length repeat",t=ft,n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);w=16==w?r[v-1]:0;do{r[v++]=w}while(0!=--o);a=v}}if(u[0]=-1,A=[],_=[],I=[],P=[],A[0]=9,_[0]=6,i=c,i=p.ot(257+(31&i),1+(i>>5&31),r,A,_,I,P,d,e),i!=it)return i==ft&&(r=null,s=jt),t=i,n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);w.init(A[0],_[0],d,I[0],d,P[0]),s=Ot;case Ot:if(n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,(t=w.ht(n,e,t))!=ot)return n.dt(e,t);if(t=it,w.yt(e),m=e.rt,b=e.je,f=n.ft,y=n.lt,g=n.write,k=g<n.read?n.read-g-1:n.end-g,0===h){s=Bt;break}s=Tt;case Tt:if(n.write=g,t=n.dt(e,t),g=n.write,k=g<n.read?n.read-g-1:n.end-g,n.read!=n.write)return n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);s=Wt;case Wt:return t=ot,n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);case jt:return t=ft,n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t);default:return t=ct,n.ft=f,n.lt=y,e.je=b,e.Ge+=m-e.rt,e.rt=m,n.write=g,n.dt(e,t)}}},n.yt=e=>{n.reset(e,null),n.wt=null,d=null},n.bt=(e,t,r)=>{n.wt.set(e.subarray(t,t+r),0),n.read=n.write=r},n.gt=()=>s==Et?1:0}const Lt=13,Ft=[0,0,255,255];function qt(){const e=this;function t(e){return e&&e.kt?(e.Ge=e.Je=0,e.Fe=null,e.kt.mode=7,e.kt.vt.reset(e,null),it):ct}e.mode=0,e.method=0,e.St=[0],e.zt=0,e.marker=0,e.Ct=0,e.xt=t=>(e.vt&&e.vt.yt(t),e.vt=null,it),e.At=(n,r)=>(n.Fe=null,e.vt=null,8>r||r>15?(e.xt(n),ct):(e.Ct=r,n.kt.vt=new Ht(n,1<<r),t(n),it)),e._t=(e,t)=>{let n,r;if(!e||!e.kt||!e.tt)return ct;const s=e.kt;for(t=4==t?lt:it,n=lt;;)switch(s.mode){case 0:if(0===e.je)return n;if(n=t,e.je--,e.Ge++,8!=(15&(s.method=e.ut(e.rt++)))){s.mode=Lt,e.Fe="unknown compression method",s.marker=5;break}if(8+(s.method>>4)>s.Ct){s.mode=Lt,e.Fe="invalid win size",s.marker=5;break}s.mode=1;case 1:if(0===e.je)return n;if(n=t,e.je--,e.Ge++,r=255&e.ut(e.rt++),((s.method<<8)+r)%31!=0){s.mode=Lt,e.Fe="incorrect header check",s.marker=5;break}if(!(32&r)){s.mode=7;break}s.mode=2;case 2:if(0===e.je)return n;n=t,e.je--,e.Ge++,s.zt=(255&e.ut(e.rt++))<<24&4278190080,s.mode=3;case 3:if(0===e.je)return n;n=t,e.je--,e.Ge++,s.zt+=(255&e.ut(e.rt++))<<16&16711680,s.mode=4;case 4:if(0===e.je)return n;n=t,e.je--,e.Ge++,s.zt+=(255&e.ut(e.rt++))<<8&65280,s.mode=5;case 5:return 0===e.je?n:(n=t,e.je--,e.Ge++,s.zt+=255&e.ut(e.rt++),s.mode=6,2);case 6:return s.mode=Lt,e.Fe="need dictionary",s.marker=0,ct;case 7:if(n=s.vt.ht(e,n),n==ft){s.mode=Lt,s.marker=0;break}if(n==it&&(n=t),n!=ot)return n;n=t,s.vt.reset(e,s.St),s.mode=12;case 12:return e.je=0,ot;case Lt:return ft;default:return ct}},e.It=(e,t,n)=>{let r=0,s=n;if(!e||!e.kt||6!=e.kt.mode)return ct;const i=e.kt;return s<1<<i.Ct||(s=(1<<i.Ct)-1,r=n-s),i.vt.bt(t,r,s),i.mode=7,it},e.Pt=e=>{let n,r,s,i,o;if(!e||!e.kt)return ct;const c=e.kt;if(c.mode!=Lt&&(c.mode=Lt,c.marker=0),0===(n=e.je))return lt;for(r=e.rt,s=c.marker;0!==n&&4>s;)e.ut(r)==Ft[s]?s++:s=0!==e.ut(r)?0:4-s,r++,n--;return e.Ge+=r-e.rt,e.rt=r,e.je=n,c.marker=s,4!=s?ft:(i=e.Ge,o=e.Je,t(e),e.Ge=i,e.Je=o,c.mode=7,it)},e.Dt=e=>e&&e.kt&&e.kt.vt?e.kt.vt.gt():ct}function Gt(){}function Jt(e){const t=new Gt,n=e&&e.chunkSize?r.floor(2*e.chunkSize):131072,o=new i(n);let c=!1;t.At(),t.et=o,this.append=(e,r)=>{const f=[];let a,l,u=0,w=0,h=0;if(0!==e.length){t.rt=0,t.tt=e,t.je=e.length;do{if(t.st=0,t.nt=n,0!==t.je||c||(t.rt=0,c=!0),a=t._t(0),c&&a===lt){if(0!==t.je)throw new s("inflating: bad input")}else if(a!==it&&a!==ot)throw new s("inflating: "+t.Fe);if((c||a===ot)&&t.je===e.length)throw new s("inflating: bad input");t.st&&(t.st===n?f.push(new i(o)):f.push(o.subarray(0,t.st))),h+=t.st,r&&t.rt>0&&t.rt!=u&&(r(t.rt),u=t.rt)}while(t.je>0||0===t.nt);return f.length>1?(l=new i(h),f.forEach((e=>{l.set(e,w),w+=e.length}))):l=f[0]?new i(f[0]):new i,l}},this.flush=()=>{t.xt()}}Gt.prototype={At(e){const t=this;return t.kt=new qt,e||(e=15),t.kt.At(t,e)},_t(e){const t=this;return t.kt?t.kt._t(t,e):ct},xt(){const e=this;if(!e.kt)return ct;const t=e.kt.xt(e);return e.kt=null,t},Pt(){const e=this;return e.kt?e.kt.Pt(e):ct},It(e,t){const n=this;return n.kt?n.kt.It(n,e,t):ct},ut(e){return this.tt[e]},He(e,t){return this.tt.subarray(e,e+t)}},self.initCodec=()=>{self.Deflate=st,self.Inflate=Jt};
`,r=()=>n.useDataURI?"data:text/javascript,"+encodeURIComponent(t):URL.createObjectURL(new Blob([t],{type:"text/javascript"}));e({workerScripts:{inflate:[r],deflate:[r]}})}const s2="Writer iterator completed too soon",i2="text/plain",o2="Content-Type",l2=64*1024,r0="writable";class vs{constructor(){this.size=0}init(){this.initialized=!0}}class a0 extends vs{get readable(){const n=this,{chunkSize:t=l2}=n,r=new ReadableStream({start(){this.chunkOffset=0},async pull(i){const{offset:s=0,size:o,diskNumberStart:v}=r,{chunkOffset:c}=this;i.enqueue(await _s(n,s+c,Math.min(t,o-c),v)),c+t>o?i.close():this.chunkOffset+=t}});return r}}class s0 extends a0{constructor(n){super(),Object.assign(this,{blob:n,size:n.size})}async readUint8Array(n,t){const r=this,i=n+t;let o=await(n||i<r.size?r.blob.slice(n,i):r.blob).arrayBuffer();return o.byteLength>t&&(o=o.slice(n,i)),new Uint8Array(o)}}class c2 extends vs{constructor(n){super();const t=this,r=new TransformStream,i=[];n&&i.push([o2,n]),Object.defineProperty(t,r0,{get(){return r.writable}}),t.blob=new Response(r.readable,{headers:i}).blob()}getData(){return this.blob}}class f2 extends s0{constructor(n){super(new Blob([n],{type:i2}))}}class _2 extends a0{constructor(n){super(),this.readers=n}async init(){const n=this,{readers:t}=n;n.lastDiskNumber=0,n.lastDiskOffset=0,await Promise.all(t.map(async(r,i)=>{await r.init(),i!=t.length-1&&(n.lastDiskOffset+=r.size),n.size+=r.size})),super.init()}async readUint8Array(n,t,r=0){const i=this,{readers:s}=this;let o,v=r;v==-1&&(v=s.length-1);let c=n;for(;c>=s[v].size;)c-=s[v].size,v++;const C=s[v],l=C.size;if(c+t<=l)o=await _s(C,c,t);else{const f=l-c;o=new Uint8Array(t),o.set(await _s(C,c,f)),o.set(await i.readUint8Array(n+f,t-f,r),f)}return i.lastDiskNumber=Math.max(v,i.lastDiskNumber),o}}class Bi extends vs{constructor(n,t=4294967295){super();const r=this;Object.assign(r,{diskNumber:0,diskOffset:0,size:0,maxSize:t,availableSize:t});let i,s,o;const v=new WritableStream({async write(l){const{availableSize:f}=r;if(o)l.length>=f?(await c(l.slice(0,f)),await C(),r.diskOffset+=i.size,r.diskNumber++,o=null,await this.write(l.slice(f))):await c(l);else{const{value:S,done:H}=await n.next();if(H&&!S)throw new Error(s2);i=S,i.size=0,i.maxSize&&(r.maxSize=i.maxSize),r.availableSize=r.maxSize,await Rr(i),s=S.writable,o=s.getWriter(),await this.write(l)}},async close(){await o.ready,await C()}});Object.defineProperty(r,r0,{get(){return v}});async function c(l){const f=l.length;f&&(await o.ready,await o.write(l),i.size+=f,r.size+=f,r.availableSize-=f)}async function C(){s.size=i.size,await o.close()}}}async function Rr(e,n){if(e.init&&!e.initialized)await e.init(n);else return Promise.resolve()}function u2(e){return Array.isArray(e)&&(e=new _2(e)),e instanceof ReadableStream&&(e={readable:e}),e}function d2(e){e.writable===ot&&typeof e.next==Cr&&(e=new Bi(e)),e instanceof WritableStream&&(e={writable:e});const{writable:n}=e;return n.size===ot&&(n.size=0),e instanceof Bi||Object.assign(e,{diskNumber:0,diskOffset:0,availableSize:1/0,maxSize:1/0}),e}function _s(e,n,t,r){return e.readUint8Array(n,t,r)}const p2="\0☺☻♥♦♣♠•◘○◙♂♀♪♫☼►◄↕‼¶§▬↨↑↓→←∟↔▲▼ !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~⌂ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜ¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ ".split("");p2.length==256;const m2="filename",h2="rawFilename",b2="comment",v2="rawComment",g2="uncompressedSize",w2="compressedSize",x2="offset",Ci="diskNumberStart",i0="lastModDate",y2="rawLastModDate",o0="lastAccessDate",l0="creationDate",c0="internalFileAttribute",f0="externalFileAttribute",_0="msDosCompatible",u0="zip64",S2=[m2,h2,w2,g2,i0,y2,b2,v2,o0,l0,x2,Ci,Ci,c0,f0,_0,u0,"directory","bitFlag","encrypted","signature","filenameUTF8","commentUTF8","compressionMethod","version","versionMadeBy","extraField","rawExtraField","extraFieldZip64","extraFieldUnicodePath","extraFieldUnicodeComment","extraFieldAES","extraFieldNTFS","extraFieldExtendedTimestamp"];class d0{constructor(n){S2.forEach(t=>this[t]=n[t])}}const k2="File already exists",A2="Zip file comment exceeds 64KB",E2="File entry comment exceeds 64KB",R2="File entry name exceeds 64KB",Di="Version exceeds 65535",T2="The strength must equal 1, 2, or 3",M2="Extra field type exceeds 65535",B2="Extra field data exceeds 64KB",gs="Zip64 is not supported (make sure 'keepOrder' is set to 'true')",Ii=new Uint8Array([7,0,2,0,65,69,3,0,0]);let Va=0;const Oi=[];class C2{constructor(n,t={}){n=d2(n);const r=n.availableSize!==ot&&n.availableSize>0&&n.availableSize!==1/0&&n.maxSize!==ot&&n.maxSize>0&&n.maxSize!==1/0;Object.assign(this,{writer:n,addSplitZipSignature:r,options:t,config:vl(),files:new Map,filenames:new Set,offset:n.writable.size,pendingEntriesSize:0,pendingAddFileCalls:new Set,bufferedWrites:0})}async add(n="",t,r={}){const i=this,{pendingAddFileCalls:s,config:o}=i;Va<o.maxWorkers?Va++:await new Promise(c=>Oi.push(c));let v;try{if(n=n.trim(),i.filenames.has(n))throw new Error(k2);return i.filenames.add(n),v=D2(i,n,t,r),s.add(v),await v}catch(c){throw i.filenames.delete(n),c}finally{s.delete(v);const c=Oi.shift();c?c():Va--}}async close(n=new Uint8Array,t={}){const r=this,{pendingAddFileCalls:i,writer:s}=this,{writable:o}=s;for(;i.size;)await Promise.allSettled(Array.from(i));return await q2(this,n,t),ze(r,t,"preventClose")||await o.getWriter().close(),s.getData?s.getData():o}}async function D2(e,n,t,r){n=n.trim(),r.directory&&!n.endsWith(Pa)?n+=Pa:r.directory=n.endsWith(Pa);const i=ze(e,r,"encodeText",sa);let s=i(n);if(s===ot&&(s=sa(n)),He(s)>Ct)throw new Error(R2);const o=r.comment||"";let v=i(o);if(v===ot&&(v=sa(o)),He(v)>Ct)throw new Error(E2);const c=ze(e,r,"version",ml);if(c>Ct)throw new Error(Di);const C=ze(e,r,"versionMadeBy",20);if(C>Ct)throw new Error(Di);const l=ze(e,r,i0,new Date),f=ze(e,r,o0),S=ze(e,r,l0),H=ze(e,r,_0,!0),U=ze(e,r,c0,0),D=ze(e,r,f0,0),w=ze(e,r,"password"),p=ze(e,r,"rawPassword"),_=ze(e,r,"encryptionStrength",3),b=ze(e,r,"zipCrypto"),A=ze(e,r,"extendedTimestamp",!0),a=ze(e,r,"keepOrder",!0),u=ze(e,r,"level"),x=ze(e,r,"useWebWorkers"),T=ze(e,r,"bufferedWrite"),V=ze(e,r,"dataDescriptorSignature",!1),I=ze(e,r,"signal"),L=ze(e,r,"useCompressionStream");let te=ze(e,r,"dataDescriptor",!0),M=ze(e,r,u0);if(w!==ot&&_!==ot&&(_<1||_>3))throw new Error(T2);let d=new Uint8Array;const{extraField:P}=r;if(P){let be=0,ge=0;P.forEach(ve=>be+=4+He(ve)),d=new Uint8Array(be),P.forEach((ve,pe)=>{if(pe>Ct)throw new Error(M2);if(He(ve)>Ct)throw new Error(B2);dt(d,new Uint16Array([pe]),ge),dt(d,new Uint16Array([He(ve)]),ge+2),dt(d,ve,ge+4),ge+=4+He(ve)})}let X=0,W=0,G=0;const J=M===!0;t&&(t=u2(t),await Rr(t),t.size===ot?(te=!0,(M||M===ot)&&(M=!0,G=X=It+1)):(G=t.size,X=H2(G)));const{diskOffset:q,diskNumber:y,maxSize:h}=e.writer,m=J||G>It,E=J||X>It,j=J||e.offset+e.pendingEntriesSize-q>It,ae=ze(e,r,"supportZip64SplitFile",!0)&&J||y+Math.ceil(e.pendingEntriesSize/h)>Ct;if(j||m||E||ae){if(M===!1||!a)throw new Error(gs);M=!0}M=M||!1,r=Object.assign({},r,{rawFilename:s,rawComment:v,version:c,versionMadeBy:C,lastModDate:l,lastAccessDate:f,creationDate:S,rawExtraField:d,zip64:M,zip64UncompressedSize:m,zip64CompressedSize:E,zip64Offset:j,zip64DiskNumberStart:ae,password:w,rawPassword:p,level:!L&&e.config.CompressionStream===ot&&e.config.CompressionStreamNative===ot?0:u,useWebWorkers:x,encryptionStrength:_,extendedTimestamp:A,zipCrypto:b,bufferedWrite:T,keepOrder:a,dataDescriptor:te,dataDescriptorSignature:V,signal:I,msDosCompatible:H,internalFileAttribute:U,externalFileAttribute:D,useCompressionStream:L});const z=P2(r),ee=N2(r),le=He(z.localHeaderArray,ee.dataDescriptorArray);W=le+X,e.options.usdz&&(W+=W+64),e.pendingEntriesSize+=W;let ce;try{ce=await I2(e,n,t,{headerInfo:z,dataDescriptorInfo:ee,metadataSize:le},r)}finally{e.pendingEntriesSize-=W}return Object.assign(ce,{name:n,comment:o,extraField:P}),new d0(ce)}async function I2(e,n,t,r,i){const{files:s,writer:o}=e,{keepOrder:v,dataDescriptor:c,signal:C}=i,{headerInfo:l}=r,{usdz:f}=e.options,S=Array.from(s.values()).pop();let H={},U,D,w,p,_,b,A;s.set(n,H);try{let T;v&&(T=S&&S.lock,a()),(i.bufferedWrite||e.writerLocked||e.bufferedWrites&&v||!c)&&!f?(b=new TransformStream,A=new Response(b.readable).blob(),b.writable.size=0,U=!0,e.bufferedWrites++,await Rr(o)):(b=o,await u()),await Rr(b);const{writable:V}=o;let{diskOffset:I}=o;if(e.addSplitZipSignature){delete e.addSplitZipSignature;const te=new Uint8Array(4),M=vt(te);qe(M,0,M1),await sn(V,te),e.offset+=4}f&&L2(r,e.offset-I),U||(await T,await x(V));const{diskNumber:L}=o;if(_=!0,H.diskNumberStart=L,H=await O2(t,b,H,r,e.config,i),_=!1,s.set(n,H),H.filename=n,U){await b.writable.getWriter().close();let te=await A;await T,await u(),p=!0,c||(te=await j2(H,te,V,i)),await x(V),H.diskNumberStart=o.diskNumber,I=o.diskOffset,await te.stream().pipeTo(V,{preventClose:!0,preventAbort:!0,signal:C}),V.size+=te.size,p=!1}if(H.offset=e.offset-I,H.zip64)V2(H,i);else if(H.offset>It)throw new Error(gs);return e.offset+=H.size,H}catch(T){if(U&&p||!U&&_){if(e.hasCorruptedEntries=!0,T)try{T.corruptedEntry=!0}catch{}U?e.offset+=b.writable.size:e.offset=b.writable.size}throw s.delete(n),T}finally{U&&e.bufferedWrites--,w&&w(),D&&D()}function a(){H.lock=new Promise(T=>w=T)}async function u(){e.writerLocked=!0;const{lockWriter:T}=e;e.lockWriter=new Promise(V=>D=()=>{e.writerLocked=!1,V()}),await T}async function x(T){He(l.localHeaderArray)>o.availableSize&&(o.availableSize=0,await sn(T,new Uint8Array))}}async function O2(e,n,{diskNumberStart:t,lock:r},i,s,o){const{headerInfo:v,dataDescriptorInfo:c,metadataSize:C}=i,{localHeaderArray:l,headerArray:f,lastModDate:S,rawLastModDate:H,encrypted:U,compressed:D,version:w,compressionMethod:p,rawExtraFieldExtendedTimestamp:_,extraFieldExtendedTimestampFlag:b,rawExtraFieldNTFS:A,rawExtraFieldAES:a}=v,{dataDescriptorArray:u}=c,{rawFilename:x,lastAccessDate:T,creationDate:V,password:I,rawPassword:L,level:te,zip64:M,zip64UncompressedSize:d,zip64CompressedSize:P,zip64Offset:X,zip64DiskNumberStart:W,zipCrypto:G,dataDescriptor:J,directory:q,versionMadeBy:y,rawComment:h,rawExtraField:m,useWebWorkers:E,onstart:j,onprogress:$,onend:ae,signal:z,encryptionStrength:ee,extendedTimestamp:le,msDosCompatible:ce,internalFileAttribute:be,externalFileAttribute:ge,useCompressionStream:ve}=o,pe={lock:r,versionMadeBy:y,zip64:M,directory:!!q,filenameUTF8:!0,rawFilename:x,commentUTF8:!0,rawComment:h,rawExtraFieldExtendedTimestamp:_,rawExtraFieldNTFS:A,rawExtraFieldAES:a,rawExtraField:m,extendedTimestamp:le,msDosCompatible:ce,internalFileAttribute:be,externalFileAttribute:ge,diskNumberStart:t};let ye=0,je=0,pt;const{writable:g}=n;if(e){e.chunkSize=gl(s),await sn(g,l);const me=e.readable,Se=me.size=e.size,Ie={options:{codecType:e0,level:te,rawPassword:L,password:I,encryptionStrength:ee,zipCrypto:U&&G,passwordVerification:U&&G&&H>>8&255,signed:!0,compressed:D,encrypted:U,useWebWorkers:E,useCompressionStream:ve,transferStreams:!1},config:s,streamOptions:{signal:z,size:Se,onstart:j,onprogress:$,onend:ae}},Re=await n2({readable:me,writable:g},Ie);je=Re.inputSize,ye=Re.outputSize,pt=Re.signature,g.size+=je}else await sn(g,l);let B;if(M){let me=4;d&&(me+=8),P&&(me+=8),X&&(me+=8),W&&(me+=4),B=new Uint8Array(me)}else B=new Uint8Array;return F2({signature:pt,rawExtraFieldZip64:B,compressedSize:ye,uncompressedSize:je,headerInfo:v,dataDescriptorInfo:c},o),J&&await sn(g,u),Object.assign(pe,{uncompressedSize:je,compressedSize:ye,lastModDate:S,rawLastModDate:H,creationDate:V,lastAccessDate:T,encrypted:U,size:C+ye,compressionMethod:p,version:w,headerArray:f,signature:pt,rawExtraFieldZip64:B,extraFieldExtendedTimestampFlag:b,zip64UncompressedSize:d,zip64CompressedSize:P,zip64Offset:X,zip64DiskNumberStart:W}),pe}function P2(e){const{rawFilename:n,lastModDate:t,lastAccessDate:r,creationDate:i,rawPassword:s,password:o,level:v,zip64:c,zipCrypto:C,dataDescriptor:l,directory:f,rawExtraField:S,encryptionStrength:H,extendedTimestamp:U}=e,D=v!==0&&!f,w=!!(o&&He(o)||s&&He(s));let p=e.version,_;if(w&&!C){_=new Uint8Array(He(Ii)+2);const W=vt(_);Ge(W,0,ol),dt(_,Ii,2),fa(W,8,H)}else _=new Uint8Array;let b,A,a;if(U){A=new Uint8Array(9+(r?4:0)+(i?4:0));const W=vt(A);Ge(W,0,D1),Ge(W,2,He(A)-4),a=1+(r?2:0)+(i?4:0),fa(W,4,a);let G=5;qe(W,G,Math.floor(t.getTime()/1e3)),G+=4,r&&(qe(W,G,Math.floor(r.getTime()/1e3)),G+=4),i&&qe(W,G,Math.floor(i.getTime()/1e3));try{b=new Uint8Array(36);const J=vt(b),q=qa(t);Ge(J,0,ll),Ge(J,2,32),Ge(J,8,cl),Ge(J,10,24),Dt(J,12,q),Dt(J,20,qa(r)||q),Dt(J,28,qa(i)||q)}catch{b=new Uint8Array}}else b=A=new Uint8Array;let u=dl;l&&(u=u|ul);let x=Qo;D&&(x=ui),c&&(p=p>di?p:di),w&&(u=u|_l,C||(p=p>pi?p:pi,x=$o,D&&(_[9]=ui)));const T=new Uint8Array(26),V=vt(T);Ge(V,0,p),Ge(V,2,u),Ge(V,4,x);const I=new Uint32Array(1),L=vt(I);let te;t<hi?te=hi:t>mi?te=mi:te=t,Ge(L,0,(te.getHours()<<6|te.getMinutes())<<5|te.getSeconds()/2),Ge(L,2,(te.getFullYear()-1980<<4|te.getMonth()+1)<<5|te.getDate());const M=I[0];qe(V,6,M),Ge(V,22,He(n));const d=He(_,A,b,S);Ge(V,24,d);const P=new Uint8Array(30+He(n)+d),X=vt(P);return qe(X,0,Jo),dt(P,T,4),dt(P,n,30),dt(P,_,30+He(n)),dt(P,A,30+He(n,_)),dt(P,b,30+He(n,_,A)),dt(P,S,30+He(n,_,A,b)),{localHeaderArray:P,headerArray:T,headerView:V,lastModDate:t,rawLastModDate:M,encrypted:w,compressed:D,version:p,compressionMethod:x,extraFieldExtendedTimestampFlag:a,rawExtraFieldExtendedTimestamp:A,rawExtraFieldNTFS:b,rawExtraFieldAES:_,extraFieldLength:d}}function L2(e,n){const{headerInfo:t}=e;let{localHeaderArray:r,extraFieldLength:i}=t,s=vt(r),o=64-(n+He(r))%64;o<4&&(o+=64);const v=new Uint8Array(o),c=vt(v);Ge(c,0,fl),Ge(c,2,o-2);const C=r;t.localHeaderArray=r=new Uint8Array(He(C)+o),dt(r,C),dt(r,v,He(C)),s=vt(r),Ge(s,28,i+o),e.metadataSize+=o}function N2(e){const{zip64:n,dataDescriptor:t,dataDescriptorSignature:r}=e;let i=new Uint8Array,s,o=0;return t&&(i=new Uint8Array(n?r?24:20:r?16:12),s=vt(i),r&&(o=4,qe(s,0,el))),{dataDescriptorArray:i,dataDescriptorView:s,dataDescriptorOffset:o}}function F2(e,n){const{signature:t,rawExtraFieldZip64:r,compressedSize:i,uncompressedSize:s,headerInfo:o,dataDescriptorInfo:v}=e,{headerView:c,encrypted:C}=o,{dataDescriptorView:l,dataDescriptorOffset:f}=v,{zip64:S,zip64UncompressedSize:H,zip64CompressedSize:U,zipCrypto:D,dataDescriptor:w}=n;if((!C||D)&&t!==ot&&(qe(c,10,t),w&&qe(l,f,t)),S){const p=vt(r);Ge(p,0,il),Ge(p,2,He(r)-4);let _=4;H&&(qe(c,18,It),Dt(p,_,BigInt(s)),_+=8),U&&(qe(c,14,It),Dt(p,_,BigInt(i))),w&&(Dt(l,f+4,BigInt(i)),Dt(l,f+12,BigInt(s)))}else qe(c,14,i),qe(c,18,s),w&&(qe(l,f+4,i),qe(l,f+8,s))}async function j2(e,n,t,{zipCrypto:r}){let i;i=await n.slice(0,26).arrayBuffer(),i.byteLength!=26&&(i=i.slice(0,26));const s=new DataView(i);return(!e.encrypted||r)&&qe(s,14,e.signature),e.zip64?(qe(s,18,It),qe(s,22,It)):(qe(s,18,e.compressedSize),qe(s,22,e.uncompressedSize)),await sn(t,new Uint8Array(i)),n.slice(i.byteLength)}function V2(e,n){const{rawExtraFieldZip64:t,offset:r,diskNumberStart:i}=e,{zip64UncompressedSize:s,zip64CompressedSize:o,zip64Offset:v,zip64DiskNumberStart:c}=n,C=vt(t);let l=4;s&&(l+=8),o&&(l+=8),v&&(Dt(C,l,BigInt(r)),l+=8),c&&qe(C,l,i)}async function q2(e,n,t){const{files:r,writer:i}=e,{diskOffset:s,writable:o}=i;let{diskNumber:v}=i,c=0,C=0,l=e.offset-s,f=r.size;for(const[,a]of r){const{rawFilename:u,rawExtraFieldZip64:x,rawExtraFieldAES:T,rawComment:V,rawExtraFieldNTFS:I,rawExtraField:L,extendedTimestamp:te,extraFieldExtendedTimestampFlag:M,lastModDate:d}=a;let P;if(te){P=new Uint8Array(9);const X=vt(P);Ge(X,0,D1),Ge(X,2,5),fa(X,4,M),qe(X,5,Math.floor(d.getTime()/1e3))}else P=new Uint8Array;a.rawExtraFieldCDExtendedTimestamp=P,C+=46+He(u,V,x,T,I,P,L)}const S=new Uint8Array(C),H=vt(S);await Rr(i);let U=0;for(const[a,u]of Array.from(r.values()).entries()){const{offset:x,rawFilename:T,rawExtraFieldZip64:V,rawExtraFieldAES:I,rawExtraFieldCDExtendedTimestamp:L,rawExtraFieldNTFS:te,rawExtraField:M,rawComment:d,versionMadeBy:P,headerArray:X,directory:W,zip64:G,zip64UncompressedSize:J,zip64CompressedSize:q,zip64DiskNumberStart:y,zip64Offset:h,msDosCompatible:m,internalFileAttribute:E,externalFileAttribute:j,diskNumberStart:$,uncompressedSize:ae,compressedSize:z}=u,ee=He(V,I,L,te,M);qe(H,c,tl),Ge(H,c+4,P);const le=vt(X);J||qe(le,18,ae),q||qe(le,14,z),dt(S,X,c+6),Ge(H,c+30,ee),Ge(H,c+32,He(d)),Ge(H,c+34,G&&y?Ct:$),Ge(H,c+36,E),j?qe(H,c+38,j):W&&m&&fa(H,c+38,pl),qe(H,c+42,G&&h?It:x),dt(S,T,c+46),dt(S,V,c+46+He(T)),dt(S,I,c+46+He(T,V)),dt(S,L,c+46+He(T,V,I)),dt(S,te,c+46+He(T,V,I,L)),dt(S,M,c+46+He(T,V,I,L,te)),dt(S,d,c+46+He(T)+ee);const ce=46+He(T,d)+ee;if(c-U>i.availableSize&&(i.availableSize=0,await sn(o,S.slice(U,c)),U=c),c+=ce,t.onprogress)try{await t.onprogress(a+1,r.size,new d0(u))}catch{}}await sn(o,U?S.slice(U):S);let D=i.diskNumber;const{availableSize:w}=i;w<ls&&D++;let p=ze(e,t,"zip64");if(l>It||C>It||f>Ct||D>Ct){if(p===!1)throw new Error(gs);p=!0}const _=new Uint8Array(p?sl:ls),b=vt(_);c=0,p&&(qe(b,0,rl),Dt(b,4,BigInt(44)),Ge(b,12,45),Ge(b,14,45),qe(b,16,D),qe(b,20,v),Dt(b,24,BigInt(f)),Dt(b,32,BigInt(f)),Dt(b,40,BigInt(C)),Dt(b,48,BigInt(l)),qe(b,56,al),Dt(b,64,BigInt(l)+BigInt(C)),qe(b,72,D+1),ze(e,t,"supportZip64SplitFile",!0)&&(D=Ct,v=Ct),f=Ct,l=It,C=It,c+=C1+B1),qe(b,c,nl),Ge(b,c+4,D),Ge(b,c+6,v),Ge(b,c+8,f),Ge(b,c+10,f),qe(b,c+12,C),qe(b,c+16,l);const A=He(n);if(A)if(A<=Ct)Ge(b,c+20,A);else throw new Error(A2);await sn(o,_),A&&await sn(o,n)}async function sn(e,n){const t=e.getWriter();try{await t.ready,e.size+=He(n),await t.write(n)}finally{t.releaseLock()}}function qa(e){if(e)return(BigInt(e.getTime())+BigInt(116444736e5))*BigInt(1e4)}function ze(e,n,t,r){const i=n[t]===ot?e.options[t]:n[t];return i===ot?r:i}function H2(e){return e+5*(Math.floor(e/16383)+1)}function fa(e,n,t){e.setUint8(n,t)}function Ge(e,n,t){e.setUint16(n,t,!0)}function qe(e,n,t){e.setUint32(n,t,!0)}function Dt(e,n,t){e.setBigUint64(n,t,!0)}function dt(e,n,t){e.set(n,t)}function vt(e){return new DataView(e.buffer)}function He(...e){let n=0;return e.forEach(t=>t&&(n+=t.length)),n}let p0;try{p0=import.meta.url}catch{}ms({baseURL:p0});a2(ms);ms({Deflate:Mo,Inflate:Ko});function X2(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Y2(e){if(e.__esModule)return e;var n=e.default;if(typeof n=="function"){var t=function r(){return this instanceof r?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};t.prototype=n.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),t}var Ha={},ws=function(n){if(typeof window>"u")return null;var t=window.OfflineAudioContext||window.webkitOfflineAudioContext,r=window.AudioContext||window.webkitAudioContext;if(!r)return null;typeof n=="number"&&(n={sampleRate:n});var i=n&&n.sampleRate;if(n&&n.offline)return t?new t(n.channels||2,n.length,i||44100):null;var s=Ha[i];if(s)return s;try{s=new r(n)}catch{s=new r}return Ha[s.sampleRate]=Ha[i]=s,s},U2=ws,m0=Tn;function Tn(e,n){if(!(this instanceof Tn))return new Tn(e,n);if(n||(n=e,e=n&&n.context),n||(n={}),e===void 0&&(e=U2()),n.numberOfChannels==null&&(n.numberOfChannels=1),n.sampleRate==null&&(n.sampleRate=e&&e.sampleRate||this.sampleRate),n.length==null&&(n.duration!=null?n.length=n.duration*n.sampleRate:n.length=1),e&&e.createBuffer)return e.createBuffer(n.numberOfChannels,Math.ceil(n.length),n.sampleRate);this.length=Math.ceil(n.length),this.numberOfChannels=n.numberOfChannels,this.sampleRate=n.sampleRate,this.duration=this.length/this.sampleRate,this._data=new Float32Array(this.length*this.numberOfChannels),this._channelData=[];for(var t=0;t<this.numberOfChannels;t++)this._channelData.push(this._data.subarray(t*this.length,(t+1)*this.length))}Tn.prototype.numberOfChannels=1;Tn.prototype.sampleRate=44100;Tn.prototype.getChannelData=function(e){if(e>=this.numberOfChannels||e<0||e==null)throw Error("Cannot getChannelData: channel number ("+e+") exceeds number of channels ("+this.numberOfChannels+")");return this._channelData[e]};Tn.prototype.copyFromChannel=function(e,n,t){t==null&&(t=0);for(var r=this._channelData[n],i=t,s=0;i<this.length&&s<e.length;i++,s++)e[s]=r[i]};Tn.prototype.copyToChannel=function(e,n,t){var r=this._channelData[n];t||(t=0);for(var i=t,s=0;i<this.length&&s<e.length;i++,s++)r[i]=e[s]};var pa=function(n){return n!=null&&typeof n.length=="number"&&typeof n.sampleRate=="number"&&typeof n.getChannelData=="function"&&typeof n.duration=="number"},G2=Z2;function Z2(e,n,t){return n<t?e<n?n:e>t?t:e:e<t?t:e>n?n:e}var W2=Object.prototype.toString,h0=function(e){var n;return W2.call(e)==="[object Object]"&&(n=Object.getPrototypeOf(e),n===null||n===Object.getPrototypeOf({}))};const z2={},K2=Object.freeze(Object.defineProperty({__proto__:null,default:z2},Symbol.toStringTag,{value:"Module"})),b0=Y2(K2);/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Q2=function(e){return e!=null&&(v0(e)||$2(e)||!!e._isBuffer)};function v0(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function $2(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&v0(e.slice(0,0))}const J2={8e3:8e3,11025:11025,16e3:16e3,22050:22050,44100:44100,48e3:48e3,88200:88200,96e3:96e3,176400:176400,192e3:192e3,352800:352800,384e3:384e3};/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var ec=function(e){return e!=null&&(g0(e)||tc(e)||!!e._isBuffer)};function g0(e){return!!e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function tc(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&g0(e.slice(0,0))}var w0=function(n,t,r){var i={},s,o;if(typeof t=="string"&&(t=Pi(t)),Array.isArray(t)){var v={};for(o=0;o<t.length;o++)v[t[o]]=!0;t=v}for(s in t)t[s]=Pi(t[s]);var c={};for(s in t){var C=t[s];if(Array.isArray(C))for(o=0;o<C.length;o++){var l=C[o];if(r&&(c[l]=!0),l in n){if(i[s]=n[l],r)for(var f=o;f<C.length;f++)c[C[f]]=!0;break}}else s in n&&(t[s]&&(i[s]=n[s]),r&&(c[s]=!0))}if(r)for(s in n)c[s]||(i[s]=n[s]);return i},Xa={};function Pi(e){return Xa[e]?Xa[e]:(typeof e=="string"&&(e=Xa[e]=e.split(/\s*,\s*|\s+/)),e)}var Li=J2,Ni=b0,nc=pa,rc=ec,ac=h0,sc=w0,x0={parse:k0,stringify:oc,detect:us,type:A0},y0=Ni.endianness instanceof Function?Ni.endianness().toLowerCase():"le",Fi={uint:"uint32",uint8:"uint8",uint8_clamped:"uint8",uint16:"uint16",uint32:"uint32",int:"int32",int8:"int8",int16:"int16",int32:"int32",float:"float32",float32:"float32",float64:"float64",array:"array",arraybuffer:"arraybuffer",buffer:"buffer",audiobuffer:"audiobuffer",ndarray:"ndarray",ndsamples:"ndsamples"},Tr={mono:1,stereo:2,quad:4,"5.1":6,"2.1":3,"3-channel":3,"5-channel":5},ic=32;for(var zr=6;zr<ic;zr++)Tr[zr+"-channel"]=zr;var S0={};for(var ji in Tr)S0[Tr[ji]]=ji;function k0(e){for(var n={},t=e.split(/\s*[,;_]\s*|\s+/),r=0;r<t.length;r++){var i=t[r].toLowerCase();if(i==="planar"&&n.interleaved==null)n.interleaved=!1,n.channels==null&&(n.channels=2);else if((i==="interleave"||i==="interleaved")&&n.interleaved==null)n.interleaved=!0,n.channels==null&&(n.channels=2);else if(Tr[i])n.channels=Tr[i];else if(i==="le"||i==="LE"||i==="littleendian"||i==="bigEndian")n.endianness="le";else if(i==="be"||i==="BE"||i==="bigendian"||i==="bigEndian")n.endianness="be";else if(Fi[i])n.type=Fi[i],i==="audiobuffer"&&(n.endianness=y0,n.interleaved=!1);else if(Li[i])n.sampleRate=Li[i];else if(/^\d+$/.test(i))n.sampleRate=parseInt(i);else throw Error("Cannot identify part `"+i+"`")}return n}function us(e){if(!e)return{};var n=sc(e,{channels:"channel channels numberOfChannels channelCount",sampleRate:"sampleRate rate",interleaved:"interleave interleaved",type:"type dtype",endianness:"endianness"});if(e.format&&(n.type="ndsamples"),n.sampleRate==null&&e.format&&e.format.sampleRate&&(n.sampleRate=e.format.sampleRate),e.planar&&(n.interleaved=!1),n.interleaved!=null&&n.channels==null&&(n.channels=2),n.type==null){var t=A0(e);t&&(n.type=t)}return n.type==="audiobuffer"&&(n.endianness=y0,n.interleaved=!1),n}function oc(e,n){n===void 0?n={endianness:"le"}:n==null?n={}:typeof n=="string"?n=k0(n):n=us(n),ac(e)||(e=us(e));var t=[];return e.type!=null&&e.type!==n.type&&t.push(e.type||"float32"),e.channels!=null&&e.channels!==n.channels&&t.push(S0[e.channels]),e.endianness!=null&&e.endianness!==n.endianness&&t.push(e.endianness||"le"),e.interleaved!=null&&e.interleaved!==n.interleaved&&e.type!=="audiobuffer"&&t.push(e.interleaved?"interleaved":"planar"),e.sampleRate!=null&&e.sampleRate!==n.sampleRate&&t.push(e.sampleRate),t.join(" ")}function A0(e){if(nc(e))return"audiobuffer";if(rc(e))return"buffer";if(Array.isArray(e))return"array";if(e instanceof ArrayBuffer)return"arraybuffer";if(e.shape&&e.dtype)return e.format?"ndsamples":"ndarray";if(e instanceof Float32Array)return"float32";if(e instanceof Float64Array)return"float64";if(e instanceof Uint8Array)return"uint8";if(e instanceof Uint8ClampedArray)return"uint8_clamped";if(e instanceof Int8Array)return"int8";if(e instanceof Int16Array)return"int16";if(e instanceof Uint16Array)return"uint16";if(e instanceof Int32Array)return"int32";if(e instanceof Uint32Array)return"uint32"}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Vi=Object.getOwnPropertySymbols,lc=Object.prototype.hasOwnProperty,cc=Object.prototype.propertyIsEnumerable;function fc(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function _c(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var n={},t=0;t<10;t++)n["_"+String.fromCharCode(t)]=t;var r=Object.getOwnPropertyNames(n).map(function(s){return n[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var uc=_c()?Object.assign:function(e,n){for(var t,r=fc(e),i,s=1;s<arguments.length;s++){t=Object(arguments[s]);for(var o in t)lc.call(t,o)&&(r[o]=t[o]);if(Vi){i=Vi(t);for(var v=0;v<i.length;v++)cc.call(t,i[v])&&(r[i[v]]=t[i[v]])}}return r},qi=b0,dc=Q2,yn=x0,Hi=uc,pc=pa,mc=hc;function hc(e,n,t,r){if(qi(e,"First argument should be data"),qi(n,"Second argument should be format string or object"),n===t)return e;if(Xi(n))r=n,t=yn.detect(r),n=yn.detect(e);else if(t===void 0&&r===void 0)t=Kr(n),n=yn.detect(e);else if(Xi(t))r=t,t=Kr(n),n=yn.detect(e);else{var i=Kr(n),s=yn.detect(e);s.dtype=i.type==="arraybuffer"?s.type:i.type,n=Hi(i,s);var o=Kr(t),v=yn.detect(r);o.type&&(v.dtype=o.type==="arraybuffer"?v.type||n.dtype:o.type),t=Hi(o,v)}if(t.channels==null&&n.channels!=null&&(t.channels=n.channels),t.type==null&&(t.type=n.type,t.dtype=n.dtype),t.interleaved!=null&&n.channels==null&&(n.channels=2),n.type===t.type&&n.interleaved===t.interleaved&&n.endianness===t.endianness)return e;Yi(n),Yi(t),(e.buffers||e.buffer&&e.buffer.buffers)&&(e.buffer&&(e=e.buffer),e.buffers&&(e=e.join()));var c;if(pc(e))if(e._data)c=e._data;else{c=new Float32Array(e.length*e.numberOfChannels);for(var C=0,l=e.numberOfChannels;C<l;C++)c.set(e.getChannelData(C),e.length*C)}else e instanceof ArrayBuffer?c=new Qr[n.dtype](e):dc(e)?(e.byteOffset!=null?c=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength):c=e.buffer,c=new Qr[n.dtype](c)):c=e;var f=t.type==="array"?Array.from(c):new Qr[t.dtype](c);if(n.max!==t.max)for(var S=n.max-n.min,H=t.max-t.min,U=0,l=c.length;U<l;U++){var D=c[U],w=(D-n.min)/S;D=w*H+t.min,f[U]=Math.max(t.min,Math.min(t.max,D))}if(n.interleaved!=t.interleaved){var p=n.channels,_=Math.floor(c.length/p);n.interleaved&&!t.interleaved?f=f.map(function(T,V,I){var L=V%_,te=~~(V/_);return I[L*p+te]}):!n.interleaved&&t.interleaved&&(f=f.map(function(T,V,I){var L=~~(V/p),te=V%p;return I[te*_+L]}))}if(t.dtype!="array"&&t.dtype!="int8"&&t.dtype!="uint8"&&n.endianness&&t.endianness&&n.endianness!==t.endianness)for(var b=t.endianness==="le",A=new DataView(f.buffer),a=f.BYTES_PER_ELEMENT,u="set"+t.dtype[0].toUpperCase()+t.dtype.slice(1),U=0,l=f.length;U<l;U++)A[u](U*a,f[U],b);if(t.type,r){if(Array.isArray(r))for(var U=0;U<f.length;U++)r[U]=f[U];else if(r instanceof ArrayBuffer){var x=new Qr[t.dtype](r);x.set(f),r=x}else r.set(f);f=r}return(t.type==="arraybuffer"||t.type==="buffer")&&(f=f.buffer),f}function Kr(e){return typeof e=="string"?yn.parse(e):yn.detect(e)}function Xi(e){return typeof e!="string"&&(Array.isArray(e)||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)}var Qr={uint8:Uint8Array,uint8_clamped:Uint8ClampedArray,uint16:Uint16Array,uint32:Uint32Array,int8:Int8Array,int16:Int16Array,int32:Int32Array,float32:Float32Array,float64:Float64Array,array:Array,arraybuffer:Uint8Array,buffer:Uint8Array},bc={float32:"float32",audiobuffer:"float32",ndsamples:"float32",ndarray:"float32",float64:"float64",buffer:"uint8",arraybuffer:"uint8",uint8:"uint8",uint8_clamped:"uint8",uint16:"uint16",uint32:"uint32",int8:"int8",int16:"int16",int32:"int32",array:"array"};function Yi(e){switch(e.dtype||(e.dtype=bc[e.type]||"array"),e.dtype){case"float32":case"float64":case"audiobuffer":case"ndsamples":case"ndarray":e.min=-1,e.max=1;break;case"uint8":e.min=0,e.max=255;break;case"uint16":e.min=0,e.max=65535;break;case"uint32":e.min=0,e.max=4294967295;break;case"int8":e.min=-128,e.max=127;break;case"int16":e.min=-32768,e.max=32767;break;case"int32":e.min=-2147483648,e.max=2147483647;break;default:e.min=-1,e.max=1;break}return e}var vc=function(n){return atob(n)},ds={exports:{}};(function(e,n){(function(t){function r(i,s){if(i instanceof Boolean||typeof i=="boolean"||(s instanceof Object||(s={}),s.hasOwnProperty("allowBlank")&&!s.allowBlank&&i===""))return!1;var o="(?:[A-Za-z0-9+\\/]{4})*(?:[A-Za-z0-9+\\/]{2}==|[A-Za-z0-9+/]{3}=)?";return s.mime&&(o="(data:\\w+\\/[a-zA-Z\\+\\-\\.]+;base64,)?"+o),s.paddingRequired===!1&&(o="(?:[A-Za-z0-9+\\/]{4})*(?:[A-Za-z0-9+\\/]{2}(==)?|[A-Za-z0-9+\\/]{3}=?)?"),new RegExp("^"+o+"$","gi").test(i)}e.exports&&(n=e.exports=r),n.isBase64=r})()})(ds,ds.exports);var gc=ds.exports,E0=vc,wc=gc,xc=function(n){if(typeof n!="string")throw Error("Argument should be a string");return/^data\:/i.test(n)?yc(n):(wc(n)&&(n=E0(n)),R0(n))};function R0(e){for(var n=new Uint8Array(e.length),t=0;t<e.length;t++)n[t]=e.charCodeAt(t);return n.buffer}function yc(e){e=e.replace(/\r?\n/g,"");var n=e.indexOf(",");if(n===-1||n<=4)throw new TypeError("malformed data-URI");for(var t=e.substring(5,n).split(";"),r=!1,i="US-ASCII",s=0;s<t.length;s++)t[s]=="base64"?r=!0:t[s].indexOf("charset=")==0&&(i=t[s].substring(8));var o=unescape(e.substring(n+1));r&&(o=E0(o));var v=R0(o);return v.type=t[0]||"text/plain",v.charset=i,v}var Sc=m0,kc=pa,Ac=h0,Ec=ws,Rc=mc,Ui=x0,Tc=xc,Mc=w0,Bc=function e(n,t){var r,i,s,o,v,c,C;if(typeof t=="number"?t={channels:t}:typeof t=="string"?t={format:t}:t===void 0&&(Ac(n)?(t=n,n=void 0):t={}),t=Mc(t,{format:"format type dtype dataType",channels:"channel channels numberOfChannels channelCount",sampleRate:"sampleRate rate",length:"length size",duration:"duration time"}),s=t.channels,o=t.sampleRate,t.format&&(v=Gi(t.format)),v&&(s&&!v.channels?v.channels=s:v.channels&&!s&&(s=v.channels),!o&&v.sampleRate&&(o=v.sampleRate)),n==null)t.duration!=null?(o||(o=44100),r=o*t.duration):r=t.length;else if(kc(n))if(r=n.length,s==null&&(s=n.numberOfChannels),o==null&&(o=n.sampleRate),n._channelData)i=n._channelData.slice(0,s);else for(i=[],c=0,C=s;c<C;c++)i[c]=n.getChannelData(c);else if(typeof n=="number")r=n;else if(Array.isArray(n)&&(Array.isArray(n[0])||ArrayBuffer.isView(n[0])))for(r=n[0].length,i=[],s||(s=n.length),c=0;c<s;c++)i[c]=n[c]instanceof Float32Array?n[c]:new Float32Array(n[c]);else{if(n.shape&&n.data)return n.shape&&(s=n.shape[1]),!o&&n.format&&(o=n.format.sampleRate),e(n.data,{channels:s,sampleRate:o});for(typeof n=="string"&&(n=Tc(n)),v||(v=Gi(n)),s||(s=v.channels||1),n=Rc(n,v,"float32 planar"),r=Math.floor(n.length/s),i=[],c=0;c<s;c++)i[c]=n.subarray(c*r,(c+1)*r)}var l=new Sc(t.context===null||r===0?null:t.context||Ec(),{length:r??1,numberOfChannels:s||1,sampleRate:o||44100});if(i)for(c=0,C=i.length;c<C;c++)l.getChannelData(c).set(i[c]);return l};function Gi(e){return typeof e=="string"?Ui.parse(e):Ui.detect(e)}var T0=m0,Ir=pa,Cc=G2,Dc=ws,Ic=Bc,Oc=function(e){return e===0&&1/e===-1/0},Yt=function(n,t){return n==null?0:Oc(n)?t:n<=-t?0:n<0?t+n%t:Math.min(t,n)},Ya,ma={create:ir,copy:xs,shallow:M0,clone:Lc,reverse:Nc,invert:Fc,zero:jc,noise:Vc,equal:B0,fill:Mn,slice:ys,concat:Mr,resize:Xc,pad:Ss,padLeft:Yc,padRight:Uc,rotate:Gc,shift:Zc,normalize:Wc,removeStatic:zc,trim:Qc,trimLeft:$c,trimRight:Jc,mix:ef,size:tf,data:nf,subbuffer:Hc,repeat:qc};Object.defineProperty(ma,"context",{get:function(){return Ya||(Ya=Dc()),Ya}});var Pc=ma;function ir(e,n,t){return typeof n=="number"?n={channels:n}:typeof n=="string"?n={format:n}:n||(n={}),t&&(n.sampleRate=t),n.context=ma.context,Ic(e,n)}function xs(e,n,t){st(e),st(n),t=t||0;for(var r=0,i=Math.min(e.numberOfChannels,n.numberOfChannels);r<i;r++)n.getChannelData(r).set(e.getChannelData(r),t);return n}function st(e){if(!Ir(e))throw new Error("Argument should be an AudioBuffer instance.")}function M0(e){return st(e),ma.context.createBuffer(e.numberOfChannels,e.length,e.sampleRate)}function Lc(e){return xs(e,M0(e))}function Nc(e,n,t,r){st(e),!Ir(n)&&n!=null&&(r=t,t=n,n=null),n?(st(n),xs(e,n)):n=e,t=t==null?0:Yt(t,e.length),r=r==null?e.length:Yt(r,e.length);for(var i=0,s=n.numberOfChannels;i<s;++i)n.getChannelData(i).subarray(t,r).reverse();return n}function Fc(e,n,t,r){return!Ir(n)&&n!=null&&(r=t,t=n,n=null),Mn(e,n,function(i){return-i},t,r)}function jc(e,n,t,r){return Mn(e,n,0,t,r)}function Vc(e,n,t,r){return Mn(e,n,function(i){return Math.random()*2-1},t,r)}function B0(e,n){if(arguments.length>2){for(var t=0,r=arguments.length-1;t<r;t++)if(!B0(arguments[t],arguments[t+1]))return!1;return!0}if(st(e),st(n),e.length!==n.length||e.numberOfChannels!==n.numberOfChannels)return!1;for(var i=0;i<e.numberOfChannels;i++)for(var s=e.getChannelData(i),o=n.getChannelData(i),t=0;t<s.length;t++)if(s[t]!==o[t])return!1;return!0}function Mn(e,n,t,r,i){if(st(e),!Ir(n)&&n!=null&&(typeof t=="function"||(i=r,r=t,t=n),n=null),n?st(n):n=e,r=r==null?0:Yt(r,e.length),i=i==null?e.length:Yt(i,e.length),t instanceof Function)for(var s=0,o=e.numberOfChannels;s<o;s++)for(var C=e.getChannelData(s),v=n.getChannelData(s),c=r;c<i;c++)v[c]=t.call(e,C[c],c,s,C);else for(var s=0,o=e.numberOfChannels;s<o;s++)for(var v=n.getChannelData(s),c=r;c<i;c++)v[c]=t;return n}function qc(e,n){if(st(e),!n||n<0)return new T0(null,{length:0,numberOfChannels:e.numberOfChannels,sampleRate:e.sampleRate});if(n===1)return e;for(var t=[],r=0;r<n;r++)t.push(e);return Mr(t)}function ys(e,n,t){st(e),n=n==null?0:Yt(n,e.length),t=t==null?e.length:Yt(t,e.length);for(var r=[],i=0;i<e.numberOfChannels;i++){var s=e.getChannelData(i);r.push(s.slice(n,t))}return ir(r,e.numberOfChannels,e.sampleRate)}function Hc(e,n,t,r){if(st(e),Array.isArray(n)?(r=n,n=0,t=-0):Array.isArray(t)&&(r=t,t=-0),!Array.isArray(r)){r=Array(e.numberOfChannels);for(var i=0;i<e.numberOfChannels;i++)r[i]=i}n=n==null?0:Yt(n,e.length),t=t==null?e.length:Yt(t,e.length);for(var s=[],o=0;o<r.length;o++){var v=r[o],c=e.getChannelData(v);s.push(c.subarray(n,t))}var C=new T0(null,{length:0,sampleRate:e.sampleRate,numberOfChannels:e.numberOfChannels});return C.length=s[0].length,C._data=null,C._channelData=s,C.duration=C.length/C.sampleRate,C}function Mr(){for(var e=[],n=0,t=arguments.length;n<t;n++){var r=arguments[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)e.push(r[i]);else e.push(r)}for(var s=1,o=0,v=0,n=0;n<e.length;n++){var c=e[n];st(c),o+=c.length,s=Math.max(c.numberOfChannels,s),v=Math.max(c.sampleRate,v)}for(var C=[],l=0;l<s;l++){for(var f=new Float32Array(o),S=0,n=0;n<e.length;n++){var c=e[n];l<c.numberOfChannels&&f.set(c.getChannelData(l),S),S+=c.length}C.push(f)}return ir(C,s,v)}function Xc(e,n){return st(e),n<e.length?ys(e,0,n):Mr(e,ir(n-e.length,e.numberOfChannels))}function Ss(e,n,t){var r,i;return typeof e=="number"?(r=n,i=e):(r=e,i=n),t=t||0,st(r),i<r.length?r:r===n?Mr(Mn(ir(i-r.length,r.numberOfChannels),t),r):Mr(r,Mn(ir(i-r.length,r.numberOfChannels),t))}function Yc(e,n,t){return Ss(n,e,t)}function Uc(e,n,t){return Ss(e,n,t)}function Gc(e,n){st(e);for(var t=0;t<e.numberOfChannels;t++)for(var r=e.getChannelData(t),i=r.slice(),s=0,o=r.length,v;s<o;s++)v=(n+(n+s<0?o+s:s))%o,r[v]=i[s];return e}function Zc(e,n){st(e);for(var t=0;t<e.numberOfChannels;t++){var r=e.getChannelData(t);if(n>0)for(var i=r.length-n;i--;)r[i+n]=r[i];else for(var i=-n,s=r.length-n;i<s;i++)r[i+n]=r[i]||0}return e}function Wc(e,n,t,r){Ir(n)||(r=t,t=n,n=null),t=t==null?0:Yt(t,e.length),r=r==null?e.length:Yt(r,e.length);for(var i=0,s=0;s<e.numberOfChannels;s++)for(var o=e.getChannelData(s),v=t;v<r;v++)i=Math.max(Math.abs(o[v]),i);var c=Math.max(1/i,1);return Mn(e,n,function(C,l,f){return Cc(C*c,-1,1)},t,r)}function zc(e,n,t,r){var i=Kc(e,t,r);return Mn(e,n,function(s,o,v){return s-i[v]},t,r)}function Kc(e,n,t){if(st(e),n=n==null?0:Yt(n,e.length),t=t==null?e.length:Yt(t,e.length),t-n<1)return[];for(var r=[],i=0;i<e.numberOfChannels;i++){for(var s=0,o=e.getChannelData(i),v=n;v<t;v++)s+=o[v];r.push(s/(t-n))}return r}function Qc(e,n){return ks(e,n,!0,!0)}function $c(e,n){return ks(e,n,!0,!1)}function Jc(e,n){return ks(e,n,!1,!0)}function ks(e,n,t,r){st(e),n=n==null?0:Math.abs(n);var i,s;if(t){i=e.length;for(var o=0,v=e.numberOfChannels;o<v;o++)for(var c=e.getChannelData(o),C=0;C<c.length&&!(C>i);C++)if(Math.abs(c[C])>n){i=C;break}}else i=0;if(r){s=0;for(var o=0,v=e.numberOfChannels;o<v;o++)for(var c=e.getChannelData(o),C=c.length-1;C>=0&&!(C<s);C--)if(Math.abs(c[C])>n){s=C+1;break}}else s=e.length;return ys(e,i,s)}function ef(e,n,t,r){st(e),st(n),t==null&&(t=.5);var i=t instanceof Function?t:function(l,f){return l*(1-t)+f*t};r==null?r=0:r<0&&(r+=e.length);for(var s=0;s<e.numberOfChannels;s++)for(var o=e.getChannelData(s),v=n.getChannelData(s),c=r,C=0;c<e.length&&C<n.length;c++,C++)o[c]=i.call(e,o[c],v[C],C,s);return e}function tf(e){return st(e),e.numberOfChannels*e.getChannelData(0).byteLength}function nf(e,n){st(e),n=n||[];for(var t=0;t<e.numberOfChannels;t++)ArrayBuffer.isView(n[t])?n[t].set(e.getChannelData(t)):n[t]=e.getChannelData(t);return n}const gr=X2(Pc);function rf(e){return new Int8Array(e)}function C0(e){return new Int16Array(e)}function D0(e){return new Int32Array(e)}function I0(e){return new Float32Array(e)}function af(e){return new Float64Array(e)}function O0(e){if(e.length==1)return I0(e[0]);var n=e[0];e=e.slice(1);for(var t=[],r=0;r<n;r++)t.push(O0(e));return t}function P0(e){if(e.length==1)return D0(e[0]);var n=e[0];e=e.slice(1);for(var t=[],r=0;r<n;r++)t.push(P0(e));return t}function L0(e){if(e.length==1)return C0(e[0]);var n=e[0];e=e.slice(1);for(var t=[],r=0;r<n;r++)t.push(L0(e));return t}function N0(e){if(e.length==1)return new Array(e[0]);var n=e[0];e=e.slice(1);for(var t=[],r=0;r<n;r++)t.push(N0(e));return t}var F0={};F0.fill=function(e,n,t,r){if(arguments.length==2)for(var i=0;i<e.length;i++)e[i]=arguments[1];else for(var i=n;i<t;i++)e[i]=r};var Or={};Or.arraycopy=function(e,n,t,r,i){for(var s=n+i;n<s;)t[r++]=e[n++]};Or.out={};Or.out.println=function(e){console.log(e)};Or.out.printf=function(){console.log.apply(console,arguments)};var ha={};ha.SQRT2=1.4142135623730951;ha.FAST_LOG10=function(e){return Math.log10(e)};ha.FAST_LOG10_X=function(e,n){return Math.log10(e)*n};function dn(e){this.ordinal=e}dn.short_block_allowed=new dn(0);dn.short_block_coupled=new dn(1);dn.short_block_dispensed=new dn(2);dn.short_block_forced=new dn(3);var j0={};j0.MAX_VALUE=34028235e31;function jt(e){this.ordinal=e}jt.vbr_off=new jt(0);jt.vbr_mt=new jt(1);jt.vbr_rh=new jt(2);jt.vbr_abr=new jt(3);jt.vbr_mtrh=new jt(4);jt.vbr_default=jt.vbr_mtrh;var sf=function(e){},at={System:Or,VbrMode:jt,Float:j0,ShortBlock:dn,Util:ha,Arrays:F0,new_array_n:N0,new_byte:rf,new_double:af,new_float:I0,new_float_n:O0,new_int:D0,new_int_n:P0,new_short:C0,new_short_n:L0,assert:sf},Ua,Zi;function of(){if(Zi)return Ua;Zi=1;var e=at,n=e.System,t=e.Util,r=e.Arrays,i=e.new_float,s=xt();function o(){var v=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*t.SQRT2*.5/2384e-9,.017876148*t.SQRT2*.5/2384e-9,.003134727*t.SQRT2*.5/2384e-9,.002457142*t.SQRT2*.5/2384e-9,971317e-9*t.SQRT2*.5/2384e-9,218868e-9*t.SQRT2*.5/2384e-9,101566e-9*t.SQRT2*.5/2384e-9,13828e-9*t.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],c=12,C=36,l=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],f=l[s.SHORT_TYPE],S=l[s.SHORT_TYPE],H=l[s.SHORT_TYPE],U=l[s.SHORT_TYPE],D=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function w(b,A,a){for(var u=10,x=A+238-14-286,T=-15;T<0;T++){var V,I,L;V=v[u+-10],I=b[x+-224]*V,L=b[A+224]*V,V=v[u+-9],I+=b[x+-160]*V,L+=b[A+160]*V,V=v[u+-8],I+=b[x+-96]*V,L+=b[A+96]*V,V=v[u+-7],I+=b[x+-32]*V,L+=b[A+32]*V,V=v[u+-6],I+=b[x+32]*V,L+=b[A+-32]*V,V=v[u+-5],I+=b[x+96]*V,L+=b[A+-96]*V,V=v[u+-4],I+=b[x+160]*V,L+=b[A+-160]*V,V=v[u+-3],I+=b[x+224]*V,L+=b[A+-224]*V,V=v[u+-2],I+=b[A+-256]*V,L-=b[x+256]*V,V=v[u+-1],I+=b[A+-192]*V,L-=b[x+192]*V,V=v[u+0],I+=b[A+-128]*V,L-=b[x+128]*V,V=v[u+1],I+=b[A+-64]*V,L-=b[x+64]*V,V=v[u+2],I+=b[A+0]*V,L-=b[x+0]*V,V=v[u+3],I+=b[A+64]*V,L-=b[x+-64]*V,V=v[u+4],I+=b[A+128]*V,L-=b[x+-128]*V,V=v[u+5],I+=b[A+192]*V,L-=b[x+-192]*V,I*=v[u+6],V=L-I,a[30+T*2]=L+I,a[31+T*2]=v[u+7]*V,u+=18,A--,x++}{var I,L,te,M;L=b[A+-16]*v[u+-10],I=b[A+-32]*v[u+-2],L+=(b[A+-48]-b[A+16])*v[u+-9],I+=b[A+-96]*v[u+-1],L+=(b[A+-80]+b[A+48])*v[u+-8],I+=b[A+-160]*v[u+0],L+=(b[A+-112]-b[A+80])*v[u+-7],I+=b[A+-224]*v[u+1],L+=(b[A+-144]+b[A+112])*v[u+-6],I-=b[A+32]*v[u+2],L+=(b[A+-176]-b[A+144])*v[u+-5],I-=b[A+96]*v[u+3],L+=(b[A+-208]+b[A+176])*v[u+-4],I-=b[A+160]*v[u+4],L+=(b[A+-240]-b[A+208])*v[u+-3],I-=b[A+224],te=I-L,M=I+L,L=a[14],I=a[15]-L,a[31]=M+L,a[30]=te+I,a[15]=te-I,a[14]=M-L}{var d;d=a[28]-a[0],a[0]+=a[28],a[28]=d*v[u+-2*18+7],d=a[29]-a[1],a[1]+=a[29],a[29]=d*v[u+-2*18+7],d=a[26]-a[2],a[2]+=a[26],a[26]=d*v[u+-4*18+7],d=a[27]-a[3],a[3]+=a[27],a[27]=d*v[u+-4*18+7],d=a[24]-a[4],a[4]+=a[24],a[24]=d*v[u+-6*18+7],d=a[25]-a[5],a[5]+=a[25],a[25]=d*v[u+-6*18+7],d=a[22]-a[6],a[6]+=a[22],a[22]=d*t.SQRT2,d=a[23]-a[7],a[7]+=a[23],a[23]=d*t.SQRT2-a[7],a[7]-=a[6],a[22]-=a[7],a[23]-=a[22],d=a[6],a[6]=a[31]-d,a[31]=a[31]+d,d=a[7],a[7]=a[30]-d,a[30]=a[30]+d,d=a[22],a[22]=a[15]-d,a[15]=a[15]+d,d=a[23],a[23]=a[14]-d,a[14]=a[14]+d,d=a[20]-a[8],a[8]+=a[20],a[20]=d*v[u+-10*18+7],d=a[21]-a[9],a[9]+=a[21],a[21]=d*v[u+-10*18+7],d=a[18]-a[10],a[10]+=a[18],a[18]=d*v[u+-12*18+7],d=a[19]-a[11],a[11]+=a[19],a[19]=d*v[u+-12*18+7],d=a[16]-a[12],a[12]+=a[16],a[16]=d*v[u+-14*18+7],d=a[17]-a[13],a[13]+=a[17],a[17]=d*v[u+-14*18+7],d=-a[20]+a[24],a[20]+=a[24],a[24]=d*v[u+-12*18+7],d=-a[21]+a[25],a[21]+=a[25],a[25]=d*v[u+-12*18+7],d=a[4]-a[8],a[4]+=a[8],a[8]=d*v[u+-12*18+7],d=a[5]-a[9],a[5]+=a[9],a[9]=d*v[u+-12*18+7],d=a[0]-a[12],a[0]+=a[12],a[12]=d*v[u+-4*18+7],d=a[1]-a[13],a[1]+=a[13],a[13]=d*v[u+-4*18+7],d=a[16]-a[28],a[16]+=a[28],a[28]=d*v[u+-4*18+7],d=-a[17]+a[29],a[17]+=a[29],a[29]=d*v[u+-4*18+7],d=t.SQRT2*(a[2]-a[10]),a[2]+=a[10],a[10]=d,d=t.SQRT2*(a[3]-a[11]),a[3]+=a[11],a[11]=d,d=t.SQRT2*(-a[18]+a[26]),a[18]+=a[26],a[26]=d-a[18],d=t.SQRT2*(-a[19]+a[27]),a[19]+=a[27],a[27]=d-a[19],d=a[2],a[19]-=a[3],a[3]-=d,a[2]=a[31]-d,a[31]+=d,d=a[3],a[11]-=a[19],a[18]-=d,a[3]=a[30]-d,a[30]+=d,d=a[18],a[27]-=a[11],a[19]-=d,a[18]=a[15]-d,a[15]+=d,d=a[19],a[10]-=d,a[19]=a[14]-d,a[14]+=d,d=a[10],a[11]-=d,a[10]=a[23]-d,a[23]+=d,d=a[11],a[26]-=d,a[11]=a[22]-d,a[22]+=d,d=a[26],a[27]-=d,a[26]=a[7]-d,a[7]+=d,d=a[27],a[27]=a[6]-d,a[6]+=d,d=t.SQRT2*(a[0]-a[4]),a[0]+=a[4],a[4]=d,d=t.SQRT2*(a[1]-a[5]),a[1]+=a[5],a[5]=d,d=t.SQRT2*(a[16]-a[20]),a[16]+=a[20],a[20]=d,d=t.SQRT2*(a[17]-a[21]),a[17]+=a[21],a[21]=d,d=-t.SQRT2*(a[8]-a[12]),a[8]+=a[12],a[12]=d-a[8],d=-t.SQRT2*(a[9]-a[13]),a[9]+=a[13],a[13]=d-a[9],d=-t.SQRT2*(a[25]-a[29]),a[25]+=a[29],a[29]=d-a[25],d=-t.SQRT2*(a[24]+a[28]),a[24]-=a[28],a[28]=d-a[24],d=a[24]-a[16],a[24]=d,d=a[20]-d,a[20]=d,d=a[28]-d,a[28]=d,d=a[25]-a[17],a[25]=d,d=a[21]-d,a[21]=d,d=a[29]-d,a[29]=d,d=a[17]-a[1],a[17]=d,d=a[9]-d,a[9]=d,d=a[25]-d,a[25]=d,d=a[5]-d,a[5]=d,d=a[21]-d,a[21]=d,d=a[13]-d,a[13]=d,d=a[29]-d,a[29]=d,d=a[1]-a[0],a[1]=d,d=a[16]-d,a[16]=d,d=a[17]-d,a[17]=d,d=a[8]-d,a[8]=d,d=a[9]-d,a[9]=d,d=a[24]-d,a[24]=d,d=a[25]-d,a[25]=d,d=a[4]-d,a[4]=d,d=a[5]-d,a[5]=d,d=a[20]-d,a[20]=d,d=a[21]-d,a[21]=d,d=a[12]-d,a[12]=d,d=a[13]-d,a[13]=d,d=a[28]-d,a[28]=d,d=a[29]-d,a[29]=d,d=a[0],a[0]+=a[31],a[31]-=d,d=a[1],a[1]+=a[30],a[30]-=d,d=a[16],a[16]+=a[15],a[15]-=d,d=a[17],a[17]+=a[14],a[14]-=d,d=a[8],a[8]+=a[23],a[23]-=d,d=a[9],a[9]+=a[22],a[22]-=d,d=a[24],a[24]+=a[7],a[7]-=d,d=a[25],a[25]+=a[6],a[6]-=d,d=a[4],a[4]+=a[27],a[27]-=d,d=a[5],a[5]+=a[26],a[26]-=d,d=a[20],a[20]+=a[11],a[11]-=d,d=a[21],a[21]+=a[10],a[10]-=d,d=a[12],a[12]+=a[19],a[19]-=d,d=a[13],a[13]+=a[18],a[18]-=d,d=a[28],a[28]+=a[3],a[3]-=d,d=a[29],a[29]+=a[2],a[2]-=d}}function p(b,A){for(var a=0;a<3;a++){var u,x,T,V,I,L;V=b[A+2*3]*l[s.SHORT_TYPE][0]-b[A+5*3],u=b[A+0*3]*l[s.SHORT_TYPE][2]-b[A+3*3],x=V+u,T=V-u,V=b[A+5*3]*l[s.SHORT_TYPE][0]+b[A+2*3],u=b[A+3*3]*l[s.SHORT_TYPE][2]+b[A+0*3],I=V+u,L=-V+u,u=(b[A+1*3]*l[s.SHORT_TYPE][1]-b[A+4*3])*2069978111953089e-26,V=(b[A+4*3]*l[s.SHORT_TYPE][1]+b[A+1*3])*2069978111953089e-26,b[A+3*0]=x*190752519173728e-25+u,b[A+3*5]=-I*190752519173728e-25+V,T=T*.8660254037844387*1907525191737281e-26,I=I*.5*1907525191737281e-26+V,b[A+3*1]=T-I,b[A+3*2]=T+I,x=x*.5*1907525191737281e-26-u,L=L*.8660254037844387*1907525191737281e-26,b[A+3*3]=x+L,b[A+3*4]=x-L,A++}}function _(b,A,a){var u,x;{var T,V,I,L,te,M,d,P;T=a[17]-a[9],I=a[15]-a[11],L=a[14]-a[12],te=a[0]+a[8],M=a[1]+a[7],d=a[2]+a[6],P=a[3]+a[5],b[A+17]=te+d-P-(M-a[4]),x=(te+d-P)*S[19]+(M-a[4]),u=(T-I-L)*S[18],b[A+5]=u+x,b[A+6]=u-x,V=(a[16]-a[10])*S[18],M=M*S[19]+a[4],u=T*S[12]+V+I*S[13]+L*S[14],x=-te*S[16]+M-d*S[17]+P*S[15],b[A+1]=u+x,b[A+2]=u-x,u=T*S[13]-V-I*S[14]+L*S[12],x=-te*S[17]+M-d*S[15]+P*S[16],b[A+9]=u+x,b[A+10]=u-x,u=T*S[14]-V+I*S[12]-L*S[13],x=te*S[15]-M+d*S[16]-P*S[17],b[A+13]=u+x,b[A+14]=u-x}{var X,W,G,J,q,y,h,m;X=a[8]-a[0],G=a[6]-a[2],J=a[5]-a[3],q=a[17]+a[9],y=a[16]+a[10],h=a[15]+a[11],m=a[14]+a[12],b[A+0]=q+h+m+(y+a[13]),u=(q+h+m)*S[19]-(y+a[13]),x=(X-G+J)*S[18],b[A+11]=u+x,b[A+12]=u-x,W=(a[7]-a[1])*S[18],y=a[13]-y*S[19],u=q*S[15]-y+h*S[16]+m*S[17],x=X*S[14]+W+G*S[12]+J*S[13],b[A+3]=u+x,b[A+4]=u-x,u=-q*S[17]+y-h*S[15]-m*S[16],x=X*S[13]+W-G*S[14]-J*S[12],b[A+7]=u+x,b[A+8]=u-x,u=-q*S[16]+y-h*S[17]-m*S[15],x=X*S[12]-W+G*S[13]-J*S[14],b[A+15]=u+x,b[A+16]=u-x}}this.mdct_sub48=function(b,A,a){for(var u=A,x=286,T=0;T<b.channels_out;T++){for(var V=0;V<b.mode_gr;V++){for(var I,L=b.l3_side.tt[V][T],te=L.xr,M=0,d=b.sb_sample[T][1-V],P=0,X=0;X<18/2;X++)for(w(u,x,d[P]),w(u,x+32,d[P+1]),P+=2,x+=64,I=1;I<32;I+=2)d[P-1][I]*=-1;for(I=0;I<32;I++,M+=18){var W=L.block_type,G=b.sb_sample[T][V],J=b.sb_sample[T][1-V];if(L.mixed_block_flag!=0&&I<2&&(W=0),b.amp_filter[I]<1e-12)r.fill(te,M+0,M+18,0);else{if(b.amp_filter[I]<1)for(var X=0;X<18;X++)J[X][D[I]]*=b.amp_filter[I];if(W==s.SHORT_TYPE){for(var X=-c/4;X<0;X++){var q=l[s.SHORT_TYPE][X+3];te[M+X*3+9]=G[9+X][D[I]]*q-G[8-X][D[I]],te[M+X*3+18]=G[14-X][D[I]]*q+G[15+X][D[I]],te[M+X*3+10]=G[15+X][D[I]]*q-G[14-X][D[I]],te[M+X*3+19]=J[2-X][D[I]]*q+J[3+X][D[I]],te[M+X*3+11]=J[3+X][D[I]]*q-J[2-X][D[I]],te[M+X*3+20]=J[8-X][D[I]]*q+J[9+X][D[I]]}p(te,M)}else{for(var y=i(18),X=-C/4;X<0;X++){var h,m;h=l[W][X+27]*J[X+9][D[I]]+l[W][X+36]*J[8-X][D[I]],m=l[W][X+9]*G[X+9][D[I]]-l[W][X+18]*G[8-X][D[I]],y[X+9]=h-m*f[3+X+9],y[X+18]=h*f[3+X+9]+m}_(te,M,y)}}if(W!=s.SHORT_TYPE&&I!=0)for(var X=7;X>=0;--X){var E,j;E=te[M+X]*H[20+X]+te[M+-1-X]*U[28+X],j=te[M+X]*U[28+X]-te[M+-1-X]*H[20+X],te[M+-1-X]=E,te[M+X]=j}}}if(u=a,x=286,b.mode_gr==1)for(var $=0;$<18;$++)n.arraycopy(b.sb_sample[T][1][$],0,b.sb_sample[T][0][$],0,32)}}}return Ua=o,Ua}var Ga,Wi;function V0(){if(Wi)return Ga;Wi=1;var e=xt(),n=at,t=n.System,r=n.new_float,i=n.new_float_n;function s(){this.l=r(e.SBMAX_l),this.s=i([e.SBMAX_s,3]);var o=this;this.assign=function(v){t.arraycopy(v.l,0,o.l,0,e.SBMAX_l);for(var c=0;c<e.SBMAX_s;c++)for(var C=0;C<3;C++)o.s[c][C]=v.s[c][C]}}return Ga=s,Ga}var Za,zi;function lf(){if(zi)return Za;zi=1;var e=V0();function n(){this.thm=new e,this.en=new e}return Za=n,Za}function $t(e){var n=e;this.ordinal=function(){return n}}$t.STEREO=new $t(0);$t.JOINT_STEREO=new $t(1);$t.DUAL_CHANNEL=new $t(2);$t.MONO=new $t(3);$t.NOT_SET=new $t(4);var Pr=$t,Wa,Ki;function xt(){if(Ki)return Wa;Ki=1;var e=at,n=e.System,t=e.VbrMode,r=e.new_array_n,i=e.new_float,s=e.new_float_n,o=e.new_int,v=e.assert;c.ENCDELAY=576,c.POSTDELAY=1152,c.MDCTDELAY=48,c.FFTOFFSET=224+c.MDCTDELAY,c.DECDELAY=528,c.SBLIMIT=32,c.CBANDS=64,c.SBPSY_l=21,c.SBPSY_s=12,c.SBMAX_l=22,c.SBMAX_s=13,c.PSFB21=6,c.PSFB12=6,c.BLKSIZE=1024,c.HBLKSIZE=c.BLKSIZE/2+1,c.BLKSIZE_s=256,c.HBLKSIZE_s=c.BLKSIZE_s/2+1,c.NORM_TYPE=0,c.START_TYPE=1,c.SHORT_TYPE=2,c.STOP_TYPE=3,c.MPG_MD_LR_LR=0,c.MPG_MD_LR_I=1,c.MPG_MD_MS_LR=2,c.MPG_MD_MS_I=3,c.fircoef=[-.0207887*5,-.0378413*5,-.0432472*5,-.031183*5,779609e-23*5,.0467745*5,.10091*5,.151365*5,.187098*5];function c(){var C=of(),l=lf(),f=Pr,S=c.FFTOFFSET,H=c.MPG_MD_MS_LR,U=null;this.psy=null;var D=null,w=null,p=null;this.setModules=function(u,x,T,V){U=u,this.psy=x,D=x,w=V,p=T};var _=new C;function b(u){var x,T;if(u.ATH.useAdjust==0){u.ATH.adjust=1;return}if(T=u.loudness_sq[0][0],x=u.loudness_sq[1][0],u.channels_out==2?(T+=u.loudness_sq[0][1],x+=u.loudness_sq[1][1]):(T+=T,x+=x),u.mode_gr==2&&(T=Math.max(T,x)),T*=.5,T*=u.ATH.aaSensitivityP,T>.03125)u.ATH.adjust>=1?u.ATH.adjust=1:u.ATH.adjust<u.ATH.adjustLimit&&(u.ATH.adjust=u.ATH.adjustLimit),u.ATH.adjustLimit=1;else{var V=31.98*T+625e-6;u.ATH.adjust>=V?(u.ATH.adjust*=V*.075+.925,u.ATH.adjust<V&&(u.ATH.adjust=V)):u.ATH.adjustLimit>=V?u.ATH.adjust=V:u.ATH.adjust<u.ATH.adjustLimit&&(u.ATH.adjust=u.ATH.adjustLimit),u.ATH.adjustLimit=V}}function A(u){var x,T;for(v(0<=u.bitrate_index&&u.bitrate_index<16),v(0<=u.mode_ext&&u.mode_ext<4),u.bitrate_stereoMode_Hist[u.bitrate_index][4]++,u.bitrate_stereoMode_Hist[15][4]++,u.channels_out==2&&(u.bitrate_stereoMode_Hist[u.bitrate_index][u.mode_ext]++,u.bitrate_stereoMode_Hist[15][u.mode_ext]++),x=0;x<u.mode_gr;++x)for(T=0;T<u.channels_out;++T){var V=u.l3_side.tt[x][T].block_type|0;u.l3_side.tt[x][T].mixed_block_flag!=0&&(V=4),u.bitrate_blockType_Hist[u.bitrate_index][V]++,u.bitrate_blockType_Hist[u.bitrate_index][5]++,u.bitrate_blockType_Hist[15][V]++,u.bitrate_blockType_Hist[15][5]++}}function a(u,x){var T=u.internal_flags,V,I;if(T.lame_encode_frame_init==0){var L,te,M=i(2014),d=i(2014);for(T.lame_encode_frame_init=1,L=0,te=0;L<286+576*(1+T.mode_gr);++L)L<576*T.mode_gr?(M[L]=0,T.channels_out==2&&(d[L]=0)):(M[L]=x[0][te],T.channels_out==2&&(d[L]=x[1][te]),++te);for(I=0;I<T.mode_gr;I++)for(V=0;V<T.channels_out;V++)T.l3_side.tt[I][V].block_type=c.SHORT_TYPE;_.mdct_sub48(T,M,d),v(576>=c.FFTOFFSET),v(T.mf_size>=c.BLKSIZE+u.framesize-c.FFTOFFSET),v(T.mf_size>=512+u.framesize-32)}}this.lame_encode_mp3_frame=function(u,x,T,V,I,L){var te,M=r([2,2]);M[0][0]=new l,M[0][1]=new l,M[1][0]=new l,M[1][1]=new l;var d=r([2,2]);d[0][0]=new l,d[0][1]=new l,d[1][0]=new l,d[1][1]=new l;var P,X=[null,null],W=u.internal_flags,G=s([2,4]),J=[.5,.5],q=[[0,0],[0,0]],y=[[0,0],[0,0]],h,m,E;if(X[0]=x,X[1]=T,W.lame_encode_frame_init==0&&a(u,X),W.padding=0,(W.slot_lag-=W.frac_SpF)<0&&(W.slot_lag+=u.out_samplerate,W.padding=1),W.psymodel!=0){var j,$=[null,null],ae=0,z=o(2);for(E=0;E<W.mode_gr;E++){for(m=0;m<W.channels_out;m++)$[m]=X[m],ae=576+E*576-c.FFTOFFSET;if(u.VBR==t.vbr_mtrh||u.VBR==t.vbr_mt?j=D.L3psycho_anal_vbr(u,$,ae,E,M,d,q[E],y[E],G[E],z):j=D.L3psycho_anal_ns(u,$,ae,E,M,d,q[E],y[E],G[E],z),j!=0)return-4;for(u.mode==f.JOINT_STEREO&&(J[E]=G[E][2]+G[E][3],J[E]>0&&(J[E]=G[E][3]/J[E])),m=0;m<W.channels_out;m++){var ee=W.l3_side.tt[E][m];ee.block_type=z[m],ee.mixed_block_flag=0}}}else for(E=0;E<W.mode_gr;E++)for(m=0;m<W.channels_out;m++)W.l3_side.tt[E][m].block_type=c.NORM_TYPE,W.l3_side.tt[E][m].mixed_block_flag=0,y[E][m]=q[E][m]=700;if(b(W),_.mdct_sub48(W,X[0],X[1]),W.mode_ext=c.MPG_MD_LR_LR,u.force_ms)W.mode_ext=c.MPG_MD_MS_LR;else if(u.mode==f.JOINT_STEREO){var le=0,ce=0;for(E=0;E<W.mode_gr;E++)for(m=0;m<W.channels_out;m++)le+=y[E][m],ce+=q[E][m];if(le<=1*ce){var be=W.l3_side.tt[0],ge=W.l3_side.tt[W.mode_gr-1];be[0].block_type==be[1].block_type&&ge[0].block_type==ge[1].block_type&&(W.mode_ext=c.MPG_MD_MS_LR)}}if(W.mode_ext==H?(P=d,h=y):(P=M,h=q),u.analysis&&W.pinfo!=null)for(E=0;E<W.mode_gr;E++)for(m=0;m<W.channels_out;m++)W.pinfo.ms_ratio[E]=W.ms_ratio[E],W.pinfo.ms_ener_ratio[E]=J[E],W.pinfo.blocktype[E][m]=W.l3_side.tt[E][m].block_type,W.pinfo.pe[E][m]=h[E][m],n.arraycopy(W.l3_side.tt[E][m].xr,0,W.pinfo.xr[E][m],0,576),W.mode_ext==H&&(W.pinfo.ers[E][m]=W.pinfo.ers[E][m+2],n.arraycopy(W.pinfo.energy[E][m+2],0,W.pinfo.energy[E][m],0,W.pinfo.energy[E][m].length));if(u.VBR==t.vbr_off||u.VBR==t.vbr_abr){var ve,pe;for(ve=0;ve<18;ve++)W.nsPsy.pefirbuf[ve]=W.nsPsy.pefirbuf[ve+1];for(pe=0,E=0;E<W.mode_gr;E++)for(m=0;m<W.channels_out;m++)pe+=h[E][m];for(W.nsPsy.pefirbuf[18]=pe,pe=W.nsPsy.pefirbuf[9],ve=0;ve<9;ve++)pe+=(W.nsPsy.pefirbuf[ve]+W.nsPsy.pefirbuf[18-ve])*c.fircoef[ve];for(pe=670*5*W.mode_gr*W.channels_out/pe,E=0;E<W.mode_gr;E++)for(m=0;m<W.channels_out;m++)h[E][m]*=pe}if(W.iteration_loop.iteration_loop(u,h,J,P),U.format_bitstream(u),te=U.copy_buffer(W,V,I,L,1),u.bWriteVbrTag&&w.addVbrFrame(u),u.analysis&&W.pinfo!=null){for(m=0;m<W.channels_out;m++){var ye;for(ye=0;ye<S;ye++)W.pinfo.pcmdata[m][ye]=W.pinfo.pcmdata[m][ye+u.framesize];for(ye=S;ye<1600;ye++)W.pinfo.pcmdata[m][ye]=X[m][ye-S]}p.set_frame_pinfo(u,P)}return A(W),te}}return Wa=c,Wa}var q0=at,Qi=q0.Util,$i=q0.new_float,ft=xt();function cf(){var e=$i(ft.BLKSIZE),n=$i(ft.BLKSIZE_s/2),t=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function r(s,o,v){var c=0,C,l,f;v<<=1;var S=o+v;C=4;do{var H,U,D,w,p,_,b;b=C>>1,w=C,p=C<<1,_=p+w,C=p<<1,l=o,f=l+b;do{var A,a,u,x;a=s[l+0]-s[l+w],A=s[l+0]+s[l+w],x=s[l+p]-s[l+_],u=s[l+p]+s[l+_],s[l+p]=A-u,s[l+0]=A+u,s[l+_]=a-x,s[l+w]=a+x,a=s[f+0]-s[f+w],A=s[f+0]+s[f+w],x=Qi.SQRT2*s[f+_],u=Qi.SQRT2*s[f+p],s[f+p]=A-u,s[f+0]=A+u,s[f+_]=a-x,s[f+w]=a+x,f+=C,l+=C}while(l<S);for(U=t[c+0],H=t[c+1],D=1;D<b;D++){var T,V;T=1-2*H*H,V=2*H*U,l=o+D,f=o+w-D;do{var I,L,te,A,a,M,u,d,x,P;L=V*s[l+w]-T*s[f+w],I=T*s[l+w]+V*s[f+w],a=s[l+0]-I,A=s[l+0]+I,M=s[f+0]-L,te=s[f+0]+L,L=V*s[l+_]-T*s[f+_],I=T*s[l+_]+V*s[f+_],x=s[l+p]-I,u=s[l+p]+I,P=s[f+p]-L,d=s[f+p]+L,L=H*u-U*P,I=U*u+H*P,s[l+p]=A-I,s[l+0]=A+I,s[f+_]=M-L,s[f+w]=M+L,L=U*d-H*x,I=H*d+U*x,s[f+p]=te-I,s[f+0]=te+I,s[l+_]=a-L,s[l+w]=a+L,f+=C,l+=C}while(l<S);T=U,U=T*t[c+0]-H*t[c+1],H=T*t[c+1]+H*t[c+0]}c+=2}while(C<v)}var i=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(s,o,v,c,C){for(var l=0;l<3;l++){var f=ft.BLKSIZE_s/2,S=65535&576/3*(l+1),H=ft.BLKSIZE_s/8-1;do{var U,D,w,p,_,b=i[H<<2]&255;U=n[b]*c[v][C+b+S],_=n[127-b]*c[v][C+b+S+128],D=U-_,U=U+_,w=n[b+64]*c[v][C+b+S+64],_=n[63-b]*c[v][C+b+S+192],p=w-_,w=w+_,f-=4,o[l][f+0]=U+w,o[l][f+2]=U-w,o[l][f+1]=D+p,o[l][f+3]=D-p,U=n[b+1]*c[v][C+b+S+1],_=n[126-b]*c[v][C+b+S+129],D=U-_,U=U+_,w=n[b+65]*c[v][C+b+S+65],_=n[62-b]*c[v][C+b+S+193],p=w-_,w=w+_,o[l][f+ft.BLKSIZE_s/2+0]=U+w,o[l][f+ft.BLKSIZE_s/2+2]=U-w,o[l][f+ft.BLKSIZE_s/2+1]=D+p,o[l][f+ft.BLKSIZE_s/2+3]=D-p}while(--H>=0);r(o[l],f,ft.BLKSIZE_s/2)}},this.fft_long=function(s,o,v,c,C){var l=ft.BLKSIZE/8-1,f=ft.BLKSIZE/2;do{var S,H,U,D,w,p=i[l]&255;S=e[p]*c[v][C+p],w=e[p+512]*c[v][C+p+512],H=S-w,S=S+w,U=e[p+256]*c[v][C+p+256],w=e[p+768]*c[v][C+p+768],D=U-w,U=U+w,f-=4,o[f+0]=S+U,o[f+2]=S-U,o[f+1]=H+D,o[f+3]=H-D,S=e[p+1]*c[v][C+p+1],w=e[p+513]*c[v][C+p+513],H=S-w,S=S+w,U=e[p+257]*c[v][C+p+257],w=e[p+769]*c[v][C+p+769],D=U-w,U=U+w,o[f+ft.BLKSIZE/2+0]=S+U,o[f+ft.BLKSIZE/2+2]=S-U,o[f+ft.BLKSIZE/2+1]=H+D,o[f+ft.BLKSIZE/2+3]=H-D}while(--l>=0);r(o,f,ft.BLKSIZE/2)},this.init_fft=function(s){for(var o=0;o<ft.BLKSIZE;o++)e[o]=.42-.5*Math.cos(2*Math.PI*(o+.5)/ft.BLKSIZE)+.08*Math.cos(4*Math.PI*(o+.5)/ft.BLKSIZE);for(var o=0;o<ft.BLKSIZE_s/2;o++)n[o]=.5*(1-Math.cos(2*Math.PI*(o+.5)/ft.BLKSIZE_s))}}var ff=cf,pn=at,Gn=pn.VbrMode,Ji=pn.Float,Zn=pn.ShortBlock,Et=pn.Util,_f=pn.Arrays,ut=pn.new_float,qt=pn.new_float_n,In=pn.new_int,Le=pn.assert,uf=ff,oe=xt();function df(){var e=Pr,n=new uf,t=2.302585092994046,r=2,i=16,s=2,o=16,v=.34,c=1/(14752*14752)/(oe.BLKSIZE/2),C=.01,l=.8,f=.6,S=.3,H=3.5,U=21,D=.2302585093;function w(O,N){for(var k=0,F=0;F<oe.BLKSIZE/2;++F)k+=O[F]*N.ATH.eql_w[F];return k*=c,k}function p(O,N,k,F,Y,R,Z,Q,K,re,ne){var se=O.internal_flags;if(K<2)n.fft_long(se,F[Y],K,re,ne),n.fft_short(se,R[Z],K,re,ne);else if(K==2){for(var he=oe.BLKSIZE-1;he>=0;--he){var Be=F[Y+0][he],fe=F[Y+1][he];F[Y+0][he]=(Be+fe)*Et.SQRT2*.5,F[Y+1][he]=(Be-fe)*Et.SQRT2*.5}for(var Ce=2;Ce>=0;--Ce)for(var he=oe.BLKSIZE_s-1;he>=0;--he){var Be=R[Z+0][Ce][he],fe=R[Z+1][Ce][he];R[Z+0][Ce][he]=(Be+fe)*Et.SQRT2*.5,R[Z+1][Ce][he]=(Be-fe)*Et.SQRT2*.5}}N[0]=F[Y+0][0],N[0]*=N[0];for(var he=oe.BLKSIZE/2-1;he>=0;--he){var ie=F[Y+0][oe.BLKSIZE/2-he],ke=F[Y+0][oe.BLKSIZE/2+he];N[oe.BLKSIZE/2-he]=(ie*ie+ke*ke)*.5}for(var Ce=2;Ce>=0;--Ce){k[Ce][0]=R[Z+0][Ce][0],k[Ce][0]*=k[Ce][0];for(var he=oe.BLKSIZE_s/2-1;he>=0;--he){var ie=R[Z+0][Ce][oe.BLKSIZE_s/2-he],ke=R[Z+0][Ce][oe.BLKSIZE_s/2+he];k[Ce][oe.BLKSIZE_s/2-he]=(ie*ie+ke*ke)*.5}}{for(var Ne=0,he=11;he<oe.HBLKSIZE;he++)Ne+=N[he];se.tot_ener[K]=Ne}if(O.analysis){for(var he=0;he<oe.HBLKSIZE;he++)se.pinfo.energy[Q][K][he]=se.pinfo.energy_save[K][he],se.pinfo.energy_save[K][he]=N[he];se.pinfo.pe[Q][K]=se.pe[K]}O.athaa_loudapprox==2&&K<2&&(se.loudness_sq[Q][K]=se.loudness_sq_save[K],se.loudness_sq_save[K]=w(N,se))}var _=8,b=23,A=15,a,u,x,T=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749];function V(){a=Math.pow(10,(_+1)/16),u=Math.pow(10,(b+1)/16),x=Math.pow(10,A/10)}var I=[3.3246*3.3246,3.23837*3.23837,3.15437*3.15437,3.00412*3.00412,2.86103*2.86103,2.65407*2.65407,2.46209*2.46209,2.284*2.284,2.11879*2.11879,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,1.56911*1.56911,1.46658*1.46658,1.37074*1.37074,1.31036*1.31036,1.25264*1.25264,1.20648*1.20648,1.16203*1.16203,1.12765*1.12765,1.09428*1.09428,1.0659*1.0659,1.03826*1.03826,1.01895*1.01895,1],L=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1],te=[2.35364*2.35364,2.29259*2.29259,2.23313*2.23313,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,1.49999*1.49999,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.11084*1.11084,1.03826*1.03826];function M(O,N,k,F,Y,R){var Z;if(N>O)if(N<O*u)Z=N/O;else return O+N;else{if(O>=N*u)return O+N;Z=O/N}if(O+=N,F+3<=6){if(Z>=a)return O;var Q=0|Et.FAST_LOG10_X(Z,16);return O*L[Q]}var Q=0|Et.FAST_LOG10_X(Z,16);if(N=Y.ATH.cb_l[k]*Y.ATH.adjust,O<x*N){if(O>N){var K,re;return K=1,Q<=13&&(K=te[Q]),re=Et.FAST_LOG10_X(O/N,10/15),O*((I[Q]-K)*re+K)}return Q>13?O:O*te[Q]}return O*I[Q]}var d=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1];function P(O,N,k){var F;if(O<0&&(O=0),N<0&&(N=0),O<=0)return N;if(N<=0)return O;if(N>O?F=N/O:F=O/N,-2<=k&&k<=2){if(F>=a)return O+N;var Y=0|Et.FAST_LOG10_X(F,16);return(O+N)*d[Y]}return F<u?O+N:(O<N&&(O=N),O)}function X(O,N){var k=O.internal_flags;if(k.channels_out>1){for(var F=0;F<oe.SBMAX_l;F++){var Y=k.thm[0].l[F],R=k.thm[1].l[F];k.thm[0].l[F]+=R*N,k.thm[1].l[F]+=Y*N}for(var F=0;F<oe.SBMAX_s;F++)for(var Z=0;Z<3;Z++){var Y=k.thm[0].s[F][Z],R=k.thm[1].s[F][Z];k.thm[0].s[F][Z]+=R*N,k.thm[1].s[F][Z]+=Y*N}}}function W(O){for(var N=0;N<oe.SBMAX_l;N++)if(!(O.thm[0].l[N]>1.58*O.thm[1].l[N]||O.thm[1].l[N]>1.58*O.thm[0].l[N])){var k=O.mld_l[N]*O.en[3].l[N],F=Math.max(O.thm[2].l[N],Math.min(O.thm[3].l[N],k));k=O.mld_l[N]*O.en[2].l[N];var Y=Math.max(O.thm[3].l[N],Math.min(O.thm[2].l[N],k));O.thm[2].l[N]=F,O.thm[3].l[N]=Y}for(var N=0;N<oe.SBMAX_s;N++)for(var R=0;R<3;R++)if(!(O.thm[0].s[N][R]>1.58*O.thm[1].s[N][R]||O.thm[1].s[N][R]>1.58*O.thm[0].s[N][R])){var k=O.mld_s[N]*O.en[3].s[N][R],F=Math.max(O.thm[2].s[N][R],Math.min(O.thm[3].s[N][R],k));k=O.mld_s[N]*O.en[2].s[N][R];var Y=Math.max(O.thm[3].s[N][R],Math.min(O.thm[2].s[N][R],k));O.thm[2].s[N][R]=F,O.thm[3].s[N][R]=Y}}function G(O,N,k){var F=N,Y=Math.pow(10,k);N*=2,F*=2;for(var R=0;R<oe.SBMAX_l;R++){var Z,Q,K,re;if(re=O.ATH.cb_l[O.bm_l[R]]*Y,Z=Math.min(Math.max(O.thm[0].l[R],re),Math.max(O.thm[1].l[R],re)),Q=Math.max(O.thm[2].l[R],re),K=Math.max(O.thm[3].l[R],re),Z*N<Q+K){var ne=Z*F/(Q+K);Q*=ne,K*=ne}O.thm[2].l[R]=Math.min(Q,O.thm[2].l[R]),O.thm[3].l[R]=Math.min(K,O.thm[3].l[R])}Y*=oe.BLKSIZE_s/oe.BLKSIZE;for(var R=0;R<oe.SBMAX_s;R++)for(var se=0;se<3;se++){var Z,Q,K,re;if(re=O.ATH.cb_s[O.bm_s[R]]*Y,Z=Math.min(Math.max(O.thm[0].s[R][se],re),Math.max(O.thm[1].s[R][se],re)),Q=Math.max(O.thm[2].s[R][se],re),K=Math.max(O.thm[3].s[R][se],re),Z*N<Q+K){var ne=Z*N/(Q+K);Q*=ne,K*=ne}O.thm[2].s[R][se]=Math.min(O.thm[2].s[R][se],Q),O.thm[3].s[R][se]=Math.min(O.thm[3].s[R][se],K)}}function J(O,N,k,F,Y){var R,Z,Q=0,K=0;for(R=Z=0;R<oe.SBMAX_s;++Z,++R){for(var re=O.bo_s[R],ne=O.npart_s,se=re<ne?re:ne;Z<se;)Le(N[Z]>=0),Le(k[Z]>=0),Q+=N[Z],K+=k[Z],Z++;if(O.en[F].s[R][Y]=Q,O.thm[F].s[R][Y]=K,Z>=ne){++R;break}Le(N[Z]>=0),Le(k[Z]>=0);{var he=O.PSY.bo_s_weight[R],Be=1-he;Q=he*N[Z],K=he*k[Z],O.en[F].s[R][Y]+=Q,O.thm[F].s[R][Y]+=K,Q=Be*N[Z],K=Be*k[Z]}}for(;R<oe.SBMAX_s;++R)O.en[F].s[R][Y]=0,O.thm[F].s[R][Y]=0}function q(O,N,k,F){var Y,R,Z=0,Q=0;for(Y=R=0;Y<oe.SBMAX_l;++R,++Y){for(var K=O.bo_l[Y],re=O.npart_l,ne=K<re?K:re;R<ne;)Le(N[R]>=0),Le(k[R]>=0),Z+=N[R],Q+=k[R],R++;if(O.en[F].l[Y]=Z,O.thm[F].l[Y]=Q,R>=re){++Y;break}Le(N[R]>=0),Le(k[R]>=0);{var se=O.PSY.bo_l_weight[Y],he=1-se;Z=se*N[R],Q=se*k[R],O.en[F].l[Y]+=Z,O.thm[F].l[Y]+=Q,Z=he*N[R],Q=he*k[R]}}for(;Y<oe.SBMAX_l;++Y)O.en[F].l[Y]=0,O.thm[F].l[Y]=0}function y(O,N,k,F,Y,R){var Z=O.internal_flags,Q,K;for(K=Q=0;K<Z.npart_s;++K){for(var re=0,ne=Z.numlines_s[K],se=0;se<ne;++se,++Q){var he=N[R][Q];re+=he}k[K]=re}for(Le(K==Z.npart_s),Q=K=0;K<Z.npart_s;K++){var Be=Z.s3ind_s[K][0],fe=Z.s3_ss[Q++]*k[Be];for(++Be;Be<=Z.s3ind_s[K][1];)fe+=Z.s3_ss[Q]*k[Be],++Q,++Be;{var Ce=s*Z.nb_s1[Y][K];F[K]=Math.min(fe,Ce)}if(Z.blocktype_old[Y&1]==oe.SHORT_TYPE){var Ce=o*Z.nb_s2[Y][K],ie=F[K];F[K]=Math.min(Ce,ie)}Z.nb_s2[Y][K]=Z.nb_s1[Y][K],Z.nb_s1[Y][K]=fe,Le(F[K]>=0)}for(;K<=oe.CBANDS;++K)k[K]=0,F[K]=0}function h(O,N,k,F){var Y=O.internal_flags;O.short_blocks==Zn.short_block_coupled&&!(N[0]!=0&&N[1]!=0)&&(N[0]=N[1]=0);for(var R=0;R<Y.channels_out;R++)F[R]=oe.NORM_TYPE,O.short_blocks==Zn.short_block_dispensed&&(N[R]=1),O.short_blocks==Zn.short_block_forced&&(N[R]=0),N[R]!=0?(Le(Y.blocktype_old[R]!=oe.START_TYPE),Y.blocktype_old[R]==oe.SHORT_TYPE&&(F[R]=oe.STOP_TYPE)):(F[R]=oe.SHORT_TYPE,Y.blocktype_old[R]==oe.NORM_TYPE&&(Y.blocktype_old[R]=oe.START_TYPE),Y.blocktype_old[R]==oe.STOP_TYPE&&(Y.blocktype_old[R]=oe.SHORT_TYPE)),k[R]=Y.blocktype_old[R],Y.blocktype_old[R]=F[R]}function m(O,N,k){return k>=1?O:k<=0?N:N>0?Math.pow(O/N,k)*N:0}var E=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function j(O,N){for(var k=309.07,F=0;F<oe.SBMAX_s-1;F++)for(var Y=0;Y<3;Y++){var R=O.thm.s[F][Y];if(R>0){var Z=R*N,Q=O.en.s[F][Y];Q>Z&&(Q>Z*1e10?k+=E[F]*(10*t):k+=E[F]*Et.FAST_LOG10(Q/Z))}}return k}var $=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function ae(O,N){for(var k=281.0575,F=0;F<oe.SBMAX_l-1;F++){var Y=O.thm.l[F];if(Y>0){var R=Y*N,Z=O.en.l[F];Z>R&&(Z>R*1e10?k+=$[F]*(10*t):k+=$[F]*Et.FAST_LOG10(Z/R))}}return k}function z(O,N,k,F,Y){var R,Z;for(R=Z=0;R<O.npart_l;++R){var Q=0,K=0,re;for(re=0;re<O.numlines_l[R];++re,++Z){var ne=N[Z];Q+=ne,K<ne&&(K=ne)}k[R]=Q,F[R]=K,Y[R]=Q*O.rnumlines_l[R],Le(O.rnumlines_l[R]>=0),Le(k[R]>=0),Le(F[R]>=0),Le(Y[R]>=0)}}function ee(O,N,k,F){var Y=T.length-1,R=0,Z=k[R]+k[R+1];if(Z>0){var Q=N[R];Q<N[R+1]&&(Q=N[R+1]),Le(O.numlines_l[R]+O.numlines_l[R+1]-1>0),Z=20*(Q*2-Z)/(Z*(O.numlines_l[R]+O.numlines_l[R+1]-1));var K=0|Z;K>Y&&(K=Y),F[R]=K}else F[R]=0;for(R=1;R<O.npart_l-1;R++)if(Z=k[R-1]+k[R]+k[R+1],Z>0){var Q=N[R-1];Q<N[R]&&(Q=N[R]),Q<N[R+1]&&(Q=N[R+1]),Le(O.numlines_l[R-1]+O.numlines_l[R]+O.numlines_l[R+1]-1>0),Z=20*(Q*3-Z)/(Z*(O.numlines_l[R-1]+O.numlines_l[R]+O.numlines_l[R+1]-1));var K=0|Z;K>Y&&(K=Y),F[R]=K}else F[R]=0;if(Le(R==O.npart_l-1),Z=k[R-1]+k[R],Z>0){var Q=N[R-1];Q<N[R]&&(Q=N[R]),Le(O.numlines_l[R-1]+O.numlines_l[R]-1>0),Z=20*(Q*2-Z)/(Z*(O.numlines_l[R-1]+O.numlines_l[R]-1));var K=0|Z;K>Y&&(K=Y),F[R]=K}else F[R]=0;Le(R==O.npart_l-1)}var le=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];this.L3psycho_anal_ns=function(O,N,k,F,Y,R,Z,Q,K,re){var ne=O.internal_flags,se=qt([2,oe.BLKSIZE]),he=qt([2,3,oe.BLKSIZE_s]),Be=ut(oe.CBANDS+1),fe=ut(oe.CBANDS+1),Ce=ut(oe.CBANDS+2),ie=In(2),ke=In(2),Ne,_e,Ee,ue,Oe,Ke,xe,Pe,Fe=qt([2,576]),et,Ot=In(oe.CBANDS+2),ct=In(oe.CBANDS+2);for(_f.fill(ct,0),Ne=ne.channels_out,O.mode==e.JOINT_STEREO&&(Ne=4),O.VBR==Gn.vbr_off?et=ne.ResvMax==0?0:ne.ResvSize/ne.ResvMax*.5:O.VBR==Gn.vbr_rh||O.VBR==Gn.vbr_mtrh||O.VBR==Gn.vbr_mt?et=.6:et=1,_e=0;_e<ne.channels_out;_e++){var tt=N[_e],St=k+576-350-U+192;for(ue=0;ue<576;ue++){var Pt,Lt;for(Pt=tt[St+ue+10],Lt=0,Oe=0;Oe<(U-1)/2-1;Oe+=2)Pt+=le[Oe]*(tt[St+ue+Oe]+tt[St+ue+U-Oe]),Lt+=le[Oe+1]*(tt[St+ue+Oe+1]+tt[St+ue+U-Oe-1]);Fe[_e][ue]=Pt+Lt}Y[F][_e].en.assign(ne.en[_e]),Y[F][_e].thm.assign(ne.thm[_e]),Ne>2&&(R[F][_e].en.assign(ne.en[_e+2]),R[F][_e].thm.assign(ne.thm[_e+2]))}for(_e=0;_e<Ne;_e++){var Ut,Gt,wt=ut(12),Jt=[0,0,0,0],Xn=ut(12),wa=1,Cs,Ds=ut(oe.CBANDS),Is=ut(oe.CBANDS),nt=[0,0,0,0],Os=ut(oe.HBLKSIZE),Ps=qt([3,oe.HBLKSIZE_s]);for(Le(ne.npart_s<=oe.CBANDS),Le(ne.npart_l<=oe.CBANDS),ue=0;ue<3;ue++)wt[ue]=ne.nsPsy.last_en_subshort[_e][ue+6],Le(ne.nsPsy.last_en_subshort[_e][ue+4]>0),Xn[ue]=wt[ue]/ne.nsPsy.last_en_subshort[_e][ue+4],Jt[0]+=wt[ue];if(_e==2)for(ue=0;ue<576;ue++){var xa,ya;xa=Fe[0][ue],ya=Fe[1][ue],Fe[0][ue]=xa+ya,Fe[1][ue]=xa-ya}{var Ls=Fe[_e&1],fr=0;for(ue=0;ue<9;ue++){for(var eo=fr+64,mt=1;fr<eo;fr++)mt<Math.abs(Ls[fr])&&(mt=Math.abs(Ls[fr]));ne.nsPsy.last_en_subshort[_e][ue]=wt[ue+3]=mt,Jt[1+ue/3]+=mt,mt>wt[ue+3-2]?(Le(wt[ue+3-2]>0),mt=mt/wt[ue+3-2]):wt[ue+3-2]>mt*10?mt=wt[ue+3-2]/(mt*10):mt=0,Xn[ue+3]=mt}}if(O.analysis){var Sa=Xn[0];for(ue=1;ue<12;ue++)Sa<Xn[ue]&&(Sa=Xn[ue]);ne.pinfo.ers[F][_e]=ne.pinfo.ers_save[_e],ne.pinfo.ers_save[_e]=Sa}for(Cs=_e==3?ne.nsPsy.attackthre_s:ne.nsPsy.attackthre,ue=0;ue<12;ue++)nt[ue/3]==0&&Xn[ue]>Cs&&(nt[ue/3]=ue%3+1);for(ue=1;ue<4;ue++){var ka;Jt[ue-1]>Jt[ue]?(Le(Jt[ue]>0),ka=Jt[ue-1]/Jt[ue]):(Le(Jt[ue-1]>0),ka=Jt[ue]/Jt[ue-1]),ka<1.7&&(nt[ue]=0,ue==1&&(nt[0]=0))}for(nt[0]!=0&&ne.nsPsy.lastAttacks[_e]!=0&&(nt[0]=0),(ne.nsPsy.lastAttacks[_e]==3||nt[0]+nt[1]+nt[2]+nt[3]!=0)&&(wa=0,nt[1]!=0&&nt[0]!=0&&(nt[1]=0),nt[2]!=0&&nt[1]!=0&&(nt[2]=0),nt[3]!=0&&nt[2]!=0&&(nt[3]=0)),_e<2?ke[_e]=wa:wa==0&&(ke[0]=ke[1]=0),K[_e]=ne.tot_ener[_e],Gt=he,Ut=se,p(O,Os,Ps,Ut,_e&1,Gt,_e&1,F,_e,N,k),z(ne,Os,Be,Ds,Is),ee(ne,Ds,Is,Ot),Pe=0;Pe<3;Pe++){var Aa,kt;for(y(O,Ps,fe,Ce,_e,Pe),J(ne,fe,Ce,_e,Pe),xe=0;xe<oe.SBMAX_s;xe++){if(kt=ne.thm[_e].s[xe][Pe],kt*=l,nt[Pe]>=2||nt[Pe+1]==1){var _r=Pe!=0?Pe-1:2,mt=m(ne.thm[_e].s[xe][_r],kt,f*et);kt=Math.min(kt,mt)}if(nt[Pe]==1){var _r=Pe!=0?Pe-1:2,mt=m(ne.thm[_e].s[xe][_r],kt,S*et);kt=Math.min(kt,mt)}else if(Pe!=0&&nt[Pe-1]==3||Pe==0&&ne.nsPsy.lastAttacks[_e]==3){var _r=Pe!=2?Pe+1:0,mt=m(ne.thm[_e].s[xe][_r],kt,S*et);kt=Math.min(kt,mt)}Aa=wt[Pe*3+3]+wt[Pe*3+4]+wt[Pe*3+5],wt[Pe*3+5]*6<Aa&&(kt*=.5,wt[Pe*3+4]*6<Aa&&(kt*=.5)),ne.thm[_e].s[xe][Pe]=kt}}for(ne.nsPsy.lastAttacks[_e]=nt[2],Ke=0,Ee=0;Ee<ne.npart_l;Ee++){for(var Bn=ne.s3ind[Ee][0],Ea=Be[Bn]*T[Ot[Bn]],Cn=ne.s3_ll[Ke++]*Ea;++Bn<=ne.s3ind[Ee][1];)Ea=Be[Bn]*T[Ot[Bn]],Cn=M(Cn,ne.s3_ll[Ke++]*Ea,Bn,Bn-Ee,ne);Cn*=.158489319246111,ne.blocktype_old[_e&1]==oe.SHORT_TYPE?Ce[Ee]=Cn:Ce[Ee]=m(Math.min(Cn,Math.min(r*ne.nb_1[_e][Ee],i*ne.nb_2[_e][Ee])),Cn,et),ne.nb_2[_e][Ee]=ne.nb_1[_e][Ee],ne.nb_1[_e][Ee]=Cn}for(;Ee<=oe.CBANDS;++Ee)Be[Ee]=0,Ce[Ee]=0;q(ne,Be,Ce,_e)}if((O.mode==e.STEREO||O.mode==e.JOINT_STEREO)&&O.interChRatio>0&&X(O,O.interChRatio),O.mode==e.JOINT_STEREO){var Ra;W(ne),Ra=O.msfix,Math.abs(Ra)>0&&G(ne,Ra,O.ATHlower*ne.ATH.adjust)}for(h(O,ke,re,ie),_e=0;_e<Ne;_e++){var ur,dr=0,Lr,Nr;_e>1?(ur=Q,dr=-2,Lr=oe.NORM_TYPE,(re[0]==oe.SHORT_TYPE||re[1]==oe.SHORT_TYPE)&&(Lr=oe.SHORT_TYPE),Nr=R[F][_e-2]):(ur=Z,dr=0,Lr=re[_e],Nr=Y[F][_e]),Lr==oe.SHORT_TYPE?ur[dr+_e]=j(Nr,ne.masking_lower):ur[dr+_e]=ae(Nr,ne.masking_lower),O.analysis&&(ne.pinfo.pe[F][_e]=ur[dr+_e])}return 0};function ce(O,N,k,F,Y,R,Z,Q){var K=O.internal_flags;if(F<2)n.fft_long(K,Z[Q],F,N,k);else if(F==2)for(var re=oe.BLKSIZE-1;re>=0;--re){var ne=Z[Q+0][re],se=Z[Q+1][re];Z[Q+0][re]=(ne+se)*Et.SQRT2*.5,Z[Q+1][re]=(ne-se)*Et.SQRT2*.5}R[0]=Z[Q+0][0],R[0]*=R[0];for(var re=oe.BLKSIZE/2-1;re>=0;--re){var he=Z[Q+0][oe.BLKSIZE/2-re],Be=Z[Q+0][oe.BLKSIZE/2+re];R[oe.BLKSIZE/2-re]=(he*he+Be*Be)*.5}{for(var fe=0,re=11;re<oe.HBLKSIZE;re++)fe+=R[re];K.tot_ener[F]=fe}if(O.analysis){for(var re=0;re<oe.HBLKSIZE;re++)K.pinfo.energy[Y][F][re]=K.pinfo.energy_save[F][re],K.pinfo.energy_save[F][re]=R[re];K.pinfo.pe[Y][F]=K.pe[F]}}function be(O,N,k,F,Y,R,Z,Q){var K=O.internal_flags;if(Y==0&&F<2&&n.fft_short(K,Z[Q],F,N,k),F==2)for(var re=oe.BLKSIZE_s-1;re>=0;--re){var ne=Z[Q+0][Y][re],se=Z[Q+1][Y][re];Z[Q+0][Y][re]=(ne+se)*Et.SQRT2*.5,Z[Q+1][Y][re]=(ne-se)*Et.SQRT2*.5}R[Y][0]=Z[Q+0][Y][0],R[Y][0]*=R[Y][0];for(var re=oe.BLKSIZE_s/2-1;re>=0;--re){var he=Z[Q+0][Y][oe.BLKSIZE_s/2-re],Be=Z[Q+0][Y][oe.BLKSIZE_s/2+re];R[Y][oe.BLKSIZE_s/2-re]=(he*he+Be*Be)*.5}}function ge(O,N,k,F){var Y=O.internal_flags;O.athaa_loudapprox==2&&k<2&&(Y.loudness_sq[N][k]=Y.loudness_sq_save[k],Y.loudness_sq_save[k]=w(F,Y))}var ve=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];function pe(O,N,k,F,Y,R,Z,Q,K,re){for(var ne=qt([2,576]),se=O.internal_flags,he=se.channels_out,Be=O.mode==e.JOINT_STEREO?4:he,fe=0;fe<he;fe++){firbuf=N[fe];for(var Ce=k+576-350-U+192,ie=0;ie<576;ie++){var ke,Ne;ke=firbuf[Ce+ie+10],Ne=0;for(var _e=0;_e<(U-1)/2-1;_e+=2)ke+=ve[_e]*(firbuf[Ce+ie+_e]+firbuf[Ce+ie+U-_e]),Ne+=ve[_e+1]*(firbuf[Ce+ie+_e+1]+firbuf[Ce+ie+U-_e-1]);ne[fe][ie]=ke+Ne}Y[F][fe].en.assign(se.en[fe]),Y[F][fe].thm.assign(se.thm[fe]),Be>2&&(R[F][fe].en.assign(se.en[fe+2]),R[F][fe].thm.assign(se.thm[fe+2]))}for(var fe=0;fe<Be;fe++){var Ee=ut(12),ue=ut(12),Oe=[0,0,0,0],Ke=ne[fe&1],xe=0,Pe=fe==3?se.nsPsy.attackthre_s:se.nsPsy.attackthre,Fe=1;if(fe==2)for(var ie=0,_e=576;_e>0;++ie,--_e){var et=ne[0][ie],Ot=ne[1][ie];ne[0][ie]=et+Ot,ne[1][ie]=et-Ot}for(var ie=0;ie<3;ie++)ue[ie]=se.nsPsy.last_en_subshort[fe][ie+6],Le(se.nsPsy.last_en_subshort[fe][ie+4]>0),Ee[ie]=ue[ie]/se.nsPsy.last_en_subshort[fe][ie+4],Oe[0]+=ue[ie];for(var ie=0;ie<9;ie++){for(var ct=xe+64,tt=1;xe<ct;xe++)tt<Math.abs(Ke[xe])&&(tt=Math.abs(Ke[xe]));se.nsPsy.last_en_subshort[fe][ie]=ue[ie+3]=tt,Oe[1+ie/3]+=tt,tt>ue[ie+3-2]?(Le(ue[ie+3-2]>0),tt=tt/ue[ie+3-2]):ue[ie+3-2]>tt*10?tt=ue[ie+3-2]/(tt*10):tt=0,Ee[ie+3]=tt}for(var ie=0;ie<3;++ie){var St=ue[ie*3+3]+ue[ie*3+4]+ue[ie*3+5],Pt=1;ue[ie*3+5]*6<St&&(Pt*=.5,ue[ie*3+4]*6<St&&(Pt*=.5)),Q[fe][ie]=Pt}if(O.analysis){for(var Lt=Ee[0],ie=1;ie<12;ie++)Lt<Ee[ie]&&(Lt=Ee[ie]);se.pinfo.ers[F][fe]=se.pinfo.ers_save[fe],se.pinfo.ers_save[fe]=Lt}for(var ie=0;ie<12;ie++)K[fe][ie/3]==0&&Ee[ie]>Pe&&(K[fe][ie/3]=ie%3+1);for(var ie=1;ie<4;ie++){var Ut=Oe[ie-1],Gt=Oe[ie],wt=Math.max(Ut,Gt);wt<4e4&&Ut<1.7*Gt&&Gt<1.7*Ut&&(ie==1&&K[fe][0]<=K[fe][ie]&&(K[fe][0]=0),K[fe][ie]=0)}K[fe][0]<=se.nsPsy.lastAttacks[fe]&&(K[fe][0]=0),(se.nsPsy.lastAttacks[fe]==3||K[fe][0]+K[fe][1]+K[fe][2]+K[fe][3]!=0)&&(Fe=0,K[fe][1]!=0&&K[fe][0]!=0&&(K[fe][1]=0),K[fe][2]!=0&&K[fe][1]!=0&&(K[fe][2]=0),K[fe][3]!=0&&K[fe][2]!=0&&(K[fe][3]=0)),fe<2?re[fe]=Fe:Fe==0&&(re[0]=re[1]=0),Z[fe]=se.tot_ener[fe]}}function ye(O,N,k){if(k==0)for(var F=0;F<O.npart_s;F++)O.nb_s2[N][F]=O.nb_s1[N][F],O.nb_s1[N][F]=0}function je(O,N){for(var k=0;k<O.npart_l;k++)O.nb_2[N][k]=O.nb_1[N][k],O.nb_1[N][k]=0}function pt(O,N,k,F){var Y=T.length-1,R=0,Z=k[R]+k[R+1];if(Z>0){var Q=N[R];Q<N[R+1]&&(Q=N[R+1]),Le(O.numlines_s[R]+O.numlines_s[R+1]-1>0),Z=20*(Q*2-Z)/(Z*(O.numlines_s[R]+O.numlines_s[R+1]-1));var K=0|Z;K>Y&&(K=Y),F[R]=K}else F[R]=0;for(R=1;R<O.npart_s-1;R++)if(Z=k[R-1]+k[R]+k[R+1],Le(R+1<O.npart_s),Z>0){var Q=N[R-1];Q<N[R]&&(Q=N[R]),Q<N[R+1]&&(Q=N[R+1]),Le(O.numlines_s[R-1]+O.numlines_s[R]+O.numlines_s[R+1]-1>0),Z=20*(Q*3-Z)/(Z*(O.numlines_s[R-1]+O.numlines_s[R]+O.numlines_s[R+1]-1));var K=0|Z;K>Y&&(K=Y),F[R]=K}else F[R]=0;if(Le(R==O.npart_s-1),Z=k[R-1]+k[R],Z>0){var Q=N[R-1];Q<N[R]&&(Q=N[R]),Le(O.numlines_s[R-1]+O.numlines_s[R]-1>0),Z=20*(Q*2-Z)/(Z*(O.numlines_s[R-1]+O.numlines_s[R]-1));var K=0|Z;K>Y&&(K=Y),F[R]=K}else F[R]=0;Le(R==O.npart_s-1)}function g(O,N,k,F,Y,R){var Z=O.internal_flags,Q=new float[oe.CBANDS],K=ut(oe.CBANDS),re,ne,se,he=new int[oe.CBANDS];for(se=ne=0;se<Z.npart_s;++se){var Be=0,fe=0,Ce=Z.numlines_s[se];for(re=0;re<Ce;++re,++ne){var ie=N[R][ne];Be+=ie,fe<ie&&(fe=ie)}k[se]=Be,Q[se]=fe,K[se]=Be/Ce,Le(K[se]>=0)}for(Le(se==Z.npart_s);se<oe.CBANDS;++se)Q[se]=0,K[se]=0;for(pt(Z,Q,K,he),ne=se=0;se<Z.npart_s;se++){var ke=Z.s3ind_s[se][0],Ne=Z.s3ind_s[se][1],_e,Ee,ue,Oe,Ke;for(_e=he[ke],Ee=1,Oe=Z.s3_ss[ne]*k[ke]*T[he[ke]],++ne,++ke;ke<=Ne;)_e+=he[ke],Ee+=1,ue=Z.s3_ss[ne]*k[ke]*T[he[ke]],Oe=P(Oe,ue,ke-se),++ne,++ke;_e=(1+2*_e)/(2*Ee),Ke=T[_e]*.5,Oe*=Ke,F[se]=Oe,Z.nb_s2[Y][se]=Z.nb_s1[Y][se],Z.nb_s1[Y][se]=Oe,ue=Q[se],ue*=Z.minval_s[se],ue*=Ke,F[se]>ue&&(F[se]=ue),Z.masking_lower>1&&(F[se]*=Z.masking_lower),F[se]>k[se]&&(F[se]=k[se]),Z.masking_lower<1&&(F[se]*=Z.masking_lower),Le(F[se]>=0)}for(;se<oe.CBANDS;++se)k[se]=0,F[se]=0}function B(O,N,k,F,Y){var R=ut(oe.CBANDS),Z=ut(oe.CBANDS),Q=In(oe.CBANDS+2),K;z(O,N,k,R,Z),ee(O,R,Z,Q);var re=0;for(K=0;K<O.npart_l;K++){var ne,se,he,Be,fe=O.s3ind[K][0],Ce=O.s3ind[K][1],ie=0,ke=0;for(ie=Q[fe],ke+=1,se=O.s3_ll[re]*k[fe]*T[Q[fe]],++re,++fe;fe<=Ce;)ie+=Q[fe],ke+=1,ne=O.s3_ll[re]*k[fe]*T[Q[fe]],Be=P(se,ne,fe-K),se=Be,++re,++fe;if(ie=(1+2*ie)/(2*ke),he=T[ie]*.5,se*=he,O.blocktype_old[Y&1]==oe.SHORT_TYPE){var Ne=r*O.nb_1[Y][K];Ne>0?F[K]=Math.min(se,Ne):F[K]=Math.min(se,k[K]*S)}else{var _e=i*O.nb_2[Y][K],Ee=r*O.nb_1[Y][K],Ne;_e<=0&&(_e=se),Ee<=0&&(Ee=se),O.blocktype_old[Y&1]==oe.NORM_TYPE?Ne=Math.min(Ee,_e):Ne=Ee,F[K]=Math.min(se,Ne)}O.nb_2[Y][K]=O.nb_1[Y][K],O.nb_1[Y][K]=se,ne=R[K],ne*=O.minval_l[K],ne*=he,F[K]>ne&&(F[K]=ne),O.masking_lower>1&&(F[K]*=O.masking_lower),F[K]>k[K]&&(F[K]=k[K]),O.masking_lower<1&&(F[K]*=O.masking_lower),Le(F[K]>=0)}for(;K<oe.CBANDS;++K)k[K]=0,F[K]=0}function me(O,N){var k=O.internal_flags;O.short_blocks==Zn.short_block_coupled&&!(N[0]!=0&&N[1]!=0)&&(N[0]=N[1]=0);for(var F=0;F<k.channels_out;F++)O.short_blocks==Zn.short_block_dispensed&&(N[F]=1),O.short_blocks==Zn.short_block_forced&&(N[F]=0)}function Se(O,N,k){for(var F=O.internal_flags,Y=0;Y<F.channels_out;Y++){var R=oe.NORM_TYPE;N[Y]!=0?(Le(F.blocktype_old[Y]!=oe.START_TYPE),F.blocktype_old[Y]==oe.SHORT_TYPE&&(R=oe.STOP_TYPE)):(R=oe.SHORT_TYPE,F.blocktype_old[Y]==oe.NORM_TYPE&&(F.blocktype_old[Y]=oe.START_TYPE),F.blocktype_old[Y]==oe.STOP_TYPE&&(F.blocktype_old[Y]=oe.SHORT_TYPE)),k[Y]=F.blocktype_old[Y],F.blocktype_old[Y]=R}}function Ie(O,N,k,F,Y,R,Z){for(var Q=R*2,K=R>0?Math.pow(10,Y):1,re,ne,se=0;se<Z;++se){var he=O[2][se],Be=O[3][se],fe=N[0][se],Ce=N[1][se],ie=N[2][se],ke=N[3][se];if(fe<=1.58*Ce&&Ce<=1.58*fe){var Ne=k[se]*Be,_e=k[se]*he;ne=Math.max(ie,Math.min(ke,Ne)),re=Math.max(ke,Math.min(ie,_e))}else ne=ie,re=ke;if(R>0){var Ee,ue,Oe=F[se]*K;if(Ee=Math.min(Math.max(fe,Oe),Math.max(Ce,Oe)),ie=Math.max(ne,Oe),ke=Math.max(re,Oe),ue=ie+ke,ue>0&&Ee*Q<ue){var Ke=Ee*Q/ue;ie*=Ke,ke*=Ke}ne=Math.min(ie,ne),re=Math.min(ke,re)}ne>he&&(ne=he),re>Be&&(re=Be),N[2][se]=ne,N[3][se]=re}}this.L3psycho_anal_vbr=function(O,N,k,F,Y,R,Z,Q,K,re){var ne=O.internal_flags,se,he,Be=ut(oe.HBLKSIZE),fe=qt([3,oe.HBLKSIZE_s]),Ce=qt([2,oe.BLKSIZE]),ie=qt([2,3,oe.BLKSIZE_s]),ke=qt([4,oe.CBANDS]),Ne=qt([4,oe.CBANDS]),_e=qt([4,3]),Ee=.6,ue=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],Oe=In(2),Ke=O.mode==e.JOINT_STEREO?4:ne.channels_out;pe(O,N,k,F,Y,R,K,_e,ue,Oe),me(O,Oe);{for(var xe=0;xe<Ke;xe++){var Pe=xe&1;se=Ce,ce(O,N,k,xe,F,Be,se,Pe),ge(O,F,xe,Be),Oe[Pe]!=0?B(ne,Be,ke[xe],Ne[xe],xe):je(ne,xe)}Oe[0]+Oe[1]==2&&O.mode==e.JOINT_STEREO&&Ie(ke,Ne,ne.mld_cb_l,ne.ATH.cb_l,O.ATHlower*ne.ATH.adjust,O.msfix,ne.npart_l);for(var xe=0;xe<Ke;xe++){var Pe=xe&1;Oe[Pe]!=0&&q(ne,ke[xe],Ne[xe],xe)}}{for(var Fe=0;Fe<3;Fe++){for(var xe=0;xe<Ke;++xe){var Pe=xe&1;Oe[Pe]!=0?ye(ne,xe,Fe):(he=ie,be(O,N,k,xe,Fe,fe,he,Pe),g(O,fe,ke[xe],Ne[xe],xe,Fe))}Oe[0]+Oe[1]==0&&O.mode==e.JOINT_STEREO&&Ie(ke,Ne,ne.mld_cb_s,ne.ATH.cb_s,O.ATHlower*ne.ATH.adjust,O.msfix,ne.npart_s);for(var xe=0;xe<Ke;++xe){var Pe=xe&1;Oe[Pe]==0&&J(ne,ke[xe],Ne[xe],xe,Fe)}}for(var xe=0;xe<Ke;xe++){var Pe=xe&1;if(Oe[Pe]==0)for(var et=0;et<oe.SBMAX_s;et++){for(var Ot=ut(3),Fe=0;Fe<3;Fe++){var ct=ne.thm[xe].s[et][Fe];if(ct*=l,ue[xe][Fe]>=2||ue[xe][Fe+1]==1){var tt=Fe!=0?Fe-1:2,St=m(ne.thm[xe].s[et][tt],ct,f*Ee);ct=Math.min(ct,St)}else if(ue[xe][Fe]==1){var tt=Fe!=0?Fe-1:2,St=m(ne.thm[xe].s[et][tt],ct,S*Ee);ct=Math.min(ct,St)}else if(Fe!=0&&ue[xe][Fe-1]==3||Fe==0&&ne.nsPsy.lastAttacks[xe]==3){var tt=Fe!=2?Fe+1:0,St=m(ne.thm[xe].s[et][tt],ct,S*Ee);ct=Math.min(ct,St)}ct*=_e[xe][Fe],Ot[Fe]=ct}for(var Fe=0;Fe<3;Fe++)ne.thm[xe].s[et][Fe]=Ot[Fe]}}}for(var xe=0;xe<Ke;xe++)ne.nsPsy.lastAttacks[xe]=ue[xe][2];Se(O,Oe,re);for(var xe=0;xe<Ke;xe++){var Pt,Lt,Ut,Gt;xe>1?(Pt=Q,Lt=-2,Ut=oe.NORM_TYPE,(re[0]==oe.SHORT_TYPE||re[1]==oe.SHORT_TYPE)&&(Ut=oe.SHORT_TYPE),Gt=R[F][xe-2]):(Pt=Z,Lt=0,Ut=re[xe],Gt=Y[F][xe]),Ut==oe.SHORT_TYPE?Pt[Lt+xe]=j(Gt,ne.masking_lower):Pt[Lt+xe]=ae(Gt,ne.masking_lower),O.analysis&&(ne.pinfo.pe[F][xe]=Pt[Lt+xe])}return 0};function Re(O,N){var k=O,F;return k>=0?F=-k*27:F=k*N,F<=-72?0:Math.exp(F*D)}function Te(O){var N=0,k=0;{var F=0,Y,R;for(F=0;Re(F,O)>1e-20;F-=1);for(Y=F,R=0;Math.abs(R-Y)>1e-12;)F=(R+Y)/2,Re(F,O)>0?R=F:Y=F;N=Y}{var F=0,Y,R;for(F=0;Re(F,O)>1e-20;F+=1);for(Y=0,R=F;Math.abs(R-Y)>1e-12;)F=(R+Y)/2,Re(F,O)>0?Y=F:R=F;k=R}{var Z=0,Q=1e3,K;for(K=0;K<=Q;++K){var F=N+K*(k-N)/Q,re=Re(F,O);Z+=re}{var ne=(Q+1)/(Z*(k-N));return ne}}}function Ae(O){var N,k,F,Y;return N=O,N>=0?N*=3:N*=1.5,N>=.5&&N<=2.5?(Y=N-.5,k=8*(Y*Y-2*Y)):k=0,N+=.474,F=15.811389+7.5*N-17.5*Math.sqrt(1+N*N),F<=-60?0:(N=Math.exp((k+F)*D),N/=.6609193,N)}function De(O){return O<0&&(O=0),O=O*.001,13*Math.atan(.76*O)+3.5*Math.atan(O*O/(7.5*7.5))}function Me(O,N,k,F,Y,R,Z,Q,K,re,ne,se){var he=ut(oe.CBANDS+1),Be=Q/(se>15?2*576:2*192),fe=In(oe.HBLKSIZE),Ce;Q/=K;var ie=0,ke=0;for(Ce=0;Ce<oe.CBANDS;Ce++){var Ne,_e;for(Ne=De(Q*ie),he[Ce]=Q*ie,_e=ie;De(Q*_e)-Ne<v&&_e<=K/2;_e++);for(O[Ce]=_e-ie,ke=Ce+1;ie<_e;)Le(ie<oe.HBLKSIZE),fe[ie++]=Ce;if(ie>K/2){ie=K/2,++Ce;break}}Le(Ce<oe.CBANDS),he[Ce]=Q*ie;for(var Ee=0;Ee<se;Ee++){var ue,Oe,Ke,xe,Pe;Ke=re[Ee],xe=re[Ee+1],ue=0|Math.floor(.5+ne*(Ke-.5)),ue<0&&(ue=0),Oe=0|Math.floor(.5+ne*(xe-.5)),Oe>K/2&&(Oe=K/2),k[Ee]=(fe[ue]+fe[Oe])/2,N[Ee]=fe[Oe];var Fe=Be*xe;Z[Ee]=(Fe-he[N[Ee]])/(he[N[Ee]+1]-he[N[Ee]]),Z[Ee]<0?Z[Ee]=0:Z[Ee]>1&&(Z[Ee]=1),Pe=De(Q*re[Ee]*ne),Pe=Math.min(Pe,15.5)/15.5,R[Ee]=Math.pow(10,1.25*(1-Math.cos(Math.PI*Pe))-2.5)}ie=0;for(var et=0;et<ke;et++){var Ot=O[et],Ne,ct;Ne=De(Q*ie),ct=De(Q*(ie+Ot-1)),F[et]=.5*(Ne+ct),Ne=De(Q*(ie-.5)),ct=De(Q*(ie+Ot-.5)),Y[et]=ct-Ne,ie+=Ot}return ke}function we(O,N,k,F,Y,R){var Z=qt([oe.CBANDS,oe.CBANDS]),Q,K=0;if(R)for(var re=0;re<N;re++)for(Q=0;Q<N;Q++){var ne=Ae(k[re]-k[Q])*F[Q];Z[re][Q]=ne*Y[re]}else for(Q=0;Q<N;Q++)for(var se=15+Math.min(21/k[Q],12),he=Te(se),re=0;re<N;re++){var ne=he*Re(k[re]-k[Q],se)*F[Q];Z[re][Q]=ne*Y[re]}for(var re=0;re<N;re++){for(Q=0;Q<N&&!(Z[re][Q]>0);Q++);for(O[re][0]=Q,Q=N-1;Q>0&&!(Z[re][Q]>0);Q--);O[re][1]=Q,K+=O[re][1]-O[re][0]+1}for(var Be=ut(K),fe=0,re=0;re<N;re++)for(Q=O[re][0];Q<=O[re][1];Q++)Be[fe++]=Z[re][Q];return Be}function Ve(O){var N=De(O);return N=Math.min(N,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*N))-2.5)}this.psymodel_init=function(O){var N=O.internal_flags,k,F=!0,Y=13,R=24,Z=0,Q=0,K=-8.25,re=-4.5,ne=ut(oe.CBANDS),se=ut(oe.CBANDS),he=ut(oe.CBANDS),Be=O.out_samplerate;switch(O.experimentalZ){default:case 0:F=!0;break;case 1:F=!(O.VBR==Gn.vbr_mtrh||O.VBR==Gn.vbr_mt);break;case 2:F=!1;break;case 3:Y=8,Z=-1.75,Q=-.0125,K=-8.25,re=-2.25;break}for(N.ms_ener_ratio_old=.25,N.blocktype_old[0]=N.blocktype_old[1]=oe.NORM_TYPE,k=0;k<4;++k){for(var ie=0;ie<oe.CBANDS;++ie)N.nb_1[k][ie]=1e20,N.nb_2[k][ie]=1e20,N.nb_s1[k][ie]=N.nb_s2[k][ie]=1;for(var fe=0;fe<oe.SBMAX_l;fe++)N.en[k].l[fe]=1e20,N.thm[k].l[fe]=1e20;for(var ie=0;ie<3;++ie){for(var fe=0;fe<oe.SBMAX_s;fe++)N.en[k].s[fe][ie]=1e20,N.thm[k].s[fe][ie]=1e20;N.nsPsy.lastAttacks[k]=0}for(var ie=0;ie<9;ie++)N.nsPsy.last_en_subshort[k][ie]=10}for(N.loudness_sq_save[0]=N.loudness_sq_save[1]=0,N.npart_l=Me(N.numlines_l,N.bo_l,N.bm_l,ne,se,N.mld_l,N.PSY.bo_l_weight,Be,oe.BLKSIZE,N.scalefac_band.l,oe.BLKSIZE/(2*576),oe.SBMAX_l),Le(N.npart_l<oe.CBANDS),k=0;k<N.npart_l;k++){var Ce=Z;ne[k]>=Y&&(Ce=Q*(ne[k]-Y)/(R-Y)+Z*(R-ne[k])/(R-Y)),he[k]=Math.pow(10,Ce/10),N.numlines_l[k]>0?N.rnumlines_l[k]=1/N.numlines_l[k]:N.rnumlines_l[k]=0}N.s3_ll=we(N.s3ind,N.npart_l,ne,se,he,F);var ie=0;for(k=0;k<N.npart_l;k++){var ke;ke=Ji.MAX_VALUE;for(var Ne=0;Ne<N.numlines_l[k];Ne++,ie++){var _e=Be*ie/(1e3*oe.BLKSIZE),Ee;Ee=this.ATHformula(_e*1e3,O)-20,Ee=Math.pow(10,.1*Ee),Ee*=N.numlines_l[k],ke>Ee&&(ke=Ee)}N.ATH.cb_l[k]=ke,ke=-20+ne[k]*20/10,ke>6&&(ke=100),ke<-15&&(ke=-15),ke-=8,N.minval_l[k]=Math.pow(10,ke/10)*N.numlines_l[k]}for(N.npart_s=Me(N.numlines_s,N.bo_s,N.bm_s,ne,se,N.mld_s,N.PSY.bo_s_weight,Be,oe.BLKSIZE_s,N.scalefac_band.s,oe.BLKSIZE_s/(2*192),oe.SBMAX_s),Le(N.npart_s<oe.CBANDS),ie=0,k=0;k<N.npart_s;k++){var ke,Ce=K;ne[k]>=Y&&(Ce=re*(ne[k]-Y)/(R-Y)+K*(R-ne[k])/(R-Y)),he[k]=Math.pow(10,Ce/10),ke=Ji.MAX_VALUE;for(var Ne=0;Ne<N.numlines_s[k];Ne++,ie++){var _e=Be*ie/(1e3*oe.BLKSIZE_s),Ee;Ee=this.ATHformula(_e*1e3,O)-20,Ee=Math.pow(10,.1*Ee),Ee*=N.numlines_s[k],ke>Ee&&(ke=Ee)}N.ATH.cb_s[k]=ke,ke=-7+ne[k]*7/12,ne[k]>12&&(ke*=1+Math.log(1+ke)*3.1),ne[k]<12&&(ke*=1+Math.log(1-ke)*2.3),ke<-15&&(ke=-15),ke-=8,N.minval_s[k]=Math.pow(10,ke/10)*N.numlines_s[k]}N.s3_ss=we(N.s3ind_s,N.npart_s,ne,se,he,F),V(),n.init_fft(N),N.decay=Math.exp(-1*t/(C*Be/192));{var ue;ue=H,O.exp_nspsytune&2&&(ue=1),Math.abs(O.msfix)>0&&(ue=O.msfix),O.msfix=ue;for(var Oe=0;Oe<N.npart_l;Oe++)N.s3ind[Oe][1]>N.npart_l-1&&(N.s3ind[Oe][1]=N.npart_l-1)}var Ke=576*N.mode_gr/Be;if(N.ATH.decay=Math.pow(10,-12/10*Ke),N.ATH.adjust=.01,N.ATH.adjustLimit=1,Le(N.bo_l[oe.SBMAX_l-1]<=N.npart_l),Le(N.bo_s[oe.SBMAX_s-1]<=N.npart_s),O.ATHtype!=-1){var _e,xe=O.out_samplerate/oe.BLKSIZE,Pe=0;for(_e=0,k=0;k<oe.BLKSIZE/2;++k)_e+=xe,N.ATH.eql_w[k]=1/Math.pow(10,this.ATHformula(_e,O)/10),Pe+=N.ATH.eql_w[k];for(Pe=1/Pe,k=oe.BLKSIZE/2;--k>=0;)N.ATH.eql_w[k]*=Pe}{for(var Oe=ie=0;Oe<N.npart_s;++Oe)for(k=0;k<N.numlines_s[Oe];++k)++ie;for(var Oe=ie=0;Oe<N.npart_l;++Oe)for(k=0;k<N.numlines_l[Oe];++k)++ie}for(ie=0,k=0;k<N.npart_l;k++){var _e=Be*(ie+N.numlines_l[k]/2)/(1*oe.BLKSIZE);N.mld_cb_l[k]=Ve(_e),ie+=N.numlines_l[k]}for(;k<oe.CBANDS;++k)N.mld_cb_l[k]=1;for(ie=0,k=0;k<N.npart_s;k++){var _e=Be*(ie+N.numlines_s[k]/2)/(1*oe.BLKSIZE_s);N.mld_cb_s[k]=Ve(_e),ie+=N.numlines_s[k]}for(;k<oe.CBANDS;++k)N.mld_cb_s[k]=1;return 0};function Qe(O,N){O<-.3&&(O=3410),O/=1e3,O=Math.max(.1,O);var k=3.64*Math.pow(O,-.8)-6.8*Math.exp(-.6*Math.pow(O-3.4,2))+6*Math.exp(-.15*Math.pow(O-8.7,2))+(.6+.04*N)*.001*Math.pow(O,4);return k}this.ATHformula=function(O,N){var k;switch(N.ATHtype){case 0:k=Qe(O,9);break;case 1:k=Qe(O,-1);break;case 2:k=Qe(O,0);break;case 3:k=Qe(O,1)+6;break;case 4:k=Qe(O,N.ATHcurve);break;default:k=Qe(O,0);break}return k}}var pf=df,mf=Pr;function hf(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=mf.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}var bf=hf,vf=xt(),H0={};H0.SFBMAX=vf.SBMAX_s*3;var ba=H0,X0=at,gf=X0.new_float,On=X0.new_int,za=ba;function wf(){this.xr=gf(576),this.l3_enc=On(576),this.scalefac=On(za.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=On(3),this.subblock_gain=On(4),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=On(za.SFBMAX),this.window=On(za.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=On(4),this.max_nonzero_coeff=0;var e=this;function n(r){return new Int32Array(r)}function t(r){return new Float32Array(r)}this.assign=function(r){e.xr=t(r.xr),e.l3_enc=n(r.l3_enc),e.scalefac=n(r.scalefac),e.xrpow_max=r.xrpow_max,e.part2_3_length=r.part2_3_length,e.big_values=r.big_values,e.count1=r.count1,e.global_gain=r.global_gain,e.scalefac_compress=r.scalefac_compress,e.block_type=r.block_type,e.mixed_block_flag=r.mixed_block_flag,e.table_select=n(r.table_select),e.subblock_gain=n(r.subblock_gain),e.region0_count=r.region0_count,e.region1_count=r.region1_count,e.preflag=r.preflag,e.scalefac_scale=r.scalefac_scale,e.count1table_select=r.count1table_select,e.part2_length=r.part2_length,e.sfb_lmax=r.sfb_lmax,e.sfb_smin=r.sfb_smin,e.psy_lmax=r.psy_lmax,e.sfbmax=r.sfbmax,e.psymax=r.psymax,e.sfbdivide=r.sfbdivide,e.width=n(r.width),e.window=n(r.window),e.count1bits=r.count1bits,e.sfb_partition_table=r.sfb_partition_table.slice(0),e.slen=n(r.slen),e.max_nonzero_coeff=r.max_nonzero_coeff}}var As=wf,xf=at,e1=xf.new_int,yf=As;function Sf(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[e1(4),e1(4)];for(var e=0;e<2;e++)for(var n=0;n<2;n++)this.tt[e][n]=new yf}var kf=Sf,Y0=at,$r=Y0.System,Jr=Y0.new_int,ea=xt();function Af(e,n,t,r){this.l=Jr(1+ea.SBMAX_l),this.s=Jr(1+ea.SBMAX_s),this.psfb21=Jr(1+ea.PSFB21),this.psfb12=Jr(1+ea.PSFB12);var i=this.l,s=this.s;arguments.length==4&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],$r.arraycopy(this.arrL,0,i,0,Math.min(this.arrL.length,this.l.length)),$r.arraycopy(this.arrS,0,s,0,Math.min(this.arrS.length,this.s.length)),$r.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),$r.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}var U0=Af,Es=at,Ka=Es.new_float,Ef=Es.new_float_n,Rf=Es.new_int,t1=xt();function Tf(){this.last_en_subshort=Ef([4,9]),this.lastAttacks=Rf(4),this.pefirbuf=Ka(19),this.longfact=Ka(t1.SBMAX_l),this.shortfact=Ka(t1.SBMAX_s),this.attackthre=0,this.attackthre_s=0}var Mf=Tf;function Bf(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}var Cf=Bf,or=at,Df=or.new_byte,If=or.new_double,Ht=or.new_float,Pn=or.new_float_n,Wt=or.new_int,ta=or.new_int_n,Of=kf,Pf=U0,Lf=Mf,Nf=Cf,n1=V0(),it=xt(),Ff=ba;un.MFSIZE=3*1152+it.ENCDELAY-it.MDCTDELAY;un.MAX_HEADER_BUF=256;un.MAX_BITS_PER_CHANNEL=4095;un.MAX_BITS_PER_GRANULE=7680;un.BPC=320;function un(){var e=40;this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=Pn([2,un.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new Of,this.ms_ratio=Ht(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=Wt(2),this.CurrentStep=Wt(2),this.masking_lower=0,this.bv_scf=Wt(576),this.pseudohalf=Wt(Ff.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*un.BPC+1),this.itime=If(2),this.sideinfo_len=0,this.sb_sample=Pn([2,2,18,it.SBLIMIT]),this.amp_filter=Ht(32);function n(){this.write_timing=0,this.ptr=0,this.buf=Df(e)}this.header=new Array(un.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new Pf,this.minval_l=Ht(it.CBANDS),this.minval_s=Ht(it.CBANDS),this.nb_1=Pn([4,it.CBANDS]),this.nb_2=Pn([4,it.CBANDS]),this.nb_s1=Pn([4,it.CBANDS]),this.nb_s2=Pn([4,it.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=Ht(4),this.loudness_sq=Pn([2,2]),this.loudness_sq_save=Ht(2),this.mld_l=Ht(it.SBMAX_l),this.mld_s=Ht(it.SBMAX_s),this.bm_l=Wt(it.SBMAX_l),this.bo_l=Wt(it.SBMAX_l),this.bm_s=Wt(it.SBMAX_s),this.bo_s=Wt(it.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=ta([it.CBANDS,2]),this.s3ind_s=ta([it.CBANDS,2]),this.numlines_s=Wt(it.CBANDS),this.numlines_l=Wt(it.CBANDS),this.rnumlines_l=Ht(it.CBANDS),this.mld_cb_l=Ht(it.CBANDS),this.mld_cb_s=Ht(it.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=Ht(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=Wt(2),this.nsPsy=new Lf,this.VBR_seek_table=new Nf,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=ta([16,5]),this.bitrate_blockType_Hist=ta([16,6]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var t=0;t<this.en.length;t++)this.en[t]=new n1;for(var t=0;t<this.thm.length;t++)this.thm[t]=new n1;for(var t=0;t<this.header.length;t++)this.header[t]=new n}var va=un,jf=at,Ln=jf.new_float,Nn=xt();function Vf(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=Ln(Nn.SBMAX_l),this.s=Ln(Nn.SBMAX_s),this.psfb21=Ln(Nn.PSFB21),this.psfb12=Ln(Nn.PSFB12),this.cb_l=Ln(Nn.CBANDS),this.cb_s=Ln(Nn.CBANDS),this.eql_w=Ln(Nn.BLKSIZE/2)}var qf=Vf,G0=at,Rt=G0.System,r1=G0.Arrays;lt.STEPS_per_dB=100;lt.MAX_dB=120;lt.GAIN_NOT_ENOUGH_SAMPLES=-24601;lt.GAIN_ANALYSIS_ERROR=0;lt.GAIN_ANALYSIS_OK=1;lt.INIT_GAIN_ANALYSIS_ERROR=0;lt.INIT_GAIN_ANALYSIS_OK=1;lt.YULE_ORDER=10;lt.MAX_ORDER=lt.YULE_ORDER;lt.MAX_SAMP_FREQ=48e3;lt.RMS_WINDOW_TIME_NUMERATOR=1;lt.RMS_WINDOW_TIME_DENOMINATOR=20;lt.MAX_SAMPLES_PER_WINDOW=lt.MAX_SAMP_FREQ*lt.RMS_WINDOW_TIME_NUMERATOR/lt.RMS_WINDOW_TIME_DENOMINATOR+1;function lt(){var e=64.82,n=.95,t=lt.RMS_WINDOW_TIME_NUMERATOR,r=lt.RMS_WINDOW_TIME_DENOMINATOR,i=[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]],s=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function o(f,S,H,U,D,w){for(;D--!=0;)H[U]=1e-10+f[S+0]*w[0]-H[U-1]*w[1]+f[S-1]*w[2]-H[U-2]*w[3]+f[S-2]*w[4]-H[U-3]*w[5]+f[S-3]*w[6]-H[U-4]*w[7]+f[S-4]*w[8]-H[U-5]*w[9]+f[S-5]*w[10]-H[U-6]*w[11]+f[S-6]*w[12]-H[U-7]*w[13]+f[S-7]*w[14]-H[U-8]*w[15]+f[S-8]*w[16]-H[U-9]*w[17]+f[S-9]*w[18]-H[U-10]*w[19]+f[S-10]*w[20],++U,++S}function v(f,S,H,U,D,w){for(;D--!=0;)H[U]=f[S+0]*w[0]-H[U-1]*w[1]+f[S-1]*w[2]-H[U-2]*w[3]+f[S-2]*w[4],++U,++S}function c(f,S){for(var H=0;H<MAX_ORDER;H++)f.linprebuf[H]=f.lstepbuf[H]=f.loutbuf[H]=f.rinprebuf[H]=f.rstepbuf[H]=f.routbuf[H]=0;switch(0|S){case 48e3:f.reqindex=0;break;case 44100:f.reqindex=1;break;case 32e3:f.reqindex=2;break;case 24e3:f.reqindex=3;break;case 22050:f.reqindex=4;break;case 16e3:f.reqindex=5;break;case 12e3:f.reqindex=6;break;case 11025:f.reqindex=7;break;case 8e3:f.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return f.sampleWindow=0|(S*t+r-1)/r,f.lsum=0,f.rsum=0,f.totsamp=0,r1.ill(f.A,0),INIT_GAIN_ANALYSIS_OK}this.InitGainAnalysis=function(f,S){return c(f,S)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(f.linpre=MAX_ORDER,f.rinpre=MAX_ORDER,f.lstep=MAX_ORDER,f.rstep=MAX_ORDER,f.lout=MAX_ORDER,f.rout=MAX_ORDER,r1.fill(f.B,0),INIT_GAIN_ANALYSIS_OK)};function C(f){return f*f}this.AnalyzeSamples=function(f,S,H,U,D,w,p){var _,b,A,a,u,x,T;if(w==0)return GAIN_ANALYSIS_OK;switch(T=0,u=w,p){case 1:U=S,D=H;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(w<MAX_ORDER?(Rt.arraycopy(S,H,f.linprebuf,MAX_ORDER,w),Rt.arraycopy(U,D,f.rinprebuf,MAX_ORDER,w)):(Rt.arraycopy(S,H,f.linprebuf,MAX_ORDER,MAX_ORDER),Rt.arraycopy(U,D,f.rinprebuf,MAX_ORDER,MAX_ORDER));u>0;){x=u>f.sampleWindow-f.totsamp?f.sampleWindow-f.totsamp:u,T<MAX_ORDER?(_=f.linpre+T,b=f.linprebuf,A=f.rinpre+T,a=f.rinprebuf,x>MAX_ORDER-T&&(x=MAX_ORDER-T)):(_=H+T,b=S,A=D+T,a=U),o(b,_,f.lstepbuf,f.lstep+f.totsamp,x,i[f.reqindex]),o(a,A,f.rstepbuf,f.rstep+f.totsamp,x,i[f.reqindex]),v(f.lstepbuf,f.lstep+f.totsamp,f.loutbuf,f.lout+f.totsamp,x,s[f.reqindex]),v(f.rstepbuf,f.rstep+f.totsamp,f.routbuf,f.rout+f.totsamp,x,s[f.reqindex]),_=f.lout+f.totsamp,b=f.loutbuf,A=f.rout+f.totsamp,a=f.routbuf;for(var V=x%8;V--!=0;)f.lsum+=C(b[_++]),f.rsum+=C(a[A++]);for(V=x/8;V--!=0;)f.lsum+=C(b[_+0])+C(b[_+1])+C(b[_+2])+C(b[_+3])+C(b[_+4])+C(b[_+5])+C(b[_+6])+C(b[_+7]),_+=8,f.rsum+=C(a[A+0])+C(a[A+1])+C(a[A+2])+C(a[A+3])+C(a[A+4])+C(a[A+5])+C(a[A+6])+C(a[A+7]),A+=8;if(u-=x,T+=x,f.totsamp+=x,f.totsamp==f.sampleWindow){var I=lt.STEPS_per_dB*10*Math.log10((f.lsum+f.rsum)/f.totsamp*.5+1e-37),L=I<=0?0:0|I;L>=f.A.length&&(L=f.A.length-1),f.A[L]++,f.lsum=f.rsum=0,Rt.arraycopy(f.loutbuf,f.totsamp,f.loutbuf,0,MAX_ORDER),Rt.arraycopy(f.routbuf,f.totsamp,f.routbuf,0,MAX_ORDER),Rt.arraycopy(f.lstepbuf,f.totsamp,f.lstepbuf,0,MAX_ORDER),Rt.arraycopy(f.rstepbuf,f.totsamp,f.rstepbuf,0,MAX_ORDER),f.totsamp=0}if(f.totsamp>f.sampleWindow)return GAIN_ANALYSIS_ERROR}return w<MAX_ORDER?(Rt.arraycopy(f.linprebuf,w,f.linprebuf,0,MAX_ORDER-w),Rt.arraycopy(f.rinprebuf,w,f.rinprebuf,0,MAX_ORDER-w),Rt.arraycopy(S,H,f.linprebuf,MAX_ORDER-w,w),Rt.arraycopy(U,D,f.rinprebuf,MAX_ORDER-w,w)):(Rt.arraycopy(S,H+w-MAX_ORDER,f.linprebuf,0,MAX_ORDER),Rt.arraycopy(U,D+w-MAX_ORDER,f.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK};function l(f,S){var H,U=0;for(H=0;H<S;H++)U+=f[H];if(U==0)return GAIN_NOT_ENOUGH_SAMPLES;var D=0|Math.ceil(U*(1-n));for(H=S;H-- >0&&!((D-=f[H])<=0););return e-H/lt.STEPS_per_dB}this.GetTitleGain=function(f){for(var S=l(f.A,f.A.length),H=0;H<f.A.length;H++)f.B[H]+=f.A[H],f.A[H]=0;for(var H=0;H<MAX_ORDER;H++)f.linprebuf[H]=f.lstepbuf[H]=f.loutbuf[H]=f.rinprebuf[H]=f.rstepbuf[H]=f.routbuf[H]=0;return f.totsamp=0,f.lsum=f.rsum=0,S}}var Z0=lt,W0=at,Wn=W0.new_float,a1=W0.new_int,Tt=Z0;function Hf(){this.linprebuf=Wn(Tt.MAX_ORDER*2),this.linpre=0,this.lstepbuf=Wn(Tt.MAX_SAMPLES_PER_WINDOW+Tt.MAX_ORDER),this.lstep=0,this.loutbuf=Wn(Tt.MAX_SAMPLES_PER_WINDOW+Tt.MAX_ORDER),this.lout=0,this.rinprebuf=Wn(Tt.MAX_ORDER*2),this.rinpre=0,this.rstepbuf=Wn(Tt.MAX_SAMPLES_PER_WINDOW+Tt.MAX_ORDER),this.rstep=0,this.routbuf=Wn(Tt.MAX_SAMPLES_PER_WINDOW+Tt.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=a1(0|Tt.STEPS_per_dB*Tt.MAX_dB),this.B=a1(0|Tt.STEPS_per_dB*Tt.MAX_dB)}var Xf=Hf;function Yf(e){this.bits=e}var z0=Yf,Rs=at,s1=Rs.new_float,Uf=Rs.new_int,i1=Rs.assert,Gf=z0,o1=xt(),Zf=ba,Wf=va;function zf(e){var n=e;this.quantize=n,this.iteration_loop=function(t,r,i,s){var o=t.internal_flags,v=s1(Zf.SFBMAX),c=s1(576),C=Uf(2),l=0,f,S=o.l3_side,H=new Gf(l);this.quantize.rv.ResvFrameBegin(t,H),l=H.bits;for(var U=0;U<o.mode_gr;U++){f=this.quantize.qupvt.on_pe(t,r,C,l,U,U),o.mode_ext==o1.MPG_MD_MS_LR&&(this.quantize.ms_convert(o.l3_side,U),this.quantize.qupvt.reduce_side(C,i[U],l,f));for(var D=0;D<o.channels_out;D++){var w,p,_=S.tt[U][D];_.block_type!=o1.SHORT_TYPE?(w=0,p=o.PSY.mask_adjust-w):(w=0,p=o.PSY.mask_adjust_short-w),o.masking_lower=Math.pow(10,p*.1),this.quantize.init_outer_loop(o,_),this.quantize.init_xrpow(o,_,c)&&(this.quantize.qupvt.calc_xmin(t,s[U][D],_,v),this.quantize.outer_loop(t,_,v,c,D,C[D])),this.quantize.iteration_finish_one(o,U,D),i1(_.part2_3_length<=Wf.MAX_BITS_PER_CHANNEL),i1(_.part2_3_length<=C[D])}}this.quantize.rv.ResvFrameEnd(o,l)}}var Kf=zf;function Ye(e,n,t,r){this.xlen=e,this.linmax=n,this.table=t,this.hlen=r}var de={};de.t1HB=[1,1,1,0];de.t2HB=[1,2,1,3,1,1,3,2,0];de.t3HB=[3,2,1,1,1,1,3,2,0];de.t5HB=[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0];de.t6HB=[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0];de.t7HB=[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0];de.t8HB=[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0];de.t9HB=[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0];de.t10HB=[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0];de.t11HB=[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0];de.t12HB=[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0];de.t13HB=[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1];de.t15HB=[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0];de.t16HB=[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3];de.t24HB=[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3];de.t32HB=[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16];de.t33HB=[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0];de.t1l=[1,4,3,5];de.t2l=[1,4,7,4,5,7,6,7,8];de.t3l=[2,3,7,4,4,7,6,7,8];de.t5l=[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10];de.t6l=[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9];de.t7l=[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12];de.t8l=[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13];de.t9l=[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11];de.t10l=[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13];de.t11l=[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12];de.t12l=[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12];de.t13l=[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18];de.t15l=[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15];de.t16_5l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12];de.t16l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10];de.t24l=[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6];de.t32l=[1,5,5,7,5,8,7,9,5,7,7,9,7,9,9,10];de.t33l=[4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8];de.ht=[new Ye(0,0,null,null),new Ye(2,0,de.t1HB,de.t1l),new Ye(3,0,de.t2HB,de.t2l),new Ye(3,0,de.t3HB,de.t3l),new Ye(0,0,null,null),new Ye(4,0,de.t5HB,de.t5l),new Ye(4,0,de.t6HB,de.t6l),new Ye(6,0,de.t7HB,de.t7l),new Ye(6,0,de.t8HB,de.t8l),new Ye(6,0,de.t9HB,de.t9l),new Ye(8,0,de.t10HB,de.t10l),new Ye(8,0,de.t11HB,de.t11l),new Ye(8,0,de.t12HB,de.t12l),new Ye(16,0,de.t13HB,de.t13l),new Ye(0,0,null,de.t16_5l),new Ye(16,0,de.t15HB,de.t15l),new Ye(1,1,de.t16HB,de.t16l),new Ye(2,3,de.t16HB,de.t16l),new Ye(3,7,de.t16HB,de.t16l),new Ye(4,15,de.t16HB,de.t16l),new Ye(6,63,de.t16HB,de.t16l),new Ye(8,255,de.t16HB,de.t16l),new Ye(10,1023,de.t16HB,de.t16l),new Ye(13,8191,de.t16HB,de.t16l),new Ye(4,15,de.t24HB,de.t24l),new Ye(5,31,de.t24HB,de.t24l),new Ye(6,63,de.t24HB,de.t24l),new Ye(7,127,de.t24HB,de.t24l),new Ye(8,255,de.t24HB,de.t24l),new Ye(9,511,de.t24HB,de.t24l),new Ye(11,2047,de.t24HB,de.t24l),new Ye(13,8191,de.t24HB,de.t24l),new Ye(0,0,de.t32HB,de.t32l),new Ye(0,0,de.t33HB,de.t33l)];de.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366];de.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296];de.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369];de.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]];de.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]];de.scfsi_band=[0,6,11,16,21];var Ts=de,Qa,l1;function K0(){if(l1)return Qa;l1=1;var e=U0,n=at,t=n.VbrMode,r=n.Float,i=n.Util,s=n.new_float,o=n.new_int,v=n.assert,c=xt(),C=z0,l=va;f.Q_MAX=257,f.Q_MAX2=116,f.LARGE_BITS=1e5,f.IXMAX_VAL=8206;function f(){var S=Ms(),H=null,U=null,D=null;this.setModules=function(P,X,W){H=P,U=X,D=W};function w(P){return v(0<=P+f.Q_MAX2&&P<f.Q_MAX),T[P+f.Q_MAX2]}this.IPOW20=function(P){return v(0<=P&&P<f.Q_MAX),V[P]};var p=2220446049250313e-31,_=f.IXMAX_VAL,b=_+2,A=f.Q_MAX,a=f.Q_MAX2;f.LARGE_BITS;var u=100;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var x=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=x,this.sfBandIndex=[new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0/3,24/3,48/3,72/3,108/3,156/3,216/3,288/3,372/3,480/3,486/3,492/3,498/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var T=s(A+a+1),V=s(A),I=s(b),L=s(b);this.adj43=L;function te(P,X){var W=D.ATHformula(X,P);return W-=u,W=Math.pow(10,W/10+P.ATHlower),W}function M(P){for(var X=P.internal_flags.ATH.l,W=P.internal_flags.ATH.psfb21,G=P.internal_flags.ATH.s,J=P.internal_flags.ATH.psfb12,q=P.internal_flags,y=P.out_samplerate,h=0;h<c.SBMAX_l;h++){var m=q.scalefac_band.l[h],E=q.scalefac_band.l[h+1];X[h]=r.MAX_VALUE;for(var j=m;j<E;j++){var $=j*y/1152,ae=te(P,$);X[h]=Math.min(X[h],ae)}}for(var h=0;h<c.PSFB21;h++){var m=q.scalefac_band.psfb21[h],E=q.scalefac_band.psfb21[h+1];W[h]=r.MAX_VALUE;for(var j=m;j<E;j++){var $=j*y/1152,ae=te(P,$);W[h]=Math.min(W[h],ae)}}for(var h=0;h<c.SBMAX_s;h++){var m=q.scalefac_band.s[h],E=q.scalefac_band.s[h+1];G[h]=r.MAX_VALUE;for(var j=m;j<E;j++){var $=j*y/384,ae=te(P,$);G[h]=Math.min(G[h],ae)}G[h]*=q.scalefac_band.s[h+1]-q.scalefac_band.s[h]}for(var h=0;h<c.PSFB12;h++){var m=q.scalefac_band.psfb12[h],E=q.scalefac_band.psfb12[h+1];J[h]=r.MAX_VALUE;for(var j=m;j<E;j++){var $=j*y/384,ae=te(P,$);J[h]=Math.min(J[h],ae)}J[h]*=q.scalefac_band.s[13]-q.scalefac_band.s[12]}if(P.noATH){for(var h=0;h<c.SBMAX_l;h++)X[h]=1e-20;for(var h=0;h<c.PSFB21;h++)W[h]=1e-20;for(var h=0;h<c.SBMAX_s;h++)G[h]=1e-20;for(var h=0;h<c.PSFB12;h++)J[h]=1e-20}q.ATH.floor=10*Math.log10(te(P,-1))}this.iteration_init=function(P){var X=P.internal_flags,W=X.l3_side,G;if(X.iteration_init_init==0){for(X.iteration_init_init=1,W.main_data_begin=0,M(P),I[0]=0,G=1;G<b;G++)I[G]=Math.pow(G,4/3);for(G=0;G<b-1;G++)L[G]=G+1-Math.pow(.5*(I[G]+I[G+1]),.75);for(L[G]=.5,G=0;G<A;G++)V[G]=Math.pow(2,(G-210)*-.1875);for(G=0;G<=A+a;G++)T[G]=Math.pow(2,(G-210-a)*.25);H.huffman_init(X);{var J,q,y,h;for(G=P.exp_nspsytune>>2&63,G>=32&&(G-=64),J=Math.pow(10,G/4/10),G=P.exp_nspsytune>>8&63,G>=32&&(G-=64),q=Math.pow(10,G/4/10),G=P.exp_nspsytune>>14&63,G>=32&&(G-=64),y=Math.pow(10,G/4/10),G=P.exp_nspsytune>>20&63,G>=32&&(G-=64),h=y*Math.pow(10,G/4/10),G=0;G<c.SBMAX_l;G++){var m;G<=6?m=J:G<=13?m=q:G<=20?m=y:m=h,X.nsPsy.longfact[G]=m}for(G=0;G<c.SBMAX_s;G++){var m;G<=5?m=J:G<=10?m=q:G<=11?m=y:m=h,X.nsPsy.shortfact[G]=m}}}},this.on_pe=function(P,X,W,G,J,q){var y=P.internal_flags,h=0,m,E=o(2),j,$=new C(h),ae=U.ResvMaxBits(P,G,$,q);h=$.bits;var z=h+ae;for(z>l.MAX_BITS_PER_GRANULE&&(z=l.MAX_BITS_PER_GRANULE),m=0,j=0;j<y.channels_out;++j)W[j]=Math.min(l.MAX_BITS_PER_CHANNEL,h/y.channels_out),E[j]=0|W[j]*X[J][j]/700-W[j],E[j]>G*3/4&&(E[j]=G*3/4),E[j]<0&&(E[j]=0),E[j]+W[j]>l.MAX_BITS_PER_CHANNEL&&(E[j]=Math.max(0,l.MAX_BITS_PER_CHANNEL-W[j])),m+=E[j];if(m>ae)for(j=0;j<y.channels_out;++j)E[j]=ae*E[j]/m;for(j=0;j<y.channels_out;++j)W[j]+=E[j],ae-=E[j];for(m=0,j=0;j<y.channels_out;++j)m+=W[j];if(m>l.MAX_BITS_PER_GRANULE){var ee=0;for(j=0;j<y.channels_out;++j)W[j]*=l.MAX_BITS_PER_GRANULE,W[j]/=m,ee+=W[j]}return z},this.reduce_side=function(P,X,W,G){v(P[0]+P[1]<=l.MAX_BITS_PER_GRANULE);var J=.33*(.5-X)/.5;J<0&&(J=0),J>.5&&(J=.5);var q=0|J*.5*(P[0]+P[1]);q>l.MAX_BITS_PER_CHANNEL-P[0]&&(q=l.MAX_BITS_PER_CHANNEL-P[0]),q<0&&(q=0),P[1]>=125&&(P[1]-q>125?(P[0]<W&&(P[0]+=q),P[1]-=q):(P[0]+=P[1]-125,P[1]=125)),q=P[0]+P[1],q>G&&(P[0]=G*P[0]/q,P[1]=G*P[1]/q),v(P[0]<=l.MAX_BITS_PER_CHANNEL),v(P[1]<=l.MAX_BITS_PER_CHANNEL),v(P[0]+P[1]<=l.MAX_BITS_PER_GRANULE)},this.athAdjust=function(P,X,W){var G=90.30873362,J=94.82444863,q=i.FAST_LOG10_X(X,10),y=P*P,h=0;return q-=W,y>1e-20&&(h=1+i.FAST_LOG10_X(y,10/G)),h<0&&(h=0),q*=h,q+=W+G-J,Math.pow(10,.1*q)},this.calc_xmin=function(P,X,W,G){var J=0,q=P.internal_flags,y,h=0,m=0,E=q.ATH,j=W.xr,$=P.VBR==t.vbr_mtrh?1:0,ae=q.masking_lower;for((P.VBR==t.vbr_mtrh||P.VBR==t.vbr_mt)&&(ae=1),y=0;y<W.psy_lmax;y++){var z,ee,le,ce,be,ge;P.VBR==t.vbr_rh||P.VBR==t.vbr_mtrh?ee=athAdjust(E.adjust,E.l[y],E.floor):ee=E.adjust*E.l[y],be=W.width[y],le=ee/be,ce=p,ge=be>>1,z=0;do{var ve,pe;ve=j[h]*j[h],z+=ve,ce+=ve<le?ve:le,h++,pe=j[h]*j[h],z+=pe,ce+=pe<le?pe:le,h++}while(--ge>0);if(z>ee&&m++,y==c.SBPSY_l){var ye=ee*q.nsPsy.longfact[y];ce<ye&&(ce=ye)}if($!=0&&(ee=ce),!P.ATHonly){var je=X.en.l[y];if(je>0){var ye;ye=z*X.thm.l[y]*ae/je,$!=0&&(ye*=q.nsPsy.longfact[y]),ee<ye&&(ee=ye)}}$!=0?G[J++]=ee:G[J++]=ee*q.nsPsy.longfact[y]}var pt=575;if(W.block_type!=c.SHORT_TYPE)for(var g=576;g--!=0&&S.EQ(j[g],0);)pt=g;W.max_nonzero_coeff=pt;for(var B=W.sfb_smin;y<W.psymax;B++,y+=3){var be,me,Se;for(P.VBR==t.vbr_rh||P.VBR==t.vbr_mtrh?Se=athAdjust(E.adjust,E.s[B],E.floor):Se=E.adjust*E.s[B],be=W.width[y],me=0;me<3;me++){var z=0,ee,le,ce,ge=be>>1;le=Se/be,ce=p;do{var ve,pe;ve=j[h]*j[h],z+=ve,ce+=ve<le?ve:le,h++,pe=j[h]*j[h],z+=pe,ce+=pe<le?pe:le,h++}while(--ge>0);if(z>Se&&m++,B==c.SBPSY_s){var ye=Se*q.nsPsy.shortfact[B];ce<ye&&(ce=ye)}if($!=0?ee=ce:ee=Se,!P.ATHonly&&!P.ATHshort){var je=X.en.s[B][me];if(je>0){var ye;ye=z*X.thm.s[B][me]*ae/je,$!=0&&(ye*=q.nsPsy.shortfact[B]),ee<ye&&(ee=ye)}}$!=0?G[J++]=ee:G[J++]=ee*q.nsPsy.shortfact[B]}P.useTemporal&&(G[J-3]>G[J-3+1]&&(G[J-3+1]+=(G[J-3]-G[J-3+1])*q.decay),G[J-3+1]>G[J-3+2]&&(G[J-3+2]+=(G[J-3+1]-G[J-3+2])*q.decay))}return m};function d(P){this.s=P}this.calc_noise_core=function(P,X,W,G){var J=0,q=X.s,y=P.l3_enc;if(q>P.count1)for(;W--!=0;){var h;h=P.xr[q],q++,J+=h*h,h=P.xr[q],q++,J+=h*h}else if(q>P.big_values){var m=s(2);for(m[0]=0,m[1]=G;W--!=0;){var h;h=Math.abs(P.xr[q])-m[y[q]],q++,J+=h*h,h=Math.abs(P.xr[q])-m[y[q]],q++,J+=h*h}}else for(;W--!=0;){var h;h=Math.abs(P.xr[q])-I[y[q]]*G,q++,J+=h*h,h=Math.abs(P.xr[q])-I[y[q]]*G,q++,J+=h*h}return X.s=q,J},this.calc_noise=function(P,X,W,G,J){var q=0,y=0,h,m,E=0,j=0,$=0,ae=-20,z=0,ee=P.scalefac,le=0;for(G.over_SSD=0,h=0;h<P.psymax;h++){var ce=P.global_gain-(ee[le++]+(P.preflag!=0?x[h]:0)<<P.scalefac_scale+1)-P.subblock_gain[P.window[h]]*8,be=0;if(J!=null&&J.step[h]==ce)be=J.noise[h],z+=P.width[h],W[q++]=be/X[y++],be=J.noise_log[h];else{var ge=w(ce);if(m=P.width[h]>>1,z+P.width[h]>P.max_nonzero_coeff){var ve;ve=P.max_nonzero_coeff-z+1,ve>0?m=ve>>1:m=0}var pe=new d(z);be=this.calc_noise_core(P,pe,m,ge),z=pe.s,J!=null&&(J.step[h]=ce,J.noise[h]=be),be=W[q++]=be/X[y++],be=i.FAST_LOG10(Math.max(be,1e-20)),J!=null&&(J.noise_log[h]=be)}if(J!=null&&(J.global_gain=P.global_gain),$+=be,be>0){var ye;ye=Math.max(0|be*10+.5,1),G.over_SSD+=ye*ye,E++,j+=be}ae=Math.max(ae,be)}return G.over_count=E,G.tot_noise=$,G.over_noise=j,G.max_noise=ae,E},this.set_pinfo=function(P,X,W,G,J){var q=P.internal_flags,y,h,m,E,j,$=X.scalefac_scale==0?.5:1,ae=X.scalefac,z=s(L3Side.SFBMAX),ee=s(L3Side.SFBMAX),le=new CalcNoiseResult;calc_xmin(P,W,X,z),calc_noise(X,z,ee,le,null);var ce=0;for(h=X.sfb_lmax,X.block_type!=c.SHORT_TYPE&&X.mixed_block_flag==0&&(h=22),y=0;y<h;y++){var be=q.scalefac_band.l[y],ge=q.scalefac_band.l[y+1],ve=ge-be;for(E=0;ce<ge;ce++)E+=X.xr[ce]*X.xr[ce];E/=ve,j=1e15,q.pinfo.en[G][J][y]=j*E,q.pinfo.xfsf[G][J][y]=j*z[y]*ee[y]/ve,W.en.l[y]>0&&!P.ATHonly?E=E/W.en.l[y]:E=0,q.pinfo.thr[G][J][y]=j*Math.max(E*W.thm.l[y],q.ATH.l[y]),q.pinfo.LAMEsfb[G][J][y]=0,X.preflag!=0&&y>=11&&(q.pinfo.LAMEsfb[G][J][y]=-$*x[y]),y<c.SBPSY_l&&(v(ae[y]>=0),q.pinfo.LAMEsfb[G][J][y]-=$*ae[y])}if(X.block_type==c.SHORT_TYPE)for(h=y,y=X.sfb_smin;y<c.SBMAX_s;y++)for(var be=q.scalefac_band.s[y],ge=q.scalefac_band.s[y+1],ve=ge-be,pe=0;pe<3;pe++){for(E=0,m=be;m<ge;m++)E+=X.xr[ce]*X.xr[ce],ce++;E=Math.max(E/ve,1e-20),j=1e15,q.pinfo.en_s[G][J][3*y+pe]=j*E,q.pinfo.xfsf_s[G][J][3*y+pe]=j*z[h]*ee[h]/ve,W.en.s[y][pe]>0?E=E/W.en.s[y][pe]:E=0,(P.ATHonly||P.ATHshort)&&(E=0),q.pinfo.thr_s[G][J][3*y+pe]=j*Math.max(E*W.thm.s[y][pe],q.ATH.s[y]),q.pinfo.LAMEsfb_s[G][J][3*y+pe]=-2*X.subblock_gain[pe],y<c.SBPSY_s&&(q.pinfo.LAMEsfb_s[G][J][3*y+pe]-=$*ae[h]),h++}q.pinfo.LAMEqss[G][J]=X.global_gain,q.pinfo.LAMEmainbits[G][J]=X.part2_3_length+X.part2_length,q.pinfo.LAMEsfbits[G][J]=X.part2_length,q.pinfo.over[G][J]=le.over_count,q.pinfo.max_noise[G][J]=le.max_noise*10,q.pinfo.over_noise[G][J]=le.over_noise*10,q.pinfo.tot_noise[G][J]=le.tot_noise*10,q.pinfo.over_SSD[G][J]=le.over_SSD}}return Qa=f,Qa}var $a,c1;function Q0(){if(c1)return $a;c1=1;var e=at,n=e.System,t=e.Arrays,r=e.new_int,i=e.assert,s=xt(),o=Ts,v=As,c=K0();function C(){var l=null;this.qupvt=null,this.setModules=function(q){this.qupvt=q,l=q};function f(q){this.bits=0|q}var S=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function H(q,y,h,m,E,j){var $=.5946/y;for(q=q>>1;q--!=0;)E[j++]=$>h[m++]?0:1,E[j++]=$>h[m++]?0:1}function U(q,y,h,m,E,j){q=q>>1;var $=q%2;for(q=q>>1;q--!=0;){var ae,z,ee,le,ce,be,ge,ve;ae=h[m++]*y,z=h[m++]*y,ce=0|ae,ee=h[m++]*y,be=0|z,le=h[m++]*y,ge=0|ee,ae+=l.adj43[ce],ve=0|le,z+=l.adj43[be],E[j++]=0|ae,ee+=l.adj43[ge],E[j++]=0|z,le+=l.adj43[ve],E[j++]=0|ee,E[j++]=0|le}if($!=0){var ae,z,ce,be;ae=h[m++]*y,z=h[m++]*y,ce=0|ae,be=0|z,ae+=l.adj43[ce],z+=l.adj43[be],E[j++]=0|ae,E[j++]=0|z}}function D(q,y,h,m,E){var j,$,ae=0,z,ee=0,le=0,ce=0,be=y,ge=0,ve=be,pe=0,ye=q,je=0;for(z=E!=null&&m.global_gain==E.global_gain,m.block_type==s.SHORT_TYPE?$=38:$=21,j=0;j<=$;j++){var pt=-1;if((z||m.block_type==s.NORM_TYPE)&&(pt=m.global_gain-(m.scalefac[j]+(m.preflag!=0?l.pretab[j]:0)<<m.scalefac_scale+1)-m.subblock_gain[m.window[j]]*8),i(m.width[j]>=0),z&&E.step[j]==pt)ee!=0&&(U(ee,h,ye,je,ve,pe),ee=0),le!=0&&(H(le,h,ye,je,ve,pe),le=0);else{var g=m.width[j];if(ae+m.width[j]>m.max_nonzero_coeff){var B;B=m.max_nonzero_coeff-ae+1,t.fill(y,m.max_nonzero_coeff,576,0),g=B,g<0&&(g=0),j=$+1}if(ee==0&&le==0&&(ve=be,pe=ge,ye=q,je=ce),E!=null&&E.sfb_count1>0&&j>=E.sfb_count1&&E.step[j]>0&&pt>=E.step[j]?(ee!=0&&(U(ee,h,ye,je,ve,pe),ee=0,ve=be,pe=ge,ye=q,je=ce),le+=g):(le!=0&&(H(le,h,ye,je,ve,pe),le=0,ve=be,pe=ge,ye=q,je=ce),ee+=g),g<=0){le!=0&&(H(le,h,ye,je,ve,pe),le=0),ee!=0&&(U(ee,h,ye,je,ve,pe),ee=0);break}}j<=$&&(ge+=m.width[j],ce+=m.width[j],ae+=m.width[j])}ee!=0&&(U(ee,h,ye,je,ve,pe),ee=0),le!=0&&(H(le,h,ye,je,ve,pe),le=0)}function w(q,y,h){var m=0,E=0;do{var j=q[y++],$=q[y++];m<j&&(m=j),E<$&&(E=$)}while(y<h);return m<E&&(m=E),m}function p(q,y,h,m,E,j){var $=o.ht[m].xlen*65536+o.ht[E].xlen,ae=0,z;do{var ee=q[y++],le=q[y++];ee!=0&&(ee>14&&(ee=15,ae+=$),ee*=16),le!=0&&(le>14&&(le=15,ae+=$),ee+=le),ae+=o.largetbl[ee]}while(y<h);return z=ae&65535,ae>>=16,ae>z&&(ae=z,m=E),j.bits+=ae,m}function _(q,y,h,m){var E=0,j=o.ht[1].hlen;do{var $=q[y+0]*2+q[y+1];y+=2,E+=j[$]}while(y<h);return m.bits+=E,1}function b(q,y,h,m,E){var j=0,$,ae=o.ht[m].xlen,z;m==2?z=o.table23:z=o.table56;do{var ee=q[y+0]*ae+q[y+1];y+=2,j+=z[ee]}while(y<h);return $=j&65535,j>>=16,j>$&&(j=$,m++),E.bits+=j,m}function A(q,y,h,m,E){var j=0,$=0,ae=0,z=o.ht[m].xlen,ee=o.ht[m].hlen,le=o.ht[m+1].hlen,ce=o.ht[m+2].hlen;do{var be=q[y+0]*z+q[y+1];y+=2,j+=ee[be],$+=le[be],ae+=ce[be]}while(y<h);var ge=m;return j>$&&(j=$,ge++),j>ae&&(j=ae,ge=m+2),E.bits+=j,ge}var a=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function u(q,y,h,m){var E=w(q,y,h);switch(E){case 0:return E;case 1:return _(q,y,h,m);case 2:case 3:return b(q,y,h,a[E-1],m);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return A(q,y,h,a[E-1],m);default:if(E>c.IXMAX_VAL)return m.bits=c.LARGE_BITS,-1;E-=15;var j;for(j=24;j<32&&!(o.ht[j].linmax>=E);j++);var $;for($=j-8;$<24&&!(o.ht[$].linmax>=E);$++);return p(q,y,h,$,j,m)}}this.noquant_count_bits=function(q,y,h){var m=y.l3_enc,E=Math.min(576,y.max_nonzero_coeff+2>>1<<1);for(h!=null&&(h.sfb_count1=0);E>1&&!(m[E-1]|m[E-2]);E-=2);y.count1=E;for(var j=0,$=0;E>3;E-=4){var ae;if(((m[E-1]|m[E-2]|m[E-3]|m[E-4])&2147483647)>1)break;ae=((m[E-4]*2+m[E-3])*2+m[E-2])*2+m[E-1],j+=o.t32l[ae],$+=o.t33l[ae]}var z=j;if(y.count1table_select=0,j>$&&(z=$,y.count1table_select=1),y.count1bits=z,y.big_values=E,E==0)return z;if(y.block_type==s.SHORT_TYPE)j=3*q.scalefac_band.s[3],j>y.big_values&&(j=y.big_values),$=y.big_values;else if(y.block_type==s.NORM_TYPE){if(j=y.region0_count=q.bv_scf[E-2],$=y.region1_count=q.bv_scf[E-1],i(j+$+2<s.SBPSY_l),$=q.scalefac_band.l[j+$+2],j=q.scalefac_band.l[j+1],$<E){var ee=new f(z);y.table_select[2]=u(m,$,E,ee),z=ee.bits}}else y.region0_count=7,y.region1_count=s.SBMAX_l-1-7-1,j=q.scalefac_band.l[8],$=E,j>$&&(j=$);if(j=Math.min(j,E),$=Math.min($,E),0<j){var ee=new f(z);y.table_select[0]=u(m,0,j,ee),z=ee.bits}if(j<$){var ee=new f(z);y.table_select[1]=u(m,j,$,ee),z=ee.bits}if(q.use_best_huffman==2&&(y.part2_3_length=z,best_huffman_divide(q,y),z=y.part2_3_length),h!=null&&y.block_type==s.NORM_TYPE){for(var le=0;q.scalefac_band.l[le]<y.big_values;)le++;h.sfb_count1=le}return z},this.count_bits=function(q,y,h,m){var E=h.l3_enc,j=c.IXMAX_VAL/l.IPOW20(h.global_gain);if(h.xrpow_max>j)return c.LARGE_BITS;if(D(y,E,l.IPOW20(h.global_gain),h,m),q.substep_shaping&2)for(var $=0,ae=h.global_gain+h.scalefac_scale,z=.634521682242439/l.IPOW20(ae),ee=0;ee<h.sfbmax;ee++){var le=h.width[ee];if(q.pseudohalf[ee]==0)$+=le;else{var ce;for(ce=$,$+=le;ce<$;++ce)E[ce]=y[ce]>=z?E[ce]:0}}return this.noquant_count_bits(q,h,m)};function x(q,y,h,m,E,j,$){for(var ae=y.big_values,z=0;z<=22;z++)m[z]=c.LARGE_BITS;for(var z=0;z<16;z++){var ee=q.scalefac_band.l[z+1];if(ee>=ae)break;var le=0,ce=new f(le),be=u(h,0,ee,ce);le=ce.bits;for(var ge=0;ge<8;ge++){var ve=q.scalefac_band.l[z+ge+2];if(ve>=ae)break;var pe=le;ce=new f(pe);var ye=u(h,ee,ve,ce);pe=ce.bits,m[z+ge]>pe&&(m[z+ge]=pe,E[z+ge]=z,j[z+ge]=be,$[z+ge]=ye)}}}function T(q,y,h,m,E,j,$,ae){for(var z=y.big_values,ee=2;ee<s.SBMAX_l+1;ee++){var le=q.scalefac_band.l[ee];if(le>=z)break;var ce=E[ee-2]+y.count1bits;if(h.part2_3_length<=ce)break;var be=new f(ce),ge=u(m,le,z,be);ce=be.bits,!(h.part2_3_length<=ce)&&(h.assign(y),h.part2_3_length=ce,h.region0_count=j[ee-2],h.region1_count=ee-2-j[ee-2],h.table_select[0]=$[ee-2],h.table_select[1]=ae[ee-2],h.table_select[2]=ge)}}this.best_huffman_divide=function(q,y){var h=new v,m=y.l3_enc,E=r(23),j=r(23),$=r(23),ae=r(23);if(!(y.block_type==s.SHORT_TYPE&&q.mode_gr==1)){h.assign(y),y.block_type==s.NORM_TYPE&&(x(q,y,m,E,j,$,ae),T(q,h,y,m,E,j,$,ae));var z=h.big_values;if(!(z==0||(m[z-2]|m[z-1])>1)&&(z=y.count1+2,!(z>576))){h.assign(y),h.count1=z;for(var ee=0,le=0;z>h.big_values;z-=4){var ce=((m[z-4]*2+m[z-3])*2+m[z-2])*2+m[z-1];ee+=o.t32l[ce],le+=o.t33l[ce]}if(h.big_values=z,h.count1table_select=0,ee>le&&(ee=le,h.count1table_select=1),h.count1bits=ee,h.block_type==s.NORM_TYPE)T(q,h,y,m,E,j,$,ae);else{if(h.part2_3_length=ee,ee=q.scalefac_band.l[8],ee>z&&(ee=z),ee>0){var be=new f(h.part2_3_length);h.table_select[0]=u(m,0,ee,be),h.part2_3_length=be.bits}if(z>ee){var be=new f(h.part2_3_length);h.table_select[1]=u(m,ee,z,be),h.part2_3_length=be.bits}y.part2_3_length>h.part2_3_length&&y.assign(h)}}}};var V=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],I=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],L=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],te=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];C.slen1_tab=L,C.slen2_tab=te;function M(q,y){for(var h,m=y.tt[1][q],E=y.tt[0][q],j=0;j<o.scfsi_band.length-1;j++){for(h=o.scfsi_band[j];h<o.scfsi_band[j+1]&&!(E.scalefac[h]!=m.scalefac[h]&&m.scalefac[h]>=0);h++);if(h==o.scfsi_band[j+1]){for(h=o.scfsi_band[j];h<o.scfsi_band[j+1];h++)m.scalefac[h]=-1;y.scfsi[q][j]=1}}var $=0,ae=0;for(h=0;h<11;h++)m.scalefac[h]!=-1&&(ae++,$<m.scalefac[h]&&($=m.scalefac[h]));for(var z=0,ee=0;h<s.SBPSY_l;h++)m.scalefac[h]!=-1&&(ee++,z<m.scalefac[h]&&(z=m.scalefac[h]));for(var j=0;j<16;j++)if($<V[j]&&z<I[j]){var le=L[j]*ae+te[j]*ee;m.part2_length>le&&(m.part2_length=le,m.scalefac_compress=j)}}this.best_scalefac_store=function(q,y,h,m){var E=m.tt[y][h],j,$,ae,z,ee=0;for(ae=0,j=0;j<E.sfbmax;j++){var le=E.width[j];for(ae+=le,z=-le;z<0&&E.l3_enc[z+ae]==0;z++);z==0&&(E.scalefac[j]=ee=-2)}if(E.scalefac_scale==0&&E.preflag==0){var ce=0;for(j=0;j<E.sfbmax;j++)E.scalefac[j]>0&&(ce|=E.scalefac[j]);if(!(ce&1)&&ce!=0){for(j=0;j<E.sfbmax;j++)E.scalefac[j]>0&&(E.scalefac[j]>>=1);E.scalefac_scale=ee=1}}if(E.preflag==0&&E.block_type!=s.SHORT_TYPE&&q.mode_gr==2){for(j=11;j<s.SBPSY_l&&!(E.scalefac[j]<l.pretab[j]&&E.scalefac[j]!=-2);j++);if(j==s.SBPSY_l){for(j=11;j<s.SBPSY_l;j++)E.scalefac[j]>0&&(E.scalefac[j]-=l.pretab[j]);E.preflag=ee=1}}for($=0;$<4;$++)m.scfsi[h][$]=0;for(q.mode_gr==2&&y==1&&m.tt[0][h].block_type!=s.SHORT_TYPE&&m.tt[1][h].block_type!=s.SHORT_TYPE&&(M(h,m),ee=0),j=0;j<E.sfbmax;j++)E.scalefac[j]==-2&&(E.scalefac[j]=0);ee!=0&&(q.mode_gr==2?this.scale_bitcount(E):this.scale_bitcount_lsf(q,E))};function d(q,y){for(var h=0;h<y;++h)if(q[h]<0)return!1;return!0}var P=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],X=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],W=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(q){var y,h,m=0,E=0,j,$=q.scalefac;if(i(d($,q.sfbmax)),q.block_type==s.SHORT_TYPE)j=P,q.mixed_block_flag!=0&&(j=X);else if(j=W,q.preflag==0){for(h=11;h<s.SBPSY_l&&!($[h]<l.pretab[h]);h++);if(h==s.SBPSY_l)for(q.preflag=1,h=11;h<s.SBPSY_l;h++)$[h]-=l.pretab[h]}for(h=0;h<q.sfbdivide;h++)m<$[h]&&(m=$[h]);for(;h<q.sfbmax;h++)E<$[h]&&(E=$[h]);for(q.part2_length=c.LARGE_BITS,y=0;y<16;y++)m<V[y]&&E<I[y]&&q.part2_length>j[y]&&(q.part2_length=j[y],q.scalefac_compress=y);return q.part2_length==c.LARGE_BITS};var G=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(q,y){var h,m,E,j,$,ae,z,ee,le=r(4),ce=y.scalefac;for(y.preflag!=0?h=2:h=0,z=0;z<4;z++)le[z]=0;if(y.block_type==s.SHORT_TYPE){m=1;var be=l.nr_of_sfb_block[h][m];for(ee=0,E=0;E<4;E++)for(j=be[E]/3,z=0;z<j;z++,ee++)for($=0;$<3;$++)ce[ee*3+$]>le[E]&&(le[E]=ce[ee*3+$])}else{m=0;var be=l.nr_of_sfb_block[h][m];for(ee=0,E=0;E<4;E++)for(j=be[E],z=0;z<j;z++,ee++)ce[ee]>le[E]&&(le[E]=ce[ee])}for(ae=!1,E=0;E<4;E++)le[E]>G[h][E]&&(ae=!0);if(!ae){var ge,ve,pe,ye;for(y.sfb_partition_table=l.nr_of_sfb_block[h][m],E=0;E<4;E++)y.slen[E]=J[le[E]];switch(ge=y.slen[0],ve=y.slen[1],pe=y.slen[2],ye=y.slen[3],h){case 0:y.scalefac_compress=(ge*5+ve<<4)+(pe<<2)+ye;break;case 1:y.scalefac_compress=400+(ge*5+ve<<2)+pe;break;case 2:y.scalefac_compress=500+ge*3+ve;break;default:n.err.printf(`intensity stereo not implemented yet
`);break}}if(!ae)for(i(y.sfb_partition_table!=null),y.part2_length=0,E=0;E<4;E++)y.part2_length+=y.slen[E]*y.sfb_partition_table[E];return ae};var J=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(q){for(var y=2;y<=576;y+=2){for(var h=0,m;q.scalefac_band.l[++h]<y;);for(m=S[h][0];q.scalefac_band.l[m+1]>y;)m--;for(m<0&&(m=S[h][0]),q.bv_scf[y-2]=m,m=S[h][1];q.scalefac_band.l[m+q.bv_scf[y-2]+2]>y;)m--;m<0&&(m=S[h][1]),q.bv_scf[y-1]=m}}}return $a=C,$a}var Ja,f1;function Ms(){if(f1)return Ja;f1=1;var e=at,n=e.System,t=e.Arrays,r=e.new_byte,i=e.new_float_n,s=e.new_int,o=e.assert,v=Q0(),c=Ts,C=xt(),l=va;f.EQ=function(S,H){return Math.abs(S)>Math.abs(H)?Math.abs(S-H)<=Math.abs(S)*1e-6:Math.abs(S-H)<=Math.abs(H)*1e-6},f.NEQ=function(S,H){return!f.EQ(S,H)};function f(){var S=Bs(),H=this,U=32773,D=null,w=null,p=null,_=null;this.setModules=function(y,h,m,E){D=y,w=h,p=m,_=E};var b=null,A=0,a=0,u=0;this.getframebits=function(y){var h=y.internal_flags,m;h.bitrate_index!=0?m=c.bitrate_table[y.version][h.bitrate_index]:m=y.brate;var E=0|(y.version+1)*72e3*m/y.out_samplerate+h.padding;return 8*E};function x(y){n.arraycopy(y.header[y.w_ptr].buf,0,b,a,y.sideinfo_len),a+=y.sideinfo_len,A+=y.sideinfo_len*8,y.w_ptr=y.w_ptr+1&l.MAX_HEADER_BUF-1}function T(y,h,m){for(;m>0;){var E;u==0&&(u=8,a++,o(a<S.LAME_MAXMP3BUFFER),o(y.header[y.w_ptr].write_timing>=A),y.header[y.w_ptr].write_timing==A&&x(y),b[a]=0),E=Math.min(m,u),m-=E,u-=E,b[a]|=h>>m<<u,A+=E}}function V(y,h,m){for(;m>0;){var E;u==0&&(u=8,a++,o(a<S.LAME_MAXMP3BUFFER),b[a]=0),E=Math.min(m,u),m-=E,u-=E,b[a]|=h>>m<<u,A+=E}}function I(y,h){var m=y.internal_flags,E;if(h>=8&&(T(m,76,8),h-=8),h>=8&&(T(m,65,8),h-=8),h>=8&&(T(m,77,8),h-=8),h>=8&&(T(m,69,8),h-=8),h>=32){var j=p.getLameShortVersion();if(h>=32)for(E=0;E<j.length&&h>=8;++E)h-=8,T(m,j.charAt(E),8)}for(;h>=1;h-=1)T(m,m.ancillary_flag,1),m.ancillary_flag^=y.disable_reservoir?0:1}function L(y,h,m){for(var E=y.header[y.h_ptr].ptr;m>0;){var j=Math.min(m,8-(E&7));m-=j,y.header[y.h_ptr].buf[E>>3]|=h>>m<<8-(E&7)-j,E+=j}y.header[y.h_ptr].ptr=E}function te(y,h){y<<=8;for(var m=0;m<8;m++)y<<=1,h<<=1,(h^y)&65536&&(h^=U);return h}this.CRC_writeheader=function(y,h){var m=65535;m=te(h[2]&255,m),m=te(h[3]&255,m);for(var E=6;E<y.sideinfo_len;E++)m=te(h[E]&255,m);h[4]=byte(m>>8),h[5]=byte(m&255)};function M(y,h){var m=y.internal_flags,E,j,$;if(E=m.l3_side,m.header[m.h_ptr].ptr=0,t.fill(m.header[m.h_ptr].buf,0,m.sideinfo_len,0),y.out_samplerate<16e3?L(m,4094,12):L(m,4095,12),L(m,y.version,1),L(m,1,2),L(m,y.error_protection?0:1,1),L(m,m.bitrate_index,4),L(m,m.samplerate_index,2),L(m,m.padding,1),L(m,y.extension,1),L(m,y.mode.ordinal(),2),L(m,m.mode_ext,2),L(m,y.copyright,1),L(m,y.original,1),L(m,y.emphasis,2),y.error_protection&&L(m,0,16),y.version==1){for(o(E.main_data_begin>=0),L(m,E.main_data_begin,9),m.channels_out==2?L(m,E.private_bits,3):L(m,E.private_bits,5),$=0;$<m.channels_out;$++){var ae;for(ae=0;ae<4;ae++)L(m,E.scfsi[$][ae],1)}for(j=0;j<2;j++)for($=0;$<m.channels_out;$++){var z=E.tt[j][$];L(m,z.part2_3_length+z.part2_length,12),L(m,z.big_values/2,9),L(m,z.global_gain,8),L(m,z.scalefac_compress,4),z.block_type!=C.NORM_TYPE?(L(m,1,1),L(m,z.block_type,2),L(m,z.mixed_block_flag,1),z.table_select[0]==14&&(z.table_select[0]=16),L(m,z.table_select[0],5),z.table_select[1]==14&&(z.table_select[1]=16),L(m,z.table_select[1],5),L(m,z.subblock_gain[0],3),L(m,z.subblock_gain[1],3),L(m,z.subblock_gain[2],3)):(L(m,0,1),z.table_select[0]==14&&(z.table_select[0]=16),L(m,z.table_select[0],5),z.table_select[1]==14&&(z.table_select[1]=16),L(m,z.table_select[1],5),z.table_select[2]==14&&(z.table_select[2]=16),L(m,z.table_select[2],5),o(0<=z.region0_count&&z.region0_count<16),o(0<=z.region1_count&&z.region1_count<8),L(m,z.region0_count,4),L(m,z.region1_count,3)),L(m,z.preflag,1),L(m,z.scalefac_scale,1),L(m,z.count1table_select,1)}}else for(o(E.main_data_begin>=0),L(m,E.main_data_begin,8),L(m,E.private_bits,m.channels_out),j=0,$=0;$<m.channels_out;$++){var z=E.tt[j][$];L(m,z.part2_3_length+z.part2_length,12),L(m,z.big_values/2,9),L(m,z.global_gain,8),L(m,z.scalefac_compress,9),z.block_type!=C.NORM_TYPE?(L(m,1,1),L(m,z.block_type,2),L(m,z.mixed_block_flag,1),z.table_select[0]==14&&(z.table_select[0]=16),L(m,z.table_select[0],5),z.table_select[1]==14&&(z.table_select[1]=16),L(m,z.table_select[1],5),L(m,z.subblock_gain[0],3),L(m,z.subblock_gain[1],3),L(m,z.subblock_gain[2],3)):(L(m,0,1),z.table_select[0]==14&&(z.table_select[0]=16),L(m,z.table_select[0],5),z.table_select[1]==14&&(z.table_select[1]=16),L(m,z.table_select[1],5),z.table_select[2]==14&&(z.table_select[2]=16),L(m,z.table_select[2],5),o(0<=z.region0_count&&z.region0_count<16),o(0<=z.region1_count&&z.region1_count<8),L(m,z.region0_count,4),L(m,z.region1_count,3)),L(m,z.scalefac_scale,1),L(m,z.count1table_select,1)}y.error_protection&&CRC_writeheader(m,m.header[m.h_ptr].buf);{var ee=m.h_ptr;o(m.header[ee].ptr==m.sideinfo_len*8),m.h_ptr=ee+1&l.MAX_HEADER_BUF-1,m.header[m.h_ptr].write_timing=m.header[ee].write_timing+h,m.h_ptr==m.w_ptr&&n.err.println(`Error: MAX_HEADER_BUF too small in bitstream.c 
`)}}function d(y,h){var m=c.ht[h.count1table_select+32],E,j=0,$=h.big_values,ae=h.big_values;for(o(h.count1table_select<2),E=(h.count1-h.big_values)/4;E>0;--E){var z=0,ee=0,le;le=h.l3_enc[$+0],le!=0&&(ee+=8,h.xr[ae+0]<0&&z++),le=h.l3_enc[$+1],le!=0&&(ee+=4,z*=2,h.xr[ae+1]<0&&z++),le=h.l3_enc[$+2],le!=0&&(ee+=2,z*=2,h.xr[ae+2]<0&&z++),le=h.l3_enc[$+3],le!=0&&(ee++,z*=2,h.xr[ae+3]<0&&z++),$+=4,ae+=4,T(y,z+m.table[ee],m.hlen[ee]),j+=m.hlen[ee]}return j}function P(y,h,m,E,j){var $=c.ht[h],ae=0;if(h==0)return ae;for(var z=m;z<E;z+=2){var ee=0,le=0,ce=$.xlen,be=$.xlen,ge=0,ve=j.l3_enc[z],pe=j.l3_enc[z+1];if(ve!=0&&(j.xr[z]<0&&ge++,ee--),h>15){if(ve>14){var ye=ve-15;o(ye<=$.linmax),ge|=ye<<1,le=ce,ve=15}if(pe>14){var je=pe-15;o(je<=$.linmax),ge<<=ce,ge|=je,le+=ce,pe=15}be=16}pe!=0&&(ge<<=1,j.xr[z+1]<0&&ge++,ee--),ve=ve*be+pe,le-=ee,ee+=$.hlen[ve],T(y,$.table[ve],ee),T(y,ge,le),ae+=ee+le}return ae}function X(y,h){var m=3*y.scalefac_band.s[3];m>h.big_values&&(m=h.big_values);var E=P(y,h.table_select[0],0,m,h);return E+=P(y,h.table_select[1],m,h.big_values,h),E}function W(y,h){var m,E,j,$;m=h.big_values;var ae=h.region0_count+1;return o(ae<y.scalefac_band.l.length),j=y.scalefac_band.l[ae],ae+=h.region1_count+1,o(ae<y.scalefac_band.l.length),$=y.scalefac_band.l[ae],j>m&&(j=m),$>m&&($=m),E=P(y,h.table_select[0],0,j,h),E+=P(y,h.table_select[1],j,$,h),E+=P(y,h.table_select[2],$,m,h),E}function G(y){var h,m,E,j,$=0,ae=y.internal_flags,z=ae.l3_side;if(y.version==1)for(h=0;h<2;h++)for(m=0;m<ae.channels_out;m++){var ee=z.tt[h][m],le=v.slen1_tab[ee.scalefac_compress],ce=v.slen2_tab[ee.scalefac_compress];for(j=0,E=0;E<ee.sfbdivide;E++)ee.scalefac[E]!=-1&&(T(ae,ee.scalefac[E],le),j+=le);for(;E<ee.sfbmax;E++)ee.scalefac[E]!=-1&&(T(ae,ee.scalefac[E],ce),j+=ce);o(j==ee.part2_length),ee.block_type==C.SHORT_TYPE?j+=X(ae,ee):j+=W(ae,ee),j+=d(ae,ee),o(j==ee.part2_3_length+ee.part2_length),$+=j}else for(h=0,m=0;m<ae.channels_out;m++){var ee=z.tt[h][m],be,ge,ve=0;if(o(ee.sfb_partition_table!=null),j=0,E=0,ge=0,ee.block_type==C.SHORT_TYPE){for(;ge<4;ge++){var pe=ee.sfb_partition_table[ge]/3,ye=ee.slen[ge];for(be=0;be<pe;be++,E++)T(ae,Math.max(ee.scalefac[E*3+0],0),ye),T(ae,Math.max(ee.scalefac[E*3+1],0),ye),T(ae,Math.max(ee.scalefac[E*3+2],0),ye),ve+=3*ye}j+=X(ae,ee)}else{for(;ge<4;ge++){var pe=ee.sfb_partition_table[ge],ye=ee.slen[ge];for(be=0;be<pe;be++,E++)T(ae,Math.max(ee.scalefac[E],0),ye),ve+=ye}j+=W(ae,ee)}j+=d(ae,ee),o(j==ee.part2_3_length),o(ve==ee.part2_length),$+=ve+j}return $}function J(){this.total=0}function q(y,h){var m=y.internal_flags,E,j,$,ae,z;return z=m.w_ptr,ae=m.h_ptr-1,ae==-1&&(ae=l.MAX_HEADER_BUF-1),E=m.header[ae].write_timing-A,h.total=E,E>=0&&(j=1+ae-z,ae<z&&(j=1+ae-z+l.MAX_HEADER_BUF),E-=j*8*m.sideinfo_len),$=H.getframebits(y),E+=$,h.total+=$,h.total%8!=0?h.total=1+h.total/8:h.total=h.total/8,h.total+=a+1,E<0&&n.err.println(`strange error flushing buffer ... 
`),E}this.flush_bitstream=function(y){var h=y.internal_flags,m,E,j=h.h_ptr-1;if(j==-1&&(j=l.MAX_HEADER_BUF-1),m=h.l3_side,!((E=q(y,new J))<0)){if(I(y,E),o(h.header[j].write_timing+this.getframebits(y)==A),h.ResvSize=0,m.main_data_begin=0,h.findReplayGain){var $=D.GetTitleGain(h.rgdata);o(NEQ($,GainAnalysis.GAIN_NOT_ENOUGH_SAMPLES)),h.RadioGain=Math.floor($*10+.5)|0}h.findPeakSample&&(h.noclipGainChange=Math.ceil(Math.log10(h.PeakSample/32767)*20*10)|0,h.noclipGainChange>0&&(EQ(y.scale,1)||EQ(y.scale,0))?h.noclipScale=Math.floor(32767/h.PeakSample*100)/100:h.noclipScale=-1)}},this.add_dummy_byte=function(y,h,m){for(var E=y.internal_flags,j;m-- >0;)for(V(E,h,8),j=0;j<l.MAX_HEADER_BUF;++j)E.header[j].write_timing+=8},this.format_bitstream=function(y){var h=y.internal_flags,m;m=h.l3_side;var E=this.getframebits(y);I(y,m.resvDrain_pre),M(y,E);var j=8*h.sideinfo_len;if(j+=G(y),I(y,m.resvDrain_post),j+=m.resvDrain_post,m.main_data_begin+=(E-j)/8,q(y,new J)!=h.ResvSize&&n.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),m.main_data_begin*8!=h.ResvSize&&(n.err.printf(`bit reservoir error: 
l3_side.main_data_begin: %d 
Resvoir size:             %d 
resv drain (post)         %d 
resv drain (pre)          %d 
header and sideinfo:      %d 
data bits:                %d 
total bits:               %d (remainder: %d) 
bitsperframe:             %d 
`,8*m.main_data_begin,h.ResvSize,m.resvDrain_post,m.resvDrain_pre,8*h.sideinfo_len,j-m.resvDrain_post-8*h.sideinfo_len,j,j%8,E),n.err.println("This is a fatal error.  It has several possible causes:"),n.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),n.err.println(" 9%%  Your system is overclocked"),n.err.println(" 1%%  bug in LAME encoding library"),h.ResvSize=m.main_data_begin*8),A>1e9){var $;for($=0;$<l.MAX_HEADER_BUF;++$)h.header[$].write_timing-=A;A=0}return 0},this.copy_buffer=function(y,h,m,E,j){var $=a+1;if($<=0)return 0;if(E!=0&&$>E)return-1;if(n.arraycopy(b,0,h,m,$),a=-1,u=0,j!=0){var ae=s(1);if(ae[0]=y.nMusicCRC,_.updateMusicCRC(ae,h,m,$),y.nMusicCRC=ae[0],$>0&&(y.VBR_seek_table.nBytesWritten+=$),y.decode_on_the_fly){for(var z=i([2,1152]),ee=$,le=-1,ce;le!=0;)if(le=w.hip_decode1_unclipped(y.hip,h,m,ee,z[0],z[1]),ee=0,le==-1&&(le=0),le>0){if(y.findPeakSample){for(ce=0;ce<le;ce++)z[0][ce]>y.PeakSample?y.PeakSample=z[0][ce]:-z[0][ce]>y.PeakSample&&(y.PeakSample=-z[0][ce]);if(y.channels_out>1)for(ce=0;ce<le;ce++)z[1][ce]>y.PeakSample?y.PeakSample=z[1][ce]:-z[1][ce]>y.PeakSample&&(y.PeakSample=-z[1][ce])}if(y.findReplayGain&&D.AnalyzeSamples(y.rgdata,z[0],0,z[1],0,le,y.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6}}}return $},this.init_bit_stream_w=function(y){b=r(S.LAME_MAXMP3BUFFER),y.h_ptr=y.w_ptr=0,y.header[y.h_ptr].write_timing=0,a=-1,u=0,A=0}}return Ja=f,Ja}var es,_1;function Bs(){if(_1)return es;_1=1;var e=at,n=e.System,t=e.VbrMode,r=e.ShortBlock,i=e.new_float,s=e.new_int_n,o=e.new_short_n,v=e.assert,c=pf,C=bf,l=va,f=qf,S=Xf,H=Kf,U=Ms(),D=Ts,w=xt();function p(){var _=Pr,b=this,A=128*1024;p.V9=410,p.V8=420,p.V7=430,p.V6=440,p.V5=450,p.V4=460,p.V3=470,p.V2=480,p.V1=490,p.V0=500,p.R3MIX=1e3,p.STANDARD=1001,p.EXTREME=1002,p.INSANE=1003,p.STANDARD_FAST=1004,p.EXTREME_FAST=1005,p.MEDIUM=1006,p.MEDIUM_FAST=1007;var a=16384+A;p.LAME_MAXMP3BUFFER=a;var u,x,T,V,I,L=new c,te,M,d;this.enc=new w,this.setModules=function(g,B,me,Se,Ie,Re,Te,Ae,De){u=g,x=B,T=me,V=Se,I=Ie,te=Re,M=Ae,d=De,this.enc.setModules(x,L,V,te)};function P(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=i(w.SBMAX_l),this.bo_s_weight=i(w.SBMAX_s)}function X(){this.lowerlimit=0}function W(g,B){this.lowpass=B}var G=4294479419;function J(g){var B;return g.class_id=G,B=g.internal_flags=new l,g.mode=_.NOT_SET,g.original=1,g.in_samplerate=44100,g.num_channels=2,g.num_samples=-1,g.bWriteVbrTag=!0,g.quality=-1,g.short_blocks=null,B.subblock_gain=-1,g.lowpassfreq=0,g.highpassfreq=0,g.lowpasswidth=-1,g.highpasswidth=-1,g.VBR=t.vbr_off,g.VBR_q=4,g.ATHcurve=-1,g.VBR_mean_bitrate_kbps=128,g.VBR_min_bitrate_kbps=0,g.VBR_max_bitrate_kbps=0,g.VBR_hard_min=0,B.VBR_min_bitrate=1,B.VBR_max_bitrate=13,g.quant_comp=-1,g.quant_comp_short=-1,g.msfix=-1,B.resample_ratio=1,B.OldValue[0]=180,B.OldValue[1]=180,B.CurrentStep[0]=4,B.CurrentStep[1]=4,B.masking_lower=1,B.nsPsy.attackthre=-1,B.nsPsy.attackthre_s=-1,g.scale=-1,g.athaa_type=-1,g.ATHtype=-1,g.athaa_loudapprox=-1,g.athaa_sensitivity=0,g.useTemporal=null,g.interChRatio=-1,B.mf_samples_to_encode=w.ENCDELAY+w.POSTDELAY,g.encoder_padding=0,B.mf_size=w.ENCDELAY-w.MDCTDELAY,g.findReplayGain=!1,g.decode_on_the_fly=!1,B.decode_on_the_fly=!1,B.findReplayGain=!1,B.findPeakSample=!1,B.RadioGain=0,B.AudiophileGain=0,B.noclipGainChange=0,B.noclipScale=-1,g.preset=0,g.write_id3tag_automatic=!0,0}this.lame_init=function(){var g=new C;return J(g),g.lame_allocated_gfp=1,g};function q(g){return g>1?0:g<=0?1:Math.cos(Math.PI/2*g)}this.nearestBitrateFullIndex=function(g){var B=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],me=0,Se=0,Ie=0,Re=0;Re=B[16],Ie=16,Se=B[16],me=16;for(var Te=0;Te<16;Te++)if(Math.max(g,B[Te+1])!=g){Re=B[Te+1],Ie=Te+1,Se=B[Te],me=Te;break}return Re-g>g-Se?me:Ie};function y(g,B){var me=44100;return B>=48e3?me=48e3:B>=44100?me=44100:B>=32e3?me=32e3:B>=24e3?me=24e3:B>=22050?me=22050:B>=16e3?me=16e3:B>=12e3?me=12e3:B>=11025?me=11025:B>=8e3&&(me=8e3),g==-1?me:(g<=15960&&(me=44100),g<=15250&&(me=32e3),g<=11220&&(me=24e3),g<=9970&&(me=22050),g<=7230&&(me=16e3),g<=5420&&(me=12e3),g<=4510&&(me=11025),g<=3970&&(me=8e3),B<me?B>44100?48e3:B>32e3?44100:B>24e3?32e3:B>22050?24e3:B>16e3?22050:B>12e3?16e3:B>11025?12e3:B>8e3?11025:8e3:me)}function h(g,B){switch(g){case 44100:return B.version=1,0;case 48e3:return B.version=1,1;case 32e3:return B.version=1,2;case 22050:return B.version=0,0;case 24e3:return B.version=0,1;case 16e3:return B.version=0,2;case 11025:return B.version=0,0;case 12e3:return B.version=0,1;case 8e3:return B.version=0,2;default:return B.version=0,-1}}function m(g,B,me){me<16e3&&(B=2);for(var Se=D.bitrate_table[B][1],Ie=2;Ie<=14;Ie++)D.bitrate_table[B][Ie]>0&&Math.abs(D.bitrate_table[B][Ie]-g)<Math.abs(Se-g)&&(Se=D.bitrate_table[B][Ie]);return Se}function E(g,B,me){me<16e3&&(B=2);for(var Se=0;Se<=14;Se++)if(D.bitrate_table[B][Se]>0&&D.bitrate_table[B][Se]==g)return Se;return-1}function j(g,B){var me=[new W(8,2e3),new W(16,3700),new W(24,3900),new W(32,5500),new W(40,7e3),new W(48,7500),new W(56,1e4),new W(64,11e3),new W(80,13500),new W(96,15100),new W(112,15600),new W(128,17e3),new W(160,17500),new W(192,18600),new W(224,19400),new W(256,19700),new W(320,20500)],Se=b.nearestBitrateFullIndex(B);g.lowerlimit=me[Se].lowpass}function $(g){var B=g.internal_flags,me=32,Se=-1;if(B.lowpass1>0){for(var Ie=999,Re=0;Re<=31;Re++){var Te=Re/31;Te>=B.lowpass2&&(me=Math.min(me,Re)),B.lowpass1<Te&&Te<B.lowpass2&&(Ie=Math.min(Ie,Re))}Ie==999?B.lowpass1=(me-.75)/31:B.lowpass1=(Ie-.75)/31,B.lowpass2=me/31}if(B.highpass2>0&&B.highpass2<.9*(.75/31)&&(B.highpass1=0,B.highpass2=0,n.err.println(`Warning: highpass filter disabled.  highpass frequency too small
`)),B.highpass2>0){for(var Ae=-1,Re=0;Re<=31;Re++){var Te=Re/31;Te<=B.highpass1&&(Se=Math.max(Se,Re)),B.highpass1<Te&&Te<B.highpass2&&(Ae=Math.max(Ae,Re))}B.highpass1=Se/31,Ae==-1?B.highpass2=(Se+.75)/31:B.highpass2=(Ae+.75)/31}for(var Re=0;Re<32;Re++){var De,Me,Te=Re/31;B.highpass2>B.highpass1?De=q((B.highpass2-Te)/(B.highpass2-B.highpass1+1e-20)):De=1,B.lowpass2>B.lowpass1?Me=q((Te-B.lowpass1)/(B.lowpass2-B.lowpass1+1e-20)):Me=1,B.amp_filter[Re]=De*Me}}function ae(g){var B=g.internal_flags;switch(g.quality){default:case 9:B.psymodel=0,B.noise_shaping=0,B.noise_shaping_amp=0,B.noise_shaping_stop=0,B.use_best_huffman=0,B.full_outer_loop=0;break;case 8:g.quality=7;case 7:B.psymodel=1,B.noise_shaping=0,B.noise_shaping_amp=0,B.noise_shaping_stop=0,B.use_best_huffman=0,B.full_outer_loop=0;break;case 6:B.psymodel=1,B.noise_shaping==0&&(B.noise_shaping=1),B.noise_shaping_amp=0,B.noise_shaping_stop=0,B.subblock_gain==-1&&(B.subblock_gain=1),B.use_best_huffman=0,B.full_outer_loop=0;break;case 5:B.psymodel=1,B.noise_shaping==0&&(B.noise_shaping=1),B.noise_shaping_amp=0,B.noise_shaping_stop=0,B.subblock_gain==-1&&(B.subblock_gain=1),B.use_best_huffman=0,B.full_outer_loop=0;break;case 4:B.psymodel=1,B.noise_shaping==0&&(B.noise_shaping=1),B.noise_shaping_amp=0,B.noise_shaping_stop=0,B.subblock_gain==-1&&(B.subblock_gain=1),B.use_best_huffman=1,B.full_outer_loop=0;break;case 3:B.psymodel=1,B.noise_shaping==0&&(B.noise_shaping=1),B.noise_shaping_amp=1,B.noise_shaping_stop=1,B.subblock_gain==-1&&(B.subblock_gain=1),B.use_best_huffman=1,B.full_outer_loop=0;break;case 2:B.psymodel=1,B.noise_shaping==0&&(B.noise_shaping=1),B.substep_shaping==0&&(B.substep_shaping=2),B.noise_shaping_amp=1,B.noise_shaping_stop=1,B.subblock_gain==-1&&(B.subblock_gain=1),B.use_best_huffman=1,B.full_outer_loop=0;break;case 1:B.psymodel=1,B.noise_shaping==0&&(B.noise_shaping=1),B.substep_shaping==0&&(B.substep_shaping=2),B.noise_shaping_amp=2,B.noise_shaping_stop=1,B.subblock_gain==-1&&(B.subblock_gain=1),B.use_best_huffman=1,B.full_outer_loop=0;break;case 0:B.psymodel=1,B.noise_shaping==0&&(B.noise_shaping=1),B.substep_shaping==0&&(B.substep_shaping=2),B.noise_shaping_amp=2,B.noise_shaping_stop=1,B.subblock_gain==-1&&(B.subblock_gain=1),B.use_best_huffman=1,B.full_outer_loop=0;break}}function z(g){var B=g.internal_flags;g.frameNum=0,g.write_id3tag_automatic&&M.id3tag_write_v2(g),B.bitrate_stereoMode_Hist=s([16,5]),B.bitrate_blockType_Hist=s([16,6]),B.PeakSample=0,g.bWriteVbrTag&&te.InitVbrTag(g)}this.lame_init_params=function(g){var B=g.internal_flags;if(B.Class_ID=0,B.ATH==null&&(B.ATH=new f),B.PSY==null&&(B.PSY=new P),B.rgdata==null&&(B.rgdata=new S),B.channels_in=g.num_channels,B.channels_in==1&&(g.mode=_.MONO),B.channels_out=g.mode==_.MONO?1:2,B.mode_ext=w.MPG_MD_MS_LR,g.mode==_.MONO&&(g.force_ms=!1),g.VBR==t.vbr_off&&g.VBR_mean_bitrate_kbps!=128&&g.brate==0&&(g.brate=g.VBR_mean_bitrate_kbps),g.VBR==t.vbr_off||g.VBR==t.vbr_mtrh||g.VBR==t.vbr_mt||(g.free_format=!1),g.VBR==t.vbr_off&&g.brate==0&&U.EQ(g.compression_ratio,0)&&(g.compression_ratio=11.025),g.VBR==t.vbr_off&&g.compression_ratio>0&&(g.out_samplerate==0&&(g.out_samplerate=map2MP3Frequency(int(.97*g.in_samplerate))),g.brate=0|g.out_samplerate*16*B.channels_out/(1e3*g.compression_ratio),B.samplerate_index=h(g.out_samplerate,g),g.free_format||(g.brate=m(g.brate,g.version,g.out_samplerate))),g.out_samplerate!=0&&(g.out_samplerate<16e3?(g.VBR_mean_bitrate_kbps=Math.max(g.VBR_mean_bitrate_kbps,8),g.VBR_mean_bitrate_kbps=Math.min(g.VBR_mean_bitrate_kbps,64)):g.out_samplerate<32e3?(g.VBR_mean_bitrate_kbps=Math.max(g.VBR_mean_bitrate_kbps,8),g.VBR_mean_bitrate_kbps=Math.min(g.VBR_mean_bitrate_kbps,160)):(g.VBR_mean_bitrate_kbps=Math.max(g.VBR_mean_bitrate_kbps,32),g.VBR_mean_bitrate_kbps=Math.min(g.VBR_mean_bitrate_kbps,320))),g.lowpassfreq==0){var me=16e3;switch(g.VBR){case t.vbr_off:{var Se=new X;j(Se,g.brate),me=Se.lowerlimit;break}case t.vbr_abr:{var Se=new X;j(Se,g.VBR_mean_bitrate_kbps),me=Se.lowerlimit;break}case t.vbr_rh:{var Ie=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=g.VBR_q&&g.VBR_q<=9){var Re=Ie[g.VBR_q],Te=Ie[g.VBR_q+1],Ae=g.VBR_q_frac;me=linear_int(Re,Te,Ae)}else me=19500;break}default:{var Ie=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];if(0<=g.VBR_q&&g.VBR_q<=9){var Re=Ie[g.VBR_q],Te=Ie[g.VBR_q+1],Ae=g.VBR_q_frac;me=linear_int(Re,Te,Ae)}else me=19500}}g.mode==_.MONO&&(g.VBR==t.vbr_off||g.VBR==t.vbr_abr)&&(me*=1.5),g.lowpassfreq=me|0}if(g.out_samplerate==0&&(2*g.lowpassfreq>g.in_samplerate&&(g.lowpassfreq=g.in_samplerate/2),g.out_samplerate=y(g.lowpassfreq|0,g.in_samplerate)),g.lowpassfreq=Math.min(20500,g.lowpassfreq),g.lowpassfreq=Math.min(g.out_samplerate/2,g.lowpassfreq),g.VBR==t.vbr_off&&(g.compression_ratio=g.out_samplerate*16*B.channels_out/(1e3*g.brate)),g.VBR==t.vbr_abr&&(g.compression_ratio=g.out_samplerate*16*B.channels_out/(1e3*g.VBR_mean_bitrate_kbps)),g.bWriteVbrTag||(g.findReplayGain=!1,g.decode_on_the_fly=!1,B.findPeakSample=!1),B.findReplayGain=g.findReplayGain,B.decode_on_the_fly=g.decode_on_the_fly,B.decode_on_the_fly&&(B.findPeakSample=!0),B.findReplayGain&&u.InitGainAnalysis(B.rgdata,g.out_samplerate)==GainAnalysis.INIT_GAIN_ANALYSIS_ERROR)return g.internal_flags=null,-6;switch(B.decode_on_the_fly&&!g.decode_only&&(B.hip!=null&&d.hip_decode_exit(B.hip),B.hip=d.hip_decode_init()),B.mode_gr=g.out_samplerate<=24e3?1:2,g.framesize=576*B.mode_gr,g.encoder_delay=w.ENCDELAY,B.resample_ratio=g.in_samplerate/g.out_samplerate,g.VBR){case t.vbr_mt:case t.vbr_rh:case t.vbr_mtrh:{var De=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5];g.compression_ratio=De[g.VBR_q]}break;case t.vbr_abr:g.compression_ratio=g.out_samplerate*16*B.channels_out/(1e3*g.VBR_mean_bitrate_kbps);break;default:g.compression_ratio=g.out_samplerate*16*B.channels_out/(1e3*g.brate);break}if(g.mode==_.NOT_SET&&(g.mode=_.JOINT_STEREO),g.highpassfreq>0?(B.highpass1=2*g.highpassfreq,g.highpasswidth>=0?B.highpass2=2*(g.highpassfreq+g.highpasswidth):B.highpass2=1*2*g.highpassfreq,B.highpass1/=g.out_samplerate,B.highpass2/=g.out_samplerate):(B.highpass1=0,B.highpass2=0),g.lowpassfreq>0?(B.lowpass2=2*g.lowpassfreq,g.lowpasswidth>=0?(B.lowpass1=2*(g.lowpassfreq-g.lowpasswidth),B.lowpass1<0&&(B.lowpass1=0)):B.lowpass1=1*2*g.lowpassfreq,B.lowpass1/=g.out_samplerate,B.lowpass2/=g.out_samplerate):(B.lowpass1=0,B.lowpass2=0),$(g),B.samplerate_index=h(g.out_samplerate,g),B.samplerate_index<0)return g.internal_flags=null,-1;if(g.VBR==t.vbr_off){if(g.free_format)B.bitrate_index=0;else if(g.brate=m(g.brate,g.version,g.out_samplerate),B.bitrate_index=E(g.brate,g.version,g.out_samplerate),B.bitrate_index<=0)return g.internal_flags=null,-1}else B.bitrate_index=1;g.analysis&&(g.bWriteVbrTag=!1),B.pinfo!=null&&(g.bWriteVbrTag=!1),x.init_bit_stream_w(B);for(var Me=B.samplerate_index+3*g.version+6*(g.out_samplerate<16e3?1:0),we=0;we<w.SBMAX_l+1;we++)B.scalefac_band.l[we]=V.sfBandIndex[Me].l[we];for(var we=0;we<w.PSFB21+1;we++){var Ve=(B.scalefac_band.l[22]-B.scalefac_band.l[21])/w.PSFB21,Qe=B.scalefac_band.l[21]+we*Ve;B.scalefac_band.psfb21[we]=Qe}B.scalefac_band.psfb21[w.PSFB21]=576;for(var we=0;we<w.SBMAX_s+1;we++)B.scalefac_band.s[we]=V.sfBandIndex[Me].s[we];for(var we=0;we<w.PSFB12+1;we++){var Ve=(B.scalefac_band.s[13]-B.scalefac_band.s[12])/w.PSFB12,Qe=B.scalefac_band.s[12]+we*Ve;B.scalefac_band.psfb12[we]=Qe}B.scalefac_band.psfb12[w.PSFB12]=192,g.version==1?B.sideinfo_len=B.channels_out==1?21:36:B.sideinfo_len=B.channels_out==1?13:21,g.error_protection&&(B.sideinfo_len+=2),z(g),B.Class_ID=G;{var O;for(O=0;O<19;O++)B.nsPsy.pefirbuf[O]=700*B.mode_gr*B.channels_out;g.ATHtype==-1&&(g.ATHtype=4)}switch(v(g.VBR_q<=9),v(g.VBR_q>=0),g.VBR){case t.vbr_mt:g.VBR=t.vbr_mtrh;case t.vbr_mtrh:{g.useTemporal==null&&(g.useTemporal=!1),T.apply_preset(g,500-g.VBR_q*10,0),g.quality<0&&(g.quality=LAME_DEFAULT_QUALITY),g.quality<5&&(g.quality=0),g.quality>5&&(g.quality=5),B.PSY.mask_adjust=g.maskingadjust,B.PSY.mask_adjust_short=g.maskingadjust_short,g.experimentalY?B.sfb21_extra=!1:B.sfb21_extra=g.out_samplerate>44e3,B.iteration_loop=new VBRNewIterationLoop(I);break}case t.vbr_rh:{T.apply_preset(g,500-g.VBR_q*10,0),B.PSY.mask_adjust=g.maskingadjust,B.PSY.mask_adjust_short=g.maskingadjust_short,g.experimentalY?B.sfb21_extra=!1:B.sfb21_extra=g.out_samplerate>44e3,g.quality>6&&(g.quality=6),g.quality<0&&(g.quality=LAME_DEFAULT_QUALITY),B.iteration_loop=new VBROldIterationLoop(I);break}default:{var N;B.sfb21_extra=!1,g.quality<0&&(g.quality=LAME_DEFAULT_QUALITY),N=g.VBR,N==t.vbr_off&&(g.VBR_mean_bitrate_kbps=g.brate),T.apply_preset(g,g.VBR_mean_bitrate_kbps,0),g.VBR=N,B.PSY.mask_adjust=g.maskingadjust,B.PSY.mask_adjust_short=g.maskingadjust_short,N==t.vbr_off?B.iteration_loop=new H(I):B.iteration_loop=new ABRIterationLoop(I);break}}if(v(g.scale>=0),g.VBR!=t.vbr_off){if(B.VBR_min_bitrate=1,B.VBR_max_bitrate=14,g.out_samplerate<16e3&&(B.VBR_max_bitrate=8),g.VBR_min_bitrate_kbps!=0&&(g.VBR_min_bitrate_kbps=m(g.VBR_min_bitrate_kbps,g.version,g.out_samplerate),B.VBR_min_bitrate=E(g.VBR_min_bitrate_kbps,g.version,g.out_samplerate),B.VBR_min_bitrate<0)||g.VBR_max_bitrate_kbps!=0&&(g.VBR_max_bitrate_kbps=m(g.VBR_max_bitrate_kbps,g.version,g.out_samplerate),B.VBR_max_bitrate=E(g.VBR_max_bitrate_kbps,g.version,g.out_samplerate),B.VBR_max_bitrate<0))return-1;g.VBR_min_bitrate_kbps=D.bitrate_table[g.version][B.VBR_min_bitrate],g.VBR_max_bitrate_kbps=D.bitrate_table[g.version][B.VBR_max_bitrate],g.VBR_mean_bitrate_kbps=Math.min(D.bitrate_table[g.version][B.VBR_max_bitrate],g.VBR_mean_bitrate_kbps),g.VBR_mean_bitrate_kbps=Math.max(D.bitrate_table[g.version][B.VBR_min_bitrate],g.VBR_mean_bitrate_kbps)}return g.tune&&(B.PSY.mask_adjust+=g.tune_value_a,B.PSY.mask_adjust_short+=g.tune_value_a),ae(g),v(g.scale>=0),g.athaa_type<0?B.ATH.useAdjust=3:B.ATH.useAdjust=g.athaa_type,B.ATH.aaSensitivityP=Math.pow(10,g.athaa_sensitivity/-10),g.short_blocks==null&&(g.short_blocks=r.short_block_allowed),g.short_blocks==r.short_block_allowed&&(g.mode==_.JOINT_STEREO||g.mode==_.STEREO)&&(g.short_blocks=r.short_block_coupled),g.quant_comp<0&&(g.quant_comp=1),g.quant_comp_short<0&&(g.quant_comp_short=0),g.msfix<0&&(g.msfix=0),g.exp_nspsytune=g.exp_nspsytune|1,g.internal_flags.nsPsy.attackthre<0&&(g.internal_flags.nsPsy.attackthre=c.NSATTACKTHRE),g.internal_flags.nsPsy.attackthre_s<0&&(g.internal_flags.nsPsy.attackthre_s=c.NSATTACKTHRE_S),v(g.scale>=0),g.scale<0&&(g.scale=1),g.ATHtype<0&&(g.ATHtype=4),g.ATHcurve<0&&(g.ATHcurve=4),g.athaa_loudapprox<0&&(g.athaa_loudapprox=2),g.interChRatio<0&&(g.interChRatio=0),g.useTemporal==null&&(g.useTemporal=!0),B.slot_lag=B.frac_SpF=0,g.VBR==t.vbr_off&&(B.slot_lag=B.frac_SpF=(g.version+1)*72e3*g.brate%g.out_samplerate|0),V.iteration_init(g),L.psymodel_init(g),v(g.scale>=0),0};function ee(g,B){(g.in_buffer_0==null||g.in_buffer_nsamples<B)&&(g.in_buffer_0=i(B),g.in_buffer_1=i(B),g.in_buffer_nsamples=B)}this.lame_encode_flush=function(g,B,me,Se){var Ie=g.internal_flags,Re=o([2,1152]),Te=0,Ae,De,Me,we,Ve=Ie.mf_samples_to_encode-w.POSTDELAY,Qe=le(g);if(Ie.mf_samples_to_encode<1)return 0;for(Ae=0,g.in_samplerate!=g.out_samplerate&&(Ve+=16*g.out_samplerate/g.in_samplerate),Me=g.framesize-Ve%g.framesize,Me<576&&(Me+=g.framesize),g.encoder_padding=Me,we=(Ve+Me)/g.framesize;we>0&&Te>=0;){var O=Qe-Ie.mf_size,N=g.frameNum;O*=g.in_samplerate,O/=g.out_samplerate,O>1152&&(O=1152),O<1&&(O=1),De=Se-Ae,Se==0&&(De=0),Te=this.lame_encode_buffer(g,Re[0],Re[1],O,B,me,De),me+=Te,Ae+=Te,we-=N!=g.frameNum?1:0}if(Ie.mf_samples_to_encode=0,Te<0||(De=Se-Ae,Se==0&&(De=0),x.flush_bitstream(g),Te=x.copy_buffer(Ie,B,me,De,1),Te<0))return Te;if(me+=Te,Ae+=Te,De=Se-Ae,Se==0&&(De=0),g.write_id3tag_automatic){if(M.id3tag_write_v1(g),Te=x.copy_buffer(Ie,B,me,De,0),Te<0)return Te;Ae+=Te}return Ae},this.lame_encode_buffer=function(g,B,me,Se,Ie,Re,Te){var Ae=g.internal_flags,De=[null,null];if(Ae.Class_ID!=G)return-3;if(Se==0)return 0;ee(Ae,Se),De[0]=Ae.in_buffer_0,De[1]=Ae.in_buffer_1;for(var Me=0;Me<Se;Me++)De[0][Me]=B[Me],Ae.channels_in>1&&(De[1][Me]=me[Me]);return ce(g,De[0],De[1],Se,Ie,Re,Te)};function le(g){var B=w.BLKSIZE+g.framesize-w.FFTOFFSET;return B=Math.max(B,512+g.framesize-32),B}function ce(g,B,me,Se,Ie,Re,Te){var Ae=g.internal_flags,De=0,Me,we,Ve,Qe,O,N=[null,null],k=[null,null];if(Ae.Class_ID!=G)return-3;if(Se==0)return 0;if(O=x.copy_buffer(Ae,Ie,Re,Te,0),O<0)return O;if(Re+=O,De+=O,k[0]=B,k[1]=me,U.NEQ(g.scale,0)&&U.NEQ(g.scale,1))for(we=0;we<Se;++we)k[0][we]*=g.scale,Ae.channels_out==2&&(k[1][we]*=g.scale);if(U.NEQ(g.scale_left,0)&&U.NEQ(g.scale_left,1))for(we=0;we<Se;++we)k[0][we]*=g.scale_left;if(U.NEQ(g.scale_right,0)&&U.NEQ(g.scale_right,1))for(we=0;we<Se;++we)k[1][we]*=g.scale_right;if(g.num_channels==2&&Ae.channels_out==1)for(we=0;we<Se;++we)k[0][we]=.5*(k[0][we]+k[1][we]),k[1][we]=0;Qe=le(g),N[0]=Ae.mfbuf[0],N[1]=Ae.mfbuf[1];for(var F=0;Se>0;){var Y=[null,null],R=0,Z=0;Y[0]=k[0],Y[1]=k[1];var Q=new ge;if(pt(g,N,Y,F,Se,Q),R=Q.n_in,Z=Q.n_out,Ae.findReplayGain&&!Ae.decode_on_the_fly&&u.AnalyzeSamples(Ae.rgdata,N[0],Ae.mf_size,N[1],Ae.mf_size,Z,Ae.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6;if(Se-=R,F+=R,Ae.channels_out==2,Ae.mf_size+=Z,v(Ae.mf_size<=l.MFSIZE),Ae.mf_samples_to_encode<1&&(Ae.mf_samples_to_encode=w.ENCDELAY+w.POSTDELAY),Ae.mf_samples_to_encode+=Z,Ae.mf_size>=Qe){var K=Te-De;if(Te==0&&(K=0),Me=be(g,N[0],N[1],Ie,Re,K),Me<0)return Me;for(Re+=Me,De+=Me,Ae.mf_size-=g.framesize,Ae.mf_samples_to_encode-=g.framesize,Ve=0;Ve<Ae.channels_out;Ve++)for(we=0;we<Ae.mf_size;we++)N[Ve][we]=N[Ve][we+g.framesize]}}return De}function be(g,B,me,Se,Ie,Re){var Te=b.enc.lame_encode_mp3_frame(g,B,me,Se,Ie,Re);return g.frameNum++,Te}function ge(){this.n_in=0,this.n_out=0}function ve(){this.num_used=0}function pe(g,B){return B!=0?pe(B,g%B):g}function ye(g,B,me){var Se=Math.PI*B;g/=me,g<0&&(g=0),g>1&&(g=1);var Ie=g-.5,Re=.42-.5*Math.cos(2*g*Math.PI)+.08*Math.cos(4*g*Math.PI);return Math.abs(Ie)<1e-9?Se/Math.PI:Re*Math.sin(me*Se*Ie)/(Math.PI*me*Ie)}function je(g,B,me,Se,Ie,Re,Te,Ae,De){var Me=g.internal_flags,we,Ve=0,Qe,O=g.out_samplerate/pe(g.out_samplerate,g.in_samplerate);O>l.BPC&&(O=l.BPC);var N=Math.abs(Me.resample_ratio-Math.floor(.5+Me.resample_ratio))<1e-4?1:0,k=1/Me.resample_ratio;k>1&&(k=1);var F=31;F%2==0&&--F,F+=N;var Y=F+1;if(Me.fill_buffer_resample_init==0){for(Me.inbuf_old[0]=i(Y),Me.inbuf_old[1]=i(Y),we=0;we<=2*O;++we)Me.blackfilt[we]=i(Y);for(Me.itime[0]=0,Me.itime[1]=0,Ve=0;Ve<=2*O;Ve++){var R=0,Z=(Ve-O)/(2*O);for(we=0;we<=F;we++)R+=Me.blackfilt[Ve][we]=ye(we-Z,k,F);for(we=0;we<=F;we++)Me.blackfilt[Ve][we]/=R}Me.fill_buffer_resample_init=1}var Q=Me.inbuf_old[De];for(Qe=0;Qe<Se;Qe++){var K,re;if(K=Qe*Me.resample_ratio,Ve=0|Math.floor(K-Me.itime[De]),F+Ve-F/2>=Te)break;var Z=K-Me.itime[De]-(Ve+.5*(F%2));re=0|Math.floor(Z*2*O+O+.5);var ne=0;for(we=0;we<=F;++we){var se=0|we+Ve-F/2,he;he=se<0?Q[Y+se]:Ie[Re+se],ne+=he*Me.blackfilt[re][we]}B[me+Qe]=ne}if(Ae.num_used=Math.min(Te,F+Ve-F/2),Me.itime[De]+=Ae.num_used-Qe*Me.resample_ratio,Ae.num_used>=Y)for(we=0;we<Y;we++)Q[we]=Ie[Re+Ae.num_used+we-Y];else{var Be=Y-Ae.num_used;for(we=0;we<Be;++we)Q[we]=Q[we+Ae.num_used];for(Ve=0;we<Y;++we,++Ve)Q[we]=Ie[Re+Ve];v(Ve==Ae.num_used)}return Qe}function pt(g,B,me,Se,Ie,Re){var Te=g.internal_flags;if(Te.resample_ratio<.9999||Te.resample_ratio>1.0001)for(var Ae=0;Ae<Te.channels_out;Ae++){var De=new ve;Re.n_out=je(g,B[Ae],Te.mf_size,g.framesize,me[Ae],Se,Ie,De,Ae),Re.n_in=De.num_used}else{Re.n_out=Math.min(g.framesize,Ie),Re.n_in=Re.n_out;for(var Me=0;Me<Re.n_out;++Me)B[0][Te.mf_size+Me]=me[0][Se+Me],Te.channels_out==2&&(B[1][Te.mf_size+Me]=me[1][Se+Me])}}}return es=p,es}var Qf=at,tn=Qf.VbrMode;function $f(){var e=Bs();function n(l,f,S,H,U,D,w,p,_,b,A,a,u,x,T){this.vbr_q=l,this.quant_comp=f,this.quant_comp_s=S,this.expY=H,this.st_lrm=U,this.st_s=D,this.masking_adj=w,this.masking_adj_short=p,this.ath_lower=_,this.ath_curve=b,this.ath_sensitivity=A,this.interch=a,this.safejoint=u,this.sfb21mod=x,this.msfix=T}function t(l,f,S,H,U,D,w,p,_,b,A,a,u,x){this.quant_comp=f,this.quant_comp_s=S,this.safejoint=H,this.nsmsfix=U,this.st_lrm=D,this.st_s=w,this.nsbass=p,this.scale=_,this.masking_adj=b,this.ath_lower=A,this.ath_curve=a,this.interch=u,this.sfscale=x}var r;this.setModules=function(l){r=l};var i=[new n(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new n(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new n(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new n(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new n(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new n(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new n(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new n(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new n(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new n(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new n(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],s=[new n(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new n(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new n(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new n(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new n(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new n(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new n(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new n(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new n(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new n(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new n(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function o(l,f,S){var H=l.VBR==tn.vbr_rh?i:s,U=l.VBR_q_frac,D=H[f],w=H[f+1],p=D;D.st_lrm=D.st_lrm+U*(w.st_lrm-D.st_lrm),D.st_s=D.st_s+U*(w.st_s-D.st_s),D.masking_adj=D.masking_adj+U*(w.masking_adj-D.masking_adj),D.masking_adj_short=D.masking_adj_short+U*(w.masking_adj_short-D.masking_adj_short),D.ath_lower=D.ath_lower+U*(w.ath_lower-D.ath_lower),D.ath_curve=D.ath_curve+U*(w.ath_curve-D.ath_curve),D.ath_sensitivity=D.ath_sensitivity+U*(w.ath_sensitivity-D.ath_sensitivity),D.interch=D.interch+U*(w.interch-D.interch),D.msfix=D.msfix+U*(w.msfix-D.msfix),C(l,p.vbr_q),S!=0?l.quant_comp=p.quant_comp:Math.abs(l.quant_comp- -1)>0||(l.quant_comp=p.quant_comp),S!=0?l.quant_comp_short=p.quant_comp_s:Math.abs(l.quant_comp_short- -1)>0||(l.quant_comp_short=p.quant_comp_s),p.expY!=0&&(l.experimentalY=p.expY!=0),S!=0?l.internal_flags.nsPsy.attackthre=p.st_lrm:Math.abs(l.internal_flags.nsPsy.attackthre- -1)>0||(l.internal_flags.nsPsy.attackthre=p.st_lrm),S!=0?l.internal_flags.nsPsy.attackthre_s=p.st_s:Math.abs(l.internal_flags.nsPsy.attackthre_s- -1)>0||(l.internal_flags.nsPsy.attackthre_s=p.st_s),S!=0?l.maskingadjust=p.masking_adj:Math.abs(l.maskingadjust-0)>0||(l.maskingadjust=p.masking_adj),S!=0?l.maskingadjust_short=p.masking_adj_short:Math.abs(l.maskingadjust_short-0)>0||(l.maskingadjust_short=p.masking_adj_short),S!=0?l.ATHlower=-p.ath_lower/10:Math.abs(-l.ATHlower*10-0)>0||(l.ATHlower=-p.ath_lower/10),S!=0?l.ATHcurve=p.ath_curve:Math.abs(l.ATHcurve- -1)>0||(l.ATHcurve=p.ath_curve),S!=0?l.athaa_sensitivity=p.ath_sensitivity:Math.abs(l.athaa_sensitivity- -1)>0||(l.athaa_sensitivity=p.ath_sensitivity),p.interch>0&&(S!=0?l.interChRatio=p.interch:Math.abs(l.interChRatio- -1)>0||(l.interChRatio=p.interch)),p.safejoint>0&&(l.exp_nspsytune=l.exp_nspsytune|p.safejoint),p.sfb21mod>0&&(l.exp_nspsytune=l.exp_nspsytune|p.sfb21mod<<20),S!=0?l.msfix=p.msfix:Math.abs(l.msfix- -1)>0||(l.msfix=p.msfix),S==0&&(l.VBR_q=f,l.VBR_q_frac=U)}var v=[new t(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new t(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new t(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new t(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new t(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new t(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new t(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new t(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new t(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new t(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new t(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new t(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new t(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new t(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new t(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new t(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new t(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function c(l,f,S){var H=f,U=r.nearestBitrateFullIndex(f);if(l.VBR=tn.vbr_abr,l.VBR_mean_bitrate_kbps=H,l.VBR_mean_bitrate_kbps=Math.min(l.VBR_mean_bitrate_kbps,320),l.VBR_mean_bitrate_kbps=Math.max(l.VBR_mean_bitrate_kbps,8),l.brate=l.VBR_mean_bitrate_kbps,l.VBR_mean_bitrate_kbps>320&&(l.disable_reservoir=!0),v[U].safejoint>0&&(l.exp_nspsytune=l.exp_nspsytune|2),v[U].sfscale>0&&(l.internal_flags.noise_shaping=2),Math.abs(v[U].nsbass)>0){var D=int(v[U].nsbass*4);D<0&&(D+=64),l.exp_nspsytune=l.exp_nspsytune|D<<2}return S!=0?l.quant_comp=v[U].quant_comp:Math.abs(l.quant_comp- -1)>0||(l.quant_comp=v[U].quant_comp),S!=0?l.quant_comp_short=v[U].quant_comp_s:Math.abs(l.quant_comp_short- -1)>0||(l.quant_comp_short=v[U].quant_comp_s),S!=0?l.msfix=v[U].nsmsfix:Math.abs(l.msfix- -1)>0||(l.msfix=v[U].nsmsfix),S!=0?l.internal_flags.nsPsy.attackthre=v[U].st_lrm:Math.abs(l.internal_flags.nsPsy.attackthre- -1)>0||(l.internal_flags.nsPsy.attackthre=v[U].st_lrm),S!=0?l.internal_flags.nsPsy.attackthre_s=v[U].st_s:Math.abs(l.internal_flags.nsPsy.attackthre_s- -1)>0||(l.internal_flags.nsPsy.attackthre_s=v[U].st_s),S!=0?l.scale=v[U].scale:Math.abs(l.scale- -1)>0||(l.scale=v[U].scale),S!=0?l.maskingadjust=v[U].masking_adj:Math.abs(l.maskingadjust-0)>0||(l.maskingadjust=v[U].masking_adj),v[U].masking_adj>0?S!=0?l.maskingadjust_short=v[U].masking_adj*.9:Math.abs(l.maskingadjust_short-0)>0||(l.maskingadjust_short=v[U].masking_adj*.9):S!=0?l.maskingadjust_short=v[U].masking_adj*1.1:Math.abs(l.maskingadjust_short-0)>0||(l.maskingadjust_short=v[U].masking_adj*1.1),S!=0?l.ATHlower=-v[U].ath_lower/10:Math.abs(-l.ATHlower*10-0)>0||(l.ATHlower=-v[U].ath_lower/10),S!=0?l.ATHcurve=v[U].ath_curve:Math.abs(l.ATHcurve- -1)>0||(l.ATHcurve=v[U].ath_curve),S!=0?l.interChRatio=v[U].interch:Math.abs(l.interChRatio- -1)>0||(l.interChRatio=v[U].interch),f}this.apply_preset=function(l,f,S){switch(f){case e.R3MIX:{f=e.V3,l.VBR=tn.vbr_mtrh;break}case e.MEDIUM:{f=e.V4,l.VBR=tn.vbr_rh;break}case e.MEDIUM_FAST:{f=e.V4,l.VBR=tn.vbr_mtrh;break}case e.STANDARD:{f=e.V2,l.VBR=tn.vbr_rh;break}case e.STANDARD_FAST:{f=e.V2,l.VBR=tn.vbr_mtrh;break}case e.EXTREME:{f=e.V0,l.VBR=tn.vbr_rh;break}case e.EXTREME_FAST:{f=e.V0,l.VBR=tn.vbr_mtrh;break}case e.INSANE:return f=320,l.preset=f,c(l,f,S),l.VBR=tn.vbr_off,f}switch(l.preset=f,f){case e.V9:return o(l,9,S),f;case e.V8:return o(l,8,S),f;case e.V7:return o(l,7,S),f;case e.V6:return o(l,6,S),f;case e.V5:return o(l,5,S),f;case e.V4:return o(l,4,S),f;case e.V3:return o(l,3,S),f;case e.V2:return o(l,2,S),f;case e.V1:return o(l,1,S),f;case e.V0:return o(l,0,S),f}return 8<=f&&f<=320?c(l,f,S):(l.preset=0,f)};function C(l,f){var S=0;return 0>f&&(S=-1,f=0),9<f&&(S=-1,f=9),l.VBR_q=f,l.VBR_q_frac=0,S}}var Jf=$f;function e_(){this.setModules=function(e,n){}}var t_=e_;function n_(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}var r_=n_,$0=at,u1=$0.new_float,a_=$0.new_int;function s_(){this.global_gain=0,this.sfb_count1=0,this.step=a_(39),this.noise=u1(39),this.noise_log=u1(39)}var i_=s_,lr=at,vn=lr.System,d1=lr.VbrMode,ts=lr.Util,zn=lr.Arrays,wr=lr.new_float,xr=lr.assert,o_=t_,ns=r_,l_=i_,Ue=xt(),p1=As,m1=ba;function c_(){var e;this.rv=null;var n;this.qupvt=null;var t,r=new o_,i;this.setModules=function(p,_,b,A){e=p,n=_,this.rv=_,t=b,this.qupvt=b,i=A,r.setModules(t,i)},this.ms_convert=function(p,_){for(var b=0;b<576;++b){var A=p.tt[_][0].xr[b],a=p.tt[_][1].xr[b];p.tt[_][0].xr[b]=(A+a)*(ts.SQRT2*.5),p.tt[_][1].xr[b]=(A-a)*(ts.SQRT2*.5)}};function s(p,_,b,A){A=0;for(var a=0;a<=b;++a){var u=Math.abs(p.xr[a]);A+=u,_[a]=Math.sqrt(u*Math.sqrt(u)),_[a]>p.xrpow_max&&(p.xrpow_max=_[a])}return A}this.init_xrpow=function(p,_,b){var A=0,a=0|_.max_nonzero_coeff;if(_.xrpow_max=0,zn.fill(b,a,576,0),A=s(_,b,a,A),A>1e-20){var u=0;p.substep_shaping&2&&(u=1);for(var x=0;x<_.psymax;x++)p.pseudohalf[x]=u;return!0}return zn.fill(_.l3_enc,0,576,0),!1};function o(p,_){var b=p.ATH,A=_.xr;if(_.block_type!=Ue.SHORT_TYPE)for(var a=!1,u=Ue.PSFB21-1;u>=0&&!a;u--){var x=p.scalefac_band.psfb21[u],T=p.scalefac_band.psfb21[u+1],V=t.athAdjust(b.adjust,b.psfb21[u],b.floor);p.nsPsy.longfact[21]>1e-12&&(V*=p.nsPsy.longfact[21]);for(var I=T-1;I>=x;I--)if(Math.abs(A[I])<V)A[I]=0;else{a=!0;break}}else for(var L=0;L<3;L++)for(var a=!1,u=Ue.PSFB12-1;u>=0&&!a;u--){var x=p.scalefac_band.s[12]*3+(p.scalefac_band.s[13]-p.scalefac_band.s[12])*L+(p.scalefac_band.psfb12[u]-p.scalefac_band.psfb12[0]),T=x+(p.scalefac_band.psfb12[u+1]-p.scalefac_band.psfb12[u]),te=t.athAdjust(b.adjust,b.psfb12[u],b.floor);p.nsPsy.shortfact[12]>1e-12&&(te*=p.nsPsy.shortfact[12]);for(var I=T-1;I>=x;I--)if(Math.abs(A[I])<te)A[I]=0;else{a=!0;break}}}this.init_outer_loop=function(p,_){_.part2_3_length=0,_.big_values=0,_.count1=0,_.global_gain=210,_.scalefac_compress=0,_.table_select[0]=0,_.table_select[1]=0,_.table_select[2]=0,_.subblock_gain[0]=0,_.subblock_gain[1]=0,_.subblock_gain[2]=0,_.subblock_gain[3]=0,_.region0_count=0,_.region1_count=0,_.preflag=0,_.scalefac_scale=0,_.count1table_select=0,_.part2_length=0,_.sfb_lmax=Ue.SBPSY_l,_.sfb_smin=Ue.SBPSY_s,_.psy_lmax=p.sfb21_extra?Ue.SBMAX_l:Ue.SBPSY_l,_.psymax=_.psy_lmax,_.sfbmax=_.sfb_lmax,_.sfbdivide=11;for(var b=0;b<Ue.SBMAX_l;b++)_.width[b]=p.scalefac_band.l[b+1]-p.scalefac_band.l[b],_.window[b]=3;if(_.block_type==Ue.SHORT_TYPE){var A=wr(576);_.sfb_smin=0,_.sfb_lmax=0,_.mixed_block_flag!=0&&(_.sfb_smin=3,_.sfb_lmax=p.mode_gr*2+4),_.psymax=_.sfb_lmax+3*((p.sfb21_extra?Ue.SBMAX_s:Ue.SBPSY_s)-_.sfb_smin),_.sfbmax=_.sfb_lmax+3*(Ue.SBPSY_s-_.sfb_smin),_.sfbdivide=_.sfbmax-18,_.psy_lmax=_.sfb_lmax;var a=p.scalefac_band.l[_.sfb_lmax];vn.arraycopy(_.xr,0,A,0,576);for(var b=_.sfb_smin;b<Ue.SBMAX_s;b++)for(var u=p.scalefac_band.s[b],x=p.scalefac_band.s[b+1],T=0;T<3;T++)for(var V=u;V<x;V++)_.xr[a++]=A[3*V+T];for(var I=_.sfb_lmax,b=_.sfb_smin;b<Ue.SBMAX_s;b++)_.width[I]=_.width[I+1]=_.width[I+2]=p.scalefac_band.s[b+1]-p.scalefac_band.s[b],_.window[I]=0,_.window[I+1]=1,_.window[I+2]=2,I+=3}_.count1bits=0,_.sfb_partition_table=t.nr_of_sfb_block[0][0],_.slen[0]=0,_.slen[1]=0,_.slen[2]=0,_.slen[3]=0,_.max_nonzero_coeff=575,zn.fill(_.scalefac,0),o(p,_)};function v(p){this.ordinal=p}v.BINSEARCH_NONE=new v(0),v.BINSEARCH_UP=new v(1),v.BINSEARCH_DOWN=new v(2);function c(p,_,b,A,a){var u,x=p.CurrentStep[A],T=!1,V=p.OldValue[A],I=v.BINSEARCH_NONE;for(_.global_gain=V,b-=_.part2_length;;){var L;if(u=i.count_bits(p,a,_,null),x==1||u==b)break;u>b?(I==v.BINSEARCH_DOWN&&(T=!0),T&&(x/=2),I=v.BINSEARCH_UP,L=x):(I==v.BINSEARCH_UP&&(T=!0),T&&(x/=2),I=v.BINSEARCH_DOWN,L=-x),_.global_gain+=L,_.global_gain<0&&(_.global_gain=0,T=!0),_.global_gain>255&&(_.global_gain=255,T=!0)}for(xr(_.global_gain>=0),xr(_.global_gain<256);u>b&&_.global_gain<255;)_.global_gain++,u=i.count_bits(p,a,_,null);return p.CurrentStep[A]=V-_.global_gain>=4?4:2,p.OldValue[A]=_.global_gain,_.part2_3_length=u,u}this.trancate_smallspectrums=function(p,_,b,A){var a=wr(m1.SFBMAX);if(!(!(p.substep_shaping&4)&&_.block_type==Ue.SHORT_TYPE||p.substep_shaping&128)){t.calc_noise(_,b,a,new ns,null);for(var x=0;x<576;x++){var u=0;_.l3_enc[x]!=0&&(u=Math.abs(_.xr[x])),A[x]=u}var x=0,T=8;_.block_type==Ue.SHORT_TYPE&&(T=6);do{var V,I,L,te,M=_.width[T];if(x+=M,!(a[T]>=1)&&(zn.sort(A,x-M,M),!BitStream.EQ(A[x-1],0))){V=(1-a[T])*b[T],I=0,te=0;do{var d;for(L=1;te+L<M&&!BitStream.NEQ(A[te+x-M],A[te+x+L-M]);L++);if(d=A[te+x-M]*A[te+x-M]*L,V<d){te!=0&&(I=A[te+x-M-1]);break}V-=d,te+=L}while(te<M);if(!BitStream.EQ(I,0))do Math.abs(_.xr[x-M])<=I&&(_.l3_enc[x-M]=0);while(--M>0)}}while(++T<_.psymax);_.part2_3_length=i.noquant_count_bits(p,_,null)}};function C(p){for(var _=0;_<p.sfbmax;_++)if(p.scalefac[_]+p.subblock_gain[p.window[_]]==0)return!1;return!0}function l(p){return ts.FAST_LOG10(.368+.632*p*p*p)}function f(p,_){for(var b=1e-37,A=0;A<_.psymax;A++)b+=l(p[A]);return Math.max(1e-20,b)}function S(p,_,b,A,a){var u;switch(p){default:case 9:{_.over_count>0?(u=b.over_SSD<=_.over_SSD,b.over_SSD==_.over_SSD&&(u=b.bits<_.bits)):u=b.max_noise<0&&b.max_noise*10+b.bits<=_.max_noise*10+_.bits;break}case 0:u=b.over_count<_.over_count||b.over_count==_.over_count&&b.over_noise<_.over_noise||b.over_count==_.over_count&&BitStream.EQ(b.over_noise,_.over_noise)&&b.tot_noise<_.tot_noise;break;case 8:b.max_noise=f(a,A);case 1:u=b.max_noise<_.max_noise;break;case 2:u=b.tot_noise<_.tot_noise;break;case 3:u=b.tot_noise<_.tot_noise&&b.max_noise<_.max_noise;break;case 4:u=b.max_noise<=0&&_.max_noise>.2||b.max_noise<=0&&_.max_noise<0&&_.max_noise>b.max_noise-.2&&b.tot_noise<_.tot_noise||b.max_noise<=0&&_.max_noise>0&&_.max_noise>b.max_noise-.2&&b.tot_noise<_.tot_noise+_.over_noise||b.max_noise>0&&_.max_noise>-.05&&_.max_noise>b.max_noise-.1&&b.tot_noise+b.over_noise<_.tot_noise+_.over_noise||b.max_noise>0&&_.max_noise>-.1&&_.max_noise>b.max_noise-.15&&b.tot_noise+b.over_noise+b.over_noise<_.tot_noise+_.over_noise+_.over_noise;break;case 5:u=b.over_noise<_.over_noise||BitStream.EQ(b.over_noise,_.over_noise)&&b.tot_noise<_.tot_noise;break;case 6:u=b.over_noise<_.over_noise||BitStream.EQ(b.over_noise,_.over_noise)&&(b.max_noise<_.max_noise||BitStream.EQ(b.max_noise,_.max_noise)&&b.tot_noise<=_.tot_noise);break;case 7:u=b.over_count<_.over_count||b.over_noise<_.over_noise;break}return _.over_count==0&&(u=u&&b.bits<_.bits),u}function H(p,_,b,A,a){var u=p.internal_flags,x;_.scalefac_scale==0?x=1.2968395546510096:x=1.6817928305074292;for(var T=0,V=0;V<_.sfbmax;V++)T<b[V]&&(T=b[V]);var I=u.noise_shaping_amp;switch(I==3&&(a?I=2:I=1),I){case 2:break;case 1:T>1?T=Math.pow(T,.5):T*=.95;break;case 0:default:T>1?T=1:T*=.95;break}for(var L=0,V=0;V<_.sfbmax;V++){var te=_.width[V],M;if(L+=te,!(b[V]<T)){if(u.substep_shaping&2&&(u.pseudohalf[V]=u.pseudohalf[V]==0?1:0,u.pseudohalf[V]==0&&u.noise_shaping_amp==2))return;for(_.scalefac[V]++,M=-te;M<0;M++)A[L+M]*=x,A[L+M]>_.xrpow_max&&(_.xrpow_max=A[L+M]);if(u.noise_shaping_amp==2)return}}}function U(p,_){for(var b=1.2968395546510096,A=0,a=0;a<p.sfbmax;a++){var u=p.width[a],x=p.scalefac[a];if(p.preflag!=0&&(x+=t.pretab[a]),A+=u,x&1){x++;for(var T=-u;T<0;T++)_[A+T]*=b,_[A+T]>p.xrpow_max&&(p.xrpow_max=_[A+T])}p.scalefac[a]=x>>1}p.preflag=0,p.scalefac_scale=1}function D(p,_,b){var A,a=_.scalefac;for(A=0;A<_.sfb_lmax;A++)if(a[A]>=16)return!0;for(var u=0;u<3;u++){var x=0,T=0;for(A=_.sfb_lmax+u;A<_.sfbdivide;A+=3)x<a[A]&&(x=a[A]);for(;A<_.sfbmax;A+=3)T<a[A]&&(T=a[A]);if(!(x<16&&T<8)){if(_.subblock_gain[u]>=7)return!0;_.subblock_gain[u]++;var V=p.scalefac_band.l[_.sfb_lmax];for(A=_.sfb_lmax+u;A<_.sfbmax;A+=3){var I,L=_.width[A],te=a[A];if(te=te-(4>>_.scalefac_scale),te>=0){a[A]=te,V+=L*3;continue}a[A]=0;{var M=210+(te<<_.scalefac_scale+1);I=t.IPOW20(M)}V+=L*(u+1);for(var d=-L;d<0;d++)b[V+d]*=I,b[V+d]>_.xrpow_max&&(_.xrpow_max=b[V+d]);V+=L*(3-u-1)}{var I=t.IPOW20(202);V+=_.width[A]*(u+1);for(var d=-_.width[A];d<0;d++)b[V+d]*=I,b[V+d]>_.xrpow_max&&(_.xrpow_max=b[V+d])}}}return!1}function w(p,_,b,A,a){var u=p.internal_flags;H(p,_,b,A,a);var x=C(_);return x?!1:(u.mode_gr==2?x=i.scale_bitcount(_):x=i.scale_bitcount_lsf(u,_),x?(u.noise_shaping>1&&(zn.fill(u.pseudohalf,0),_.scalefac_scale==0?(U(_,A),x=!1):_.block_type==Ue.SHORT_TYPE&&u.subblock_gain>0&&(x=D(u,_,A)||C(_))),x||(u.mode_gr==2?x=i.scale_bitcount(_):x=i.scale_bitcount_lsf(u,_)),!x):!0)}this.outer_loop=function(p,_,b,A,a,u){var x=p.internal_flags,T=new p1,V=wr(576),I=wr(m1.SFBMAX),L=new ns,te,M=new l_,d=9999999,P=!1,X=!1,W=0;if(c(x,_,u,a,A),x.noise_shaping==0)return 100;t.calc_noise(_,b,I,L,M),L.bits=_.part2_3_length,T.assign(_);var G=0;for(vn.arraycopy(A,0,V,0,576);!P;){do{var J=new ns,q,y=255;if(x.substep_shaping&2?q=20:q=3,x.sfb21_extra&&(I[T.sfbmax]>1||T.block_type==Ue.SHORT_TYPE&&(I[T.sfbmax+1]>1||I[T.sfbmax+2]>1))||!w(p,T,I,A,X))break;T.scalefac_scale!=0&&(y=254);var h=u-T.part2_length;if(h<=0)break;for(;(T.part2_3_length=i.count_bits(x,A,T,M))>h&&T.global_gain<=y;)T.global_gain++;if(T.global_gain>y)break;if(L.over_count==0){for(;(T.part2_3_length=i.count_bits(x,A,T,M))>d&&T.global_gain<=y;)T.global_gain++;if(T.global_gain>y)break}if(t.calc_noise(T,b,I,J,M),J.bits=T.part2_3_length,_.block_type!=Ue.SHORT_TYPE?te=p.quant_comp:te=p.quant_comp_short,te=S(te,L,J,T,I)?1:0,te!=0)d=_.part2_3_length,L=J,_.assign(T),G=0,vn.arraycopy(A,0,V,0,576);else if(x.full_outer_loop==0&&(++G>q&&L.over_count==0||x.noise_shaping_amp==3&&X&&G>30||x.noise_shaping_amp==3&&X&&T.global_gain-W>15))break}while(T.global_gain+T.scalefac_scale<255);x.noise_shaping_amp==3?X?P=!0:(T.assign(_),vn.arraycopy(V,0,A,0,576),G=0,W=T.global_gain,X=!0):P=!0}return xr(_.global_gain+_.scalefac_scale<=255),p.VBR==d1.vbr_rh||p.VBR==d1.vbr_mtrh?vn.arraycopy(V,0,A,0,576):x.substep_shaping&1&&trancate_smallspectrums(x,_,b,A),L.over_count},this.iteration_finish_one=function(p,_,b){var A=p.l3_side,a=A.tt[_][b];i.best_scalefac_store(p,_,b,A),p.use_best_huffman==1&&i.best_huffman_divide(p,a),n.ResvAdjust(p,a)},this.VBR_encode_granule=function(p,_,b,A,a,u,x){var T=p.internal_flags,V=new p1,I=wr(576),L=x,te=x+1,M=(x+u)/2,d,P,X=0,W=T.sfb21_extra;xr(L<=LameInternalFlags.MAX_BITS_PER_CHANNEL),zn.fill(V.l3_enc,0);do M>L-42?T.sfb21_extra=!1:T.sfb21_extra=W,P=outer_loop(p,_,b,A,a,M),P<=0?(X=1,te=_.part2_3_length,V.assign(_),vn.arraycopy(A,0,I,0,576),x=te-32,d=x-u,M=(x+u)/2):(u=M+32,d=x-u,M=(x+u)/2,X!=0&&(X=2,_.assign(V),vn.arraycopy(I,0,A,0,576)));while(d>12);T.sfb21_extra=W,X==2&&vn.arraycopy(V.l3_enc,0,_.l3_enc,0,576),xr(_.part2_3_length<=L)},this.get_framebits=function(p,_){var b=p.internal_flags;b.bitrate_index=b.VBR_min_bitrate;var A=e.getframebits(p);b.bitrate_index=1,A=e.getframebits(p);for(var a=1;a<=b.VBR_max_bitrate;a++){b.bitrate_index=a;var u=new MeanBits(A);_[a]=n.ResvFrameBegin(p,u),A=u.bits}},this.VBR_old_prepare=function(p,_,b,A,a,u,x,T,V){var I=p.internal_flags,L,te=0,M=1,d=0;I.bitrate_index=I.VBR_max_bitrate;var P=n.ResvFrameBegin(p,new MeanBits(0))/I.mode_gr;get_framebits(p,u);for(var X=0;X<I.mode_gr;X++){var W=t.on_pe(p,_,T[X],P,X,0);I.mode_ext==Ue.MPG_MD_MS_LR&&(ms_convert(I.l3_side,X),t.reduce_side(T[X],b[X],P,W));for(var G=0;G<I.channels_out;++G){var J=I.l3_side.tt[X][G];J.block_type!=Ue.SHORT_TYPE?(te=1.28/(1+Math.exp(3.5-_[X][G]/300))-.05,L=I.PSY.mask_adjust-te):(te=2.56/(1+Math.exp(3.5-_[X][G]/300))-.14,L=I.PSY.mask_adjust_short-te),I.masking_lower=Math.pow(10,L*.1),init_outer_loop(I,J),V[X][G]=t.calc_xmin(p,A[X][G],J,a[X][G]),V[X][G]!=0&&(M=0),x[X][G]=126,d+=T[X][G]}}for(var X=0;X<I.mode_gr;X++)for(var G=0;G<I.channels_out;G++)d>u[I.VBR_max_bitrate]&&(T[X][G]*=u[I.VBR_max_bitrate],T[X][G]/=d),x[X][G]>T[X][G]&&(x[X][G]=T[X][G]);return M},this.bitpressure_strategy=function(p,_,b,A){for(var a=0;a<p.mode_gr;a++)for(var u=0;u<p.channels_out;u++){for(var x=p.l3_side.tt[a][u],T=_[a][u],V=0,I=0;I<x.psy_lmax;I++)T[V++]*=1+.029*I*I/Ue.SBMAX_l/Ue.SBMAX_l;if(x.block_type==Ue.SHORT_TYPE)for(var I=x.sfb_smin;I<Ue.SBMAX_s;I++)T[V++]*=1+.029*I*I/Ue.SBMAX_s/Ue.SBMAX_s,T[V++]*=1+.029*I*I/Ue.SBMAX_s/Ue.SBMAX_s,T[V++]*=1+.029*I*I/Ue.SBMAX_s/Ue.SBMAX_s;A[a][u]=0|Math.max(b[a][u],.9*A[a][u])}},this.VBR_new_prepare=function(p,_,b,A,a,u){var x=p.internal_flags,T=1,V=0,I=0,L;if(p.free_format){x.bitrate_index=0;var te=new MeanBits(V);L=n.ResvFrameBegin(p,te),V=te.bits,a[0]=L}else{x.bitrate_index=x.VBR_max_bitrate;var te=new MeanBits(V);n.ResvFrameBegin(p,te),V=te.bits,get_framebits(p,a),L=a[x.VBR_max_bitrate]}for(var M=0;M<x.mode_gr;M++){t.on_pe(p,_,u[M],V,M,0),x.mode_ext==Ue.MPG_MD_MS_LR&&ms_convert(x.l3_side,M);for(var d=0;d<x.channels_out;++d){var P=x.l3_side.tt[M][d];x.masking_lower=Math.pow(10,x.PSY.mask_adjust*.1),init_outer_loop(x,P),t.calc_xmin(p,b[M][d],P,A[M][d])!=0&&(T=0),I+=u[M][d]}}for(var M=0;M<x.mode_gr;M++)for(var d=0;d<x.channels_out;d++)I>L&&(u[M][d]*=L,u[M][d]/=I);return T},this.calc_target_bits=function(p,_,b,A,a,u){var x=p.internal_flags,T=x.l3_side,V,I,L,te,M=0;x.bitrate_index=x.VBR_max_bitrate;var d=new MeanBits(M);for(u[0]=n.ResvFrameBegin(p,d),M=d.bits,x.bitrate_index=1,M=e.getframebits(p)-x.sideinfo_len*8,a[0]=M/(x.mode_gr*x.channels_out),M=p.VBR_mean_bitrate_kbps*p.framesize*1e3,x.substep_shaping&1&&(M*=1.09),M/=p.out_samplerate,M-=x.sideinfo_len*8,M/=x.mode_gr*x.channels_out,V=.93+.07*(11-p.compression_ratio)/(11-5.5),V<.9&&(V=.9),V>1&&(V=1),I=0;I<x.mode_gr;I++){var P=0;for(L=0;L<x.channels_out;L++){if(A[I][L]=int(V*M),_[I][L]>700){var X=int((_[I][L]-700)/1.4),W=T.tt[I][L];A[I][L]=int(V*M),W.block_type==Ue.SHORT_TYPE&&X<M/2&&(X=M/2),X>M*3/2?X=M*3/2:X<0&&(X=0),A[I][L]+=X}A[I][L]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(A[I][L]=LameInternalFlags.MAX_BITS_PER_CHANNEL),P+=A[I][L]}if(P>LameInternalFlags.MAX_BITS_PER_GRANULE)for(L=0;L<x.channels_out;++L)A[I][L]*=LameInternalFlags.MAX_BITS_PER_GRANULE,A[I][L]/=P}if(x.mode_ext==Ue.MPG_MD_MS_LR)for(I=0;I<x.mode_gr;I++)t.reduce_side(A[I],b[I],M*x.channels_out,LameInternalFlags.MAX_BITS_PER_GRANULE);for(te=0,I=0;I<x.mode_gr;I++)for(L=0;L<x.channels_out;L++)A[I][L]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(A[I][L]=LameInternalFlags.MAX_BITS_PER_CHANNEL),te+=A[I][L];if(te>u[0])for(I=0;I<x.mode_gr;I++)for(L=0;L<x.channels_out;L++)A[I][L]*=u[0],A[I][L]/=te}}var f_=c_,__=at,h1=__.assert;function u_(){var e;this.setModules=function(n){e=n},this.ResvFrameBegin=function(n,t){var r=n.internal_flags,i,s=r.l3_side,o=e.getframebits(n);t.bits=(o-r.sideinfo_len*8)/r.mode_gr;var v=8*256*r.mode_gr-8;n.brate>320?i=8*int(n.brate*1e3/(n.out_samplerate/1152)/8+.5):(i=8*1440,n.strict_ISO&&(i=8*int(32e4/(n.out_samplerate/1152)/8+.5))),r.ResvMax=i-o,r.ResvMax>v&&(r.ResvMax=v),(r.ResvMax<0||n.disable_reservoir)&&(r.ResvMax=0);var c=t.bits*r.mode_gr+Math.min(r.ResvSize,r.ResvMax);return c>i&&(c=i),h1(r.ResvMax%8==0),h1(r.ResvMax>=0),s.resvDrain_pre=0,r.pinfo!=null&&(r.pinfo.mean_bits=t.bits/2,r.pinfo.resvsize=r.ResvSize),c},this.ResvMaxBits=function(n,t,r,i){var s=n.internal_flags,o,v=s.ResvSize,c=s.ResvMax;i!=0&&(v+=t),s.substep_shaping&1&&(c*=.9),r.bits=t,v*10>c*9?(o=v-c*9/10,r.bits+=o,s.substep_shaping|=128):(o=0,s.substep_shaping&=127,!n.disable_reservoir&&!(s.substep_shaping&1)&&(r.bits-=.1*t));var C=v<s.ResvMax*6/10?v:s.ResvMax*6/10;return C-=o,C<0&&(C=0),C},this.ResvAdjust=function(n,t){n.ResvSize-=t.part2_3_length+t.part2_length},this.ResvFrameEnd=function(n,t){var r,i=n.l3_side;n.ResvSize+=t*n.mode_gr;var s=0;i.resvDrain_post=0,i.resvDrain_pre=0,(r=n.ResvSize%8)!=0&&(s+=r),r=n.ResvSize-s-n.ResvMax,r>0&&(s+=r);{var o=Math.min(i.main_data_begin*8,s)/8;i.resvDrain_pre+=8*o,s-=8*o,n.ResvSize-=8*o,i.main_data_begin-=o}i.resvDrain_post+=s,n.ResvSize-=s}}var d_=u_;function p_(){var e="http://www.mp3dev.org/",n=3,t=98,r=4,i=0,s=93;this.getLameVersion=function(){return n+"."+t+"."+r},this.getLameShortVersion=function(){return n+"."+t+"."+r},this.getLameVeryShortVersion=function(){return"LAME"+n+"."+t+"r"},this.getPsyVersion=function(){return i+"."+s},this.getLameUrl=function(){return e},this.getLameOsBitness=function(){return"32bits"}}var m_=p_,cr=at,h_=cr.System,rs=cr.VbrMode,b1=cr.ShortBlock,b_=cr.Arrays,na=cr.new_byte,v_=cr.assert;Br.NUMTOCENTRIES=100;Br.MAXFRAMESIZE=2880;function Br(){var e,n,t;this.setModules=function(M,d,P){e=M,n=d,t=P};var r=1,i=2,s=4,o=8,v=Br.NUMTOCENTRIES,c=Br.MAXFRAMESIZE,C=v+4+4+4+4+4,l=C+9+1+1+8+1+1+3+1+1+2+4+2+2,f=128,S=64,H=32,U=null,D="Xing",w="Info",p=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function _(M,d){if(M.nVbrNumFrames++,M.sum+=d,M.seen++,!(M.seen<M.want)&&(M.pos<M.size&&(M.bag[M.pos]=M.sum,M.pos++,M.seen=0),M.pos==M.size)){for(var P=1;P<M.size;P+=2)M.bag[P/2]=M.bag[P];M.want*=2,M.pos/=2}}function b(M,d){if(!(M.pos<=0))for(var P=1;P<v;++P){var X=P/v,W,G,J=0|Math.floor(X*M.pos);J>M.pos-1&&(J=M.pos-1),W=M.bag[J],G=M.sum;var q=0|256*W/G;q>255&&(q=255),d[P]=255&q}}this.addVbrFrame=function(M){var d=M.internal_flags,P=Tables.bitrate_table[M.version][d.bitrate_index];v_(d.VBR_seek_table.bag!=null),_(d.VBR_seek_table,P)};function A(M,d){var P=M[d+0]&255;return P<<=8,P|=M[d+1]&255,P<<=8,P|=M[d+2]&255,P<<=8,P|=M[d+3]&255,P}function a(M,d,P){M[d+0]=255&(P>>24&255),M[d+1]=255&(P>>16&255),M[d+2]=255&(P>>8&255),M[d+3]=255&(P&255)}function u(M,d,P){M[d+0]=255&(P>>8&255),M[d+1]=255&(P&255)}function x(M,d){return new String(M,d,D.length(),U).equals(D)||new String(M,d,w.length(),U).equals(w)}function T(M,d,P){return 255&(M<<d|P&~(-1<<d))}function V(M,d){var P=M.internal_flags;d[0]=T(d[0],8,255),d[1]=T(d[1],3,7),d[1]=T(d[1],1,M.out_samplerate<16e3?0:1),d[1]=T(d[1],1,M.version),d[1]=T(d[1],2,1),d[1]=T(d[1],1,M.error_protection?0:1),d[2]=T(d[2],4,P.bitrate_index),d[2]=T(d[2],2,P.samplerate_index),d[2]=T(d[2],1,0),d[2]=T(d[2],1,M.extension),d[3]=T(d[3],2,M.mode.ordinal()),d[3]=T(d[3],2,P.mode_ext),d[3]=T(d[3],1,M.copyright),d[3]=T(d[3],1,M.original),d[3]=T(d[3],2,M.emphasis),d[0]=255;var X=255&(d[1]&241),W;M.version==1?W=f:M.out_samplerate<16e3?W=H:W=S,M.VBR==rs.vbr_off&&(W=M.brate);var G;M.free_format?G=0:G=255&16*e.BitrateIndex(W,M.version,M.out_samplerate),M.version==1?(d[1]=255&(X|10),X=255&(d[2]&13),d[2]=255&(G|X)):(d[1]=255&(X|2),X=255&(d[2]&13),d[2]=255&(G|X))}this.getVbrTag=function(M){var d=new VBRTagData,P=0;d.flags=0;var X=M[P+1]>>3&1,W=M[P+2]>>2&3,G=M[P+3]>>6&3,J=M[P+2]>>4&15;if(J=Tables.bitrate_table[X][J],M[P+1]>>4==14?d.samprate=Tables.samplerate_table[2][W]:d.samprate=Tables.samplerate_table[X][W],X!=0?G!=3?P+=36:P+=21:G!=3?P+=21:P+=13,!x(M,P))return null;P+=4,d.hId=X;var q=d.flags=A(M,P);if(P+=4,q&r&&(d.frames=A(M,P),P+=4),q&i&&(d.bytes=A(M,P),P+=4),q&s){if(d.toc!=null)for(var y=0;y<v;y++)d.toc[y]=M[P+y];P+=v}d.vbrScale=-1,q&o&&(d.vbrScale=A(M,P),P+=4),d.headersize=(X+1)*72e3*J/d.samprate,P+=21;var h=M[P+0]<<4;h+=M[P+1]>>4;var m=(M[P+1]&15)<<8;return m+=M[P+2]&255,(h<0||h>3e3)&&(h=-1),(m<0||m>3e3)&&(m=-1),d.encDelay=h,d.encPadding=m,d},this.InitVbrTag=function(M){var d=M.internal_flags,P;M.version==1?P=f:M.out_samplerate<16e3?P=H:P=S,M.VBR==rs.vbr_off&&(P=M.brate);var X=(M.version+1)*72e3*P/M.out_samplerate,W=d.sideinfo_len+l;if(d.VBR_seek_table.TotalFrameSize=X,X<W||X>c){M.bWriteVbrTag=!1;return}d.VBR_seek_table.nVbrNumFrames=0,d.VBR_seek_table.nBytesWritten=0,d.VBR_seek_table.sum=0,d.VBR_seek_table.seen=0,d.VBR_seek_table.want=1,d.VBR_seek_table.pos=0,d.VBR_seek_table.bag==null&&(d.VBR_seek_table.bag=new int[400],d.VBR_seek_table.size=400);var G=na(c);V(M,G);for(var J=d.VBR_seek_table.TotalFrameSize,q=0;q<J;++q)n.add_dummy_byte(M,G[q]&255,1)};function I(M,d){var P=d^M;return d=d>>8^p[P&255],d}this.updateMusicCRC=function(M,d,P,X){for(var W=0;W<X;++W)M[0]=I(d[P+W],M[0])};function L(M,d,P,X,W){var G=M.internal_flags,J=0,q=M.encoder_delay,y=M.encoder_padding,h=100-10*M.VBR_q-M.quality,m=t.getLameVeryShortVersion(),E,j=0,$,ae=[1,5,3,2,4,0,3],z=0|(M.lowpassfreq/100+.5>255?255:M.lowpassfreq/100+.5),ee=0,le=0,ce=0,be=M.internal_flags.noise_shaping,ge=0,ve=0,pe=0,ye=0,je=0,pt=(M.exp_nspsytune&1)!=0,g=(M.exp_nspsytune&2)!=0,B=!1,me=!1,Se=M.internal_flags.nogap_total,Ie=M.internal_flags.nogap_current,Re=M.ATHtype,Te=0,Ae;switch(M.VBR){case vbr_abr:Ae=M.VBR_mean_bitrate_kbps;break;case vbr_off:Ae=M.brate;break;default:Ae=M.VBR_min_bitrate_kbps}switch(M.VBR.ordinal()<ae.length?E=ae[M.VBR.ordinal()]:E=0,$=16*j+E,G.findReplayGain&&(G.RadioGain>510&&(G.RadioGain=510),G.RadioGain<-510&&(G.RadioGain=-510),le=8192,le|=3072,G.RadioGain>=0?le|=G.RadioGain:(le|=512,le|=-G.RadioGain)),G.findPeakSample&&(ee=Math.abs(0|G.PeakSample/32767*Math.pow(2,23)+.5)),Se!=-1&&(Ie>0&&(me=!0),Ie<Se-1&&(B=!0)),Te=Re+((pt?1:0)<<4)+((g?1:0)<<5)+((B?1:0)<<6)+((me?1:0)<<7),h<0&&(h=0),M.mode){case MONO:ge=0;break;case STEREO:ge=1;break;case DUAL_CHANNEL:ge=2;break;case JOINT_STEREO:M.force_ms?ge=4:ge=3;break;case NOT_SET:default:ge=7;break}M.in_samplerate<=32e3?pe=0:M.in_samplerate==48e3?pe=2:M.in_samplerate>48e3?pe=3:pe=1,(M.short_blocks==b1.short_block_forced||M.short_blocks==b1.short_block_dispensed||M.lowpassfreq==-1&&M.highpassfreq==-1||M.scale_left<M.scale_right||M.scale_left>M.scale_right||M.disable_reservoir&&M.brate<320||M.noATH||M.ATHonly||Re==0||M.in_samplerate<=32e3)&&(ve=1),ye=be+(ge<<2)+(ve<<5)+(pe<<6),je=G.nMusicCRC,a(P,X+J,h),J+=4;for(var De=0;De<9;De++)P[X+J+De]=255&m.charAt(De);J+=9,P[X+J]=255&$,J++,P[X+J]=255&z,J++,a(P,X+J,ee),J+=4,u(P,X+J,le),J+=2,u(P,X+J,ce),J+=2,P[X+J]=255&Te,J++,Ae>=255?P[X+J]=255:P[X+J]=255&Ae,J++,P[X+J]=255&q>>4,P[X+J+1]=255&(q<<4)+(y>>8),P[X+J+2]=255&y,J+=3,P[X+J]=255&ye,J++,P[X+J++]=0,u(P,X+J,M.preset),J+=2,a(P,X+J,d),J+=4,u(P,X+J,je),J+=2;for(var Me=0;Me<J;Me++)W=I(P[X+Me],W);return u(P,X+J,W),J+=2,J}function te(M){M.seek(0);var d=na(10);M.readFully(d);var P;return new String(d,"ISO-8859-1").startsWith("ID3")?P=0:P=((d[6]&127)<<21|(d[7]&127)<<14|(d[8]&127)<<7|d[9]&127)+d.length,P}this.getLameTagFrame=function(M,d){var P=M.internal_flags;if(!M.bWriteVbrTag||P.Class_ID!=Lame.LAME_ID||P.VBR_seek_table.pos<=0)return 0;if(d.length<P.VBR_seek_table.TotalFrameSize)return P.VBR_seek_table.TotalFrameSize;b_.fill(d,0,P.VBR_seek_table.TotalFrameSize,0),V(M,d);var X=na(v);if(M.free_format)for(var W=1;W<v;++W)X[W]=255&255*W/100;else b(P.VBR_seek_table,X);var G=P.sideinfo_len;M.error_protection&&(G-=2),M.VBR==rs.vbr_off?(d[G++]=255&w.charAt(0),d[G++]=255&w.charAt(1),d[G++]=255&w.charAt(2),d[G++]=255&w.charAt(3)):(d[G++]=255&D.charAt(0),d[G++]=255&D.charAt(1),d[G++]=255&D.charAt(2),d[G++]=255&D.charAt(3)),a(d,G,r+i+s+o),G+=4,a(d,G,P.VBR_seek_table.nVbrNumFrames),G+=4;var J=P.VBR_seek_table.nBytesWritten+P.VBR_seek_table.TotalFrameSize;a(d,G,0|J),G+=4,h_.arraycopy(X,0,d,G,X.length),G+=X.length,M.error_protection&&n.CRC_writeheader(P,d);for(var q=0,W=0;W<G;W++)q=I(d[W],q);return G+=L(M,J,d,G,q),P.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(M,d){var P=M.internal_flags;if(P.VBR_seek_table.pos<=0||(d.seek(d.length()),d.length()==0))return-1;var X=te(d);d.seek(X);var W=na(c),G=getLameTagFrame(M,W);return G>W.length?-1:(G<1||d.write(W,0,G),0)}}var g_=Br,J0=at,v1=J0.new_byte,w_=J0.assert,x_=Bs(),y_=Jf,S_=Z0,k_=K0(),A_=f_,E_=Q0(),R_=d_,T_=Pr,M_=Ms();xt();var B_=m_,C_=g_;function D_(){this.setModules=function(e,n){}}function I_(){this.setModules=function(e,n,t){}}function O_(){}function P_(){this.setModules=function(e,n){}}function L_(e,n,t){arguments.length!=3&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),e=1,n=44100,t=128);var r=new x_,i=new D_,s=new S_,o=new M_,v=new y_,c=new k_,C=new A_,l=new C_,f=new B_,S=new P_,H=new R_,U=new E_,D=new I_,w=new O_;r.setModules(s,o,v,c,C,l,f,S,w),o.setModules(s,w,f,l),S.setModules(o,f),v.setModules(r),C.setModules(o,H,c,U),c.setModules(U,H,r.enc.psy),H.setModules(o),U.setModules(c),l.setModules(r,o,f),i.setModules(D,w),D.setModules(f,S,v);var p=r.lame_init();p.num_channels=e,p.in_samplerate=n,p.brate=t,p.mode=T_.STEREO,p.quality=3,p.bWriteVbrTag=!1,p.disable_reservoir=!0,p.write_id3tag_automatic=!1,r.lame_init_params(p);var _=1152,b=0|1.25*_+7200,A=v1(b);this.encodeBuffer=function(a,u){e==1&&(u=a),w_(a.length==u.length),a.length>_&&(_=a.length,b=0|1.25*_+7200,A=v1(b));var x=r.lame_encode_buffer(p,a,u,a.length,A,0,b);return new Int8Array(A.subarray(0,x))},this.flush=function(){var a=r.lame_encode_flush(p,A,0,b);return new Int8Array(A.subarray(0,a))}}function rn(){this.dataOffset=0,this.dataLen=0,this.channels=0,this.sampleRate=0}function ga(e){return e.charCodeAt(0)<<24|e.charCodeAt(1)<<16|e.charCodeAt(2)<<8|e.charCodeAt(3)}rn.RIFF=ga("RIFF");rn.WAVE=ga("WAVE");rn.fmt_=ga("fmt ");rn.data=ga("data");rn.readHeader=function(e){var n=new rn,t=e.getUint32(0,!1);if(rn.RIFF==t&&(e.getUint32(4,!0),rn.WAVE==e.getUint32(8,!1)&&rn.fmt_==e.getUint32(12,!1))){var r=e.getUint32(16,!0),i=20;switch(r){case 16:case 18:n.channels=e.getUint16(i+2,!0),n.sampleRate=e.getUint32(i+4,!0);break;default:throw"extended fmt chunk not implemented"}i+=r;for(var s=rn.data,o=0;s!=t&&(t=e.getUint32(i,!1),o=e.getUint32(i+4,!0),s!=t);)i+=o+8;return n.dataLen=o,n.dataOffset=i+8,n}};var N_=L_;class g1{constructor(){}static async createFullAudioBuffer(n){const t=[];let r=0;for(let s=0;s<n.length;s++){ht.setStatusMsg(`${s+1}번째 노래를 변환중 입니다...`);const o=n[s],v=_t.info[o],c=await i(s,v);t.push(c);let C,l;s===0?(C=0,l=c.duration+At.padSecond/2):s!==0?(C=r+At.padSecond/2,l=r+c.duration+At.padSecond/2):s===n.length-1&&(C=r+At.padSecond/2,l=r+c.duration),C=Math.round(C*10)/10,l=Math.round(l*10)/10,_t.info[o].startSecond=C,_t.info[o].endSecond=l,r+=c.duration}return gr.concat(t);async function i(s,o){return new Promise((v,c)=>{setTimeout(()=>{const C=o.audioData,l=o.audioStart,f=o.audioEnd,S=C.duration,H=gr.slice(C,Math.round(l*At.sampleRate),Math.round((S-f)*At.sampleRate)),U=Xe.calculateGain(H),D=new AudioContext().createBufferSource();D.buffer=H;const w=H.numberOfChannels,p=H.length,_=1,b=0;for(let a=0;a<w;a++){const u=H.getChannelData(a);for(let x=0;x<p;x++){let T=u[x],V=Math.abs(T)*U;V=Math.min(_,V),V=Math.max(b,V),V=T<0?-V:V,u[x]=V}}const A=D.buffer;if(s!==0){const a=gr.create(Math.round(At.padSecond*At.sampleRate),At.channels,At.sampleRate);gr.fill(a,0);const u=gr.concat([a,A]);v(u)}else v(A)},0)})}}static async createMP3Blob(n){const t=new N_(At.channels,At.sampleRate,At.kbps),r=n.getChannelData(0),i=n.getChannelData(1),s=[],o=At.sampleBlockSize;for(let l=0;l<n.length;l+=o){if(l%1e3===0){const U=Math.round(l/n.length*100);ht.setStatusMsg(`데이터를 mp3파일로 변환 중입니다.<br>이 페이지를 계속 열어두세요.<br>${U}% 진행 중...`)}const f=r.subarray(l,l+o),S=i.subarray(l,l+o),H=await C(t,f,S,o);H.length>0&&s.push(H)}const v=t.flush();v.length>0&&s.push(v);const c=new Blob(s,{type:"audio/mp3"});return ht.setStatusMsg("변환이 완료되었습니다..."),c;async function C(l,f,S,H){return new Promise((U,D)=>{setTimeout(()=>{const w=new Int16Array(H),p=new Int16Array(H);for(let b=0;b<H;b++)w[b]=f[b]*(Math.pow(2,15)-1),p[b]=S[b]*(Math.pow(2,15)-1);const _=l.encodeBuffer(w,p);U(_)},0)})}}}const Vn=class Vn{constructor(){}static addListener(){this.btn.addEventListener("click",()=>Vn.fileInput.click()),this.fileInput.addEventListener("change",n=>Vn.upload(n))}static async upload(n){if(this.isUploading||sr.isExporting)return;ht.enable(),this.disableUploadBtn(),sr.disableExportBtn();const t=n.target.files,r=_t.info.map(o=>o.fileName);for(let o of t){const v=Array.from(t).indexOf(o);ht.setStatusMsg(`${v+1}번째 노래를 업로드 하는 중입니다...`);const c=o.name.replace(".mp3","");if(r.includes(c)){const C=r.indexOf(c),l=await i(o);await Xe.setSource(C,l),s(C,o.name)}}ht.disable(),this.enableUploadBtn(),sr.enableExportBtn();async function i(o){return new Promise((v,c)=>{setTimeout(()=>{const C=new FileReader;C.onload=l=>{v(l.target.result)},C.readAsArrayBuffer(o)})},0)}function s(o,v){const c=document.querySelector(`[data-id="${o}"] .music-file-name`);c.textContent=v}}static disableUploadBtn(){this.isUploading=!0,this.btn.classList.add("disabled-click")}static enableUploadBtn(){this.isUploading=!1,this.btn.classList.remove("disabled-click")}};We(Vn,"btn",document.querySelector("#batch-upload")),We(Vn,"fileInput",document.querySelector("#batch-file-input")),We(Vn,"isUploading",!1);let ar=Vn;const nr=class nr{constructor(){}static addListener(){this.btn.addEventListener("click",()=>nr.export())}static async export(){if(this.isExporting||ar.isUploading)return;if(_t.info===null)return alert("플레이리스트 정보가 있는 파일을 업로드해주세요.");if(!nr.checkAudioDataExist())return alert("모든 노래의 파일을 업로드해주세요.");ht.enable(),this.disableExportBtn(),ar.disableUploadBtn(),ht.setStatusMsg("노래를 변환하는 중입니다...");const t=this.getAudioOrder(),r=await g1.createFullAudioBuffer(t),i=await g1.createMP3Blob(r);ht.disable(),this.enableExportBtn(),ar.enableUploadBtn();const s=this.cleanInfo(t);ht.setStatusMsg("파일을 압축하는 중입니다...");const o=await this.createZipFile(i,s),v=ht.jsonFileName.replace(".json",".zip"),c=URL.createObjectURL(o),C=document.createElement("a");C.href=c,C.download=v,C.click(),URL.revokeObjectURL(c)}static checkAudioDataExist(){return _t.info.map(r=>r.audioData).every(r=>r!==null)}static getAudioOrder(){const n=document.querySelectorAll(".playlist-item");return Array.from(n).map(r=>parseInt(r.dataset.id))}static disableExportBtn(){this.btn.classList.add("disabled-click"),this.exporting=!0}static enableExportBtn(){this.btn.classList.remove("disabled-click"),this.exporting=!1}static cleanInfo(n){const t=Array.from(Object.keys(w1));return n.map(i=>{const s=_t.info[i],o={};for(let v of Object.keys(s))t.includes(v)||(o[v]=s[v]);return o})}static async createZipFile(n,t){return new Promise((r,i)=>{setTimeout(async()=>{const s=ht.jsonFileName.replace(".json",""),o=new c2,v=new f2(JSON.stringify(t)),c=new s0(n),C=new C2(o);await C.add(`${s}.json`,v),await C.add(`${s}.mp3`,c),await C.close();const l=await o.getData();r(l)},0)})}};We(nr,"btn",document.querySelector("#export-mp3")),We(nr,"isExporting",!1);let sr=nr;function F_(){ht.addListener(),gt.addListeners(),on.initHeight(),on.addListener(),qn.addListener(),as.addListener(),An.addListener(),sr.addListener(),ar.addListener()}F_();
